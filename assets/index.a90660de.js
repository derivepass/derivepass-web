(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerpolicy&&(i.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?i.credentials="include":s.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function G(){}function Nr(t,e){for(const n in e)t[n]=e[n];return t}function hi(t){return t&&typeof t=="object"&&typeof t.then=="function"}function ks(t){return t()}function zr(){return Object.create(null)}function mt(t){t.forEach(ks)}function Hn(t){return typeof t=="function"}function Re(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}let pn;function As(t,e){return pn||(pn=document.createElement("a")),pn.href=e,t===pn.href}function yi(t){return Object.keys(t).length===0}function $r(t,...e){if(t==null)return G;const n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function nt(t,e,n){t.$$.on_destroy.push($r(e,n))}function Yn(t,e,n,r){if(t){const s=Cs(t,e,n,r);return t[0](s)}}function Cs(t,e,n,r){return t[1]&&r?Nr(n.ctx.slice(),t[1](r(e))):n.ctx}function Vn(t,e,n,r){if(t[2]&&r){const s=t[2](r(n));if(e.dirty===void 0)return s;if(typeof s=="object"){const i=[],o=Math.max(e.dirty.length,s.length);for(let a=0;a<o;a+=1)i[a]=e.dirty[a]|s[a];return i}return e.dirty|s}return e.dirty}function Jn(t,e,n,r,s,i){if(s){const o=Cs(e,n,r,i);t.p(o,s)}}function Kn(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let r=0;r<n;r++)e[r]=-1;return e}return-1}function _i(t){const e={};for(const n in t)e[n]=!0;return e}function Ir(t,e,n){return t.set(n),e}function Ht(t){return t&&Hn(t.destroy)?t.destroy:G}function E(t,e){t.appendChild(e)}function A(t,e,n){t.insertBefore(e,n||null)}function k(t){t.parentNode&&t.parentNode.removeChild(t)}function N(t){return document.createElement(t)}function Wr(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function q(t){return document.createTextNode(t)}function F(){return q(" ")}function Tt(){return q("")}function Je(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function tt(t){return function(e){return e.preventDefault(),t.call(this,e)}}function b(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function gi(t){return Array.from(t.childNodes)}function st(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function Br(t,e){t.value=e==null?"":e}function Es(t,e,n,r){n===null?t.style.removeProperty(e):t.style.setProperty(e,n,r?"important":"")}function mn(t,e,n){t.classList[n?"add":"remove"](e)}function bi(t,e,{bubbles:n=!1,cancelable:r=!1}={}){const s=document.createEvent("CustomEvent");return s.initCustomEvent(t,n,r,e),s}function On(t,e){return new t(e)}let rn;function yt(t){rn=t}function dn(){if(!rn)throw new Error("Function called outside component initialization");return rn}function vi(t){dn().$$.on_mount.push(t)}function wi(t){dn().$$.after_update.push(t)}function jr(t){dn().$$.on_destroy.push(t)}function Ss(){const t=dn();return(e,n,{cancelable:r=!1}={})=>{const s=t.$$.callbacks[e];if(s){const i=bi(e,n,{cancelable:r});return s.slice().forEach(o=>{o.call(t,i)}),!i.defaultPrevented}return!0}}function ee(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach(r=>r.call(this,e))}const Qt=[],Nn=[],An=[],pr=[],xs=Promise.resolve();let mr=!1;function Ts(){mr||(mr=!0,xs.then(Lr))}function Mr(){return Ts(),xs}function hr(t){An.push(t)}function ki(t){pr.push(t)}const ar=new Set;let hn=0;function Lr(){const t=rn;do{for(;hn<Qt.length;){const e=Qt[hn];hn++,yt(e),Ai(e.$$)}for(yt(null),Qt.length=0,hn=0;Nn.length;)Nn.pop()();for(let e=0;e<An.length;e+=1){const n=An[e];ar.has(n)||(ar.add(n),n())}An.length=0}while(Qt.length);for(;pr.length;)pr.pop()();mr=!1,ar.clear(),yt(t)}function Ai(t){if(t.fragment!==null){t.update(),mt(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(hr)}}const Cn=new Set;let It;function Ke(){It={r:0,c:[],p:It}}function Xe(){It.r||mt(It.c),It=It.p}function L(t,e){t&&t.i&&(Cn.delete(t),t.i(e))}function Z(t,e,n,r){if(t&&t.o){if(Cn.has(t))return;Cn.add(t),It.c.push(()=>{Cn.delete(t),r&&(n&&t.d(1),r())}),t.o(e)}else r&&r()}function Ci(t,e){const n=e.token={};function r(s,i,o,a){if(e.token!==n)return;e.resolved=a;let l=e.ctx;o!==void 0&&(l=l.slice(),l[o]=a);const c=s&&(e.current=s)(l);let u=!1;e.block&&(e.blocks?e.blocks.forEach((f,d)=>{d!==i&&f&&(Ke(),Z(f,1,1,()=>{e.blocks[d]===f&&(e.blocks[d]=null)}),Xe())}):e.block.d(1),c.c(),L(c,1),c.m(e.mount(),e.anchor),u=!0),e.block=c,e.blocks&&(e.blocks[i]=c),u&&Lr()}if(hi(t)){const s=dn();if(t.then(i=>{yt(s),r(e.then,1,e.value,i),yt(null)},i=>{if(yt(s),r(e.catch,2,e.error,i),yt(null),!e.hasCatch)throw i}),e.current!==e.pending)return r(e.pending,0),!0}else{if(e.current!==e.then)return r(e.then,1,e.value,t),!0;e.resolved=t}}function Ei(t,e,n){const r=e.slice(),{resolved:s}=t;t.current===t.then&&(r[t.value]=s),t.current===t.catch&&(r[t.error]=s),t.block.p(r,n)}function Si(t,e){Z(t,1,1,()=>{e.delete(t.key)})}function xi(t,e,n,r,s,i,o,a,l,c,u,f){let d=t.length,m=i.length,p=d;const y={};for(;p--;)y[t[p].key]=p;const g=[],C=new Map,M=new Map;for(p=m;p--;){const v=f(s,i,p),D=n(v);let R=o.get(D);R?r&&R.p(v,e):(R=c(D,v),R.c()),C.set(D,g[p]=R),D in y&&M.set(D,Math.abs(p-y[D]))}const P=new Set,_=new Set;function I(v){L(v,1),v.m(a,u),o.set(v.key,v),u=v.first,m--}for(;d&&m;){const v=g[m-1],D=t[d-1],R=v.key,J=D.key;v===D?(u=v.first,d--,m--):C.has(J)?!o.has(R)||P.has(R)?I(v):_.has(J)?d--:M.get(R)>M.get(J)?(_.add(R),I(v)):(P.add(J),d--):(l(D,o),d--)}for(;d--;){const v=t[d];C.has(v.key)||l(v,o)}for(;m;)I(g[m-1]);return g}function Os(t,e){const n={},r={},s={$$scope:1};let i=t.length;for(;i--;){const o=t[i],a=e[i];if(a){for(const l in o)l in a||(r[l]=1);for(const l in a)s[l]||(n[l]=a[l],s[l]=1);t[i]=a}else for(const l in o)s[l]=1}for(const o in r)o in n||(n[o]=void 0);return n}function Ns(t){return typeof t=="object"&&t!==null?t:{}}function Ti(t,e,n){const r=t.$$.props[e];r!==void 0&&(t.$$.bound[r]=n,n(t.$$.ctx[r]))}function ue(t){t&&t.c()}function oe(t,e,n,r){const{fragment:s,after_update:i}=t.$$;s&&s.m(e,n),r||hr(()=>{const o=t.$$.on_mount.map(ks).filter(Hn);t.$$.on_destroy?t.$$.on_destroy.push(...o):mt(o),t.$$.on_mount=[]}),i.forEach(hr)}function ae(t,e){const n=t.$$;n.fragment!==null&&(mt(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function Oi(t,e){t.$$.dirty[0]===-1&&(Qt.push(t),Ts(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function ze(t,e,n,r,s,i,o,a=[-1]){const l=rn;yt(t);const c=t.$$={fragment:null,ctx:[],props:i,update:G,not_equal:s,bound:zr(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(l?l.$$.context:[])),callbacks:zr(),dirty:a,skip_bound:!1,root:e.target||l.$$.root};o&&o(c.root);let u=!1;if(c.ctx=n?n(t,e.props||{},(f,d,...m)=>{const p=m.length?m[0]:d;return c.ctx&&s(c.ctx[f],c.ctx[f]=p)&&(!c.skip_bound&&c.bound[f]&&c.bound[f](p),u&&Oi(t,f)),d}):[],c.update(),u=!0,mt(c.before_update),c.fragment=r?r(c.ctx):!1,e.target){if(e.hydrate){const f=gi(e.target);c.fragment&&c.fragment.l(f),f.forEach(k)}else c.fragment&&c.fragment.c();e.intro&&L(t.$$.fragment),oe(t,e.target,e.anchor,e.customElement),Lr()}yt(l)}class We{$destroy(){ae(this,1),this.$destroy=G}$on(e,n){if(!Hn(n))return G;const r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(n),()=>{const s=r.indexOf(n);s!==-1&&r.splice(s,1)}}$set(e){this.$$set&&!yi(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}function lr(t){if(!t)throw Error("Parameter args is required");if(!t.component==!t.asyncComponent)throw Error("One and only one of component and asyncComponent is required");if(t.component&&(t.asyncComponent=()=>Promise.resolve(t.component)),typeof t.asyncComponent!="function")throw Error("Parameter asyncComponent must be a function");if(t.conditions){Array.isArray(t.conditions)||(t.conditions=[t.conditions]);for(let n=0;n<t.conditions.length;n++)if(!t.conditions[n]||typeof t.conditions[n]!="function")throw Error("Invalid parameter conditions["+n+"]")}return t.loadingComponent&&(t.asyncComponent.loading=t.loadingComponent,t.asyncComponent.loadingParams=t.loadingParams||void 0),{component:t.asyncComponent,userData:t.userData,conditions:t.conditions&&t.conditions.length?t.conditions:void 0,props:t.props&&Object.keys(t.props).length?t.props:{},_sveltesparouter:!0}}const Pt=[];function $s(t,e){return{subscribe:vt(t,e).subscribe}}function vt(t,e=G){let n;const r=new Set;function s(a){if(Re(t,a)&&(t=a,n)){const l=!Pt.length;for(const c of r)c[1](),Pt.push(c,t);if(l){for(let c=0;c<Pt.length;c+=2)Pt[c][0](Pt[c+1]);Pt.length=0}}}function i(a){s(a(t))}function o(a,l=G){const c=[a,l];return r.add(c),r.size===1&&(n=e(s)||G),a(t),()=>{r.delete(c),r.size===0&&(n(),n=null)}}return{set:s,update:i,subscribe:o}}function Xn(t,e,n){const r=!Array.isArray(t),s=r?[t]:t,i=e.length<2;return $s(n,o=>{let a=!1;const l=[];let c=0,u=G;const f=()=>{if(c)return;u();const m=e(r?l[0]:l,o);i?o(m):u=Hn(m)?m:G},d=s.map((m,p)=>$r(m,y=>{l[p]=y,c&=~(1<<p),a&&f()},()=>{c|=1<<p}));return a=!0,f(),function(){mt(d),u()}})}function Is(t,e){if(t instanceof RegExp)return{keys:!1,pattern:t};var n,r,s,i,o=[],a="",l=t.split("/");for(l[0]||l.shift();s=l.shift();)n=s[0],n==="*"?(o.push("wild"),a+="/(.*)"):n===":"?(r=s.indexOf("?",1),i=s.indexOf(".",1),o.push(s.substring(1,~r?r:~i?i:s.length)),a+=!!~r&&!~i?"(?:/([^/]+?))?":"/([^/]+?)",~i&&(a+=(~r?"?":"")+"\\"+s.substring(i))):a+="/"+s;return{keys:o,pattern:new RegExp("^"+a+(e?"(?=$|/)":"/?$"),"i")}}function Ni(t){let e,n,r;const s=[t[2]];var i=t[0];function o(a){let l={};for(let c=0;c<s.length;c+=1)l=Nr(l,s[c]);return{props:l}}return i&&(e=On(i,o()),e.$on("routeEvent",t[7])),{c(){e&&ue(e.$$.fragment),n=Tt()},m(a,l){e&&oe(e,a,l),A(a,n,l),r=!0},p(a,l){const c=l&4?Os(s,[Ns(a[2])]):{};if(i!==(i=a[0])){if(e){Ke();const u=e;Z(u.$$.fragment,1,0,()=>{ae(u,1)}),Xe()}i?(e=On(i,o()),e.$on("routeEvent",a[7]),ue(e.$$.fragment),L(e.$$.fragment,1),oe(e,n.parentNode,n)):e=null}else i&&e.$set(c)},i(a){r||(e&&L(e.$$.fragment,a),r=!0)},o(a){e&&Z(e.$$.fragment,a),r=!1},d(a){a&&k(n),e&&ae(e,a)}}}function $i(t){let e,n,r;const s=[{params:t[1]},t[2]];var i=t[0];function o(a){let l={};for(let c=0;c<s.length;c+=1)l=Nr(l,s[c]);return{props:l}}return i&&(e=On(i,o()),e.$on("routeEvent",t[6])),{c(){e&&ue(e.$$.fragment),n=Tt()},m(a,l){e&&oe(e,a,l),A(a,n,l),r=!0},p(a,l){const c=l&6?Os(s,[l&2&&{params:a[1]},l&4&&Ns(a[2])]):{};if(i!==(i=a[0])){if(e){Ke();const u=e;Z(u.$$.fragment,1,0,()=>{ae(u,1)}),Xe()}i?(e=On(i,o()),e.$on("routeEvent",a[6]),ue(e.$$.fragment),L(e.$$.fragment,1),oe(e,n.parentNode,n)):e=null}else i&&e.$set(c)},i(a){r||(e&&L(e.$$.fragment,a),r=!0)},o(a){e&&Z(e.$$.fragment,a),r=!1},d(a){a&&k(n),e&&ae(e,a)}}}function Ii(t){let e,n,r,s;const i=[$i,Ni],o=[];function a(l,c){return l[1]?0:1}return e=a(t),n=o[e]=i[e](t),{c(){n.c(),r=Tt()},m(l,c){o[e].m(l,c),A(l,r,c),s=!0},p(l,[c]){let u=e;e=a(l),e===u?o[e].p(l,c):(Ke(),Z(o[u],1,1,()=>{o[u]=null}),Xe(),n=o[e],n?n.p(l,c):(n=o[e]=i[e](l),n.c()),L(n,1),n.m(r.parentNode,r))},i(l){s||(L(n),s=!0)},o(l){Z(n),s=!1},d(l){o[e].d(l),l&&k(r)}}}function Hr(){const t=window.location.href.indexOf("#/");let e=t>-1?window.location.href.substr(t+1):"/";const n=e.indexOf("?");let r="";return n>-1&&(r=e.substr(n+1),e=e.substr(0,n)),{location:e,querystring:r}}const Gn=$s(null,function(e){e(Hr());const n=()=>{e(Hr())};return window.addEventListener("hashchange",n,!1),function(){window.removeEventListener("hashchange",n,!1)}});Xn(Gn,t=>t.location);Xn(Gn,t=>t.querystring);const Yr=vt(void 0);async function Ut(t){if(!t||t.length<1||t.charAt(0)!="/"&&t.indexOf("#/")!==0)throw Error("Invalid parameter location");await Mr(),history.replaceState({...history.state,__svelte_spa_router_scrollX:window.scrollX,__svelte_spa_router_scrollY:window.scrollY},void 0),window.location.hash=(t.charAt(0)=="#"?"":"#")+t}async function Qn(t){if(!t||t.length<1||t.charAt(0)!="/"&&t.indexOf("#/")!==0)throw Error("Invalid parameter location");await Mr();const e=(t.charAt(0)=="#"?"":"#")+t;try{const n={...history.state};delete n.__svelte_spa_router_scrollX,delete n.__svelte_spa_router_scrollY,window.history.replaceState(n,void 0,e)}catch{console.warn("Caught exception while replacing the current page. If you're running this in the Svelte REPL, please note that the `replace` method might not work in this environment.")}window.dispatchEvent(new Event("hashchange"))}function Rr(t,e){if(e=Jr(e),!t||!t.tagName||t.tagName.toLowerCase()!="a")throw Error('Action "link" can only be used with <a> tags');return Vr(t,e),{update(n){n=Jr(n),Vr(t,n)}}}function ji(t){t?window.scrollTo(t.__svelte_spa_router_scrollX,t.__svelte_spa_router_scrollY):window.scrollTo(0,0)}function Vr(t,e){let n=e.href||t.getAttribute("href");if(n&&n.charAt(0)=="/")n="#"+n;else if(!n||n.length<2||n.slice(0,2)!="#/")throw Error('Invalid value for "href" attribute: '+n);t.setAttribute("href",n),t.addEventListener("click",r=>{r.preventDefault(),e.disabled||Mi(r.currentTarget.getAttribute("href"))})}function Jr(t){return t&&typeof t=="string"?{href:t}:t||{}}function Mi(t){history.replaceState({...history.state,__svelte_spa_router_scrollX:window.scrollX,__svelte_spa_router_scrollY:window.scrollY},void 0),window.location.hash=t}function Li(t,e,n){let{routes:r={}}=e,{prefix:s=""}=e,{restoreScrollState:i=!1}=e;class o{constructor(I,v){if(!v||typeof v!="function"&&(typeof v!="object"||v._sveltesparouter!==!0))throw Error("Invalid component object");if(!I||typeof I=="string"&&(I.length<1||I.charAt(0)!="/"&&I.charAt(0)!="*")||typeof I=="object"&&!(I instanceof RegExp))throw Error('Invalid value for "path" argument - strings must start with / or *');const{pattern:D,keys:R}=Is(I);this.path=I,typeof v=="object"&&v._sveltesparouter===!0?(this.component=v.component,this.conditions=v.conditions||[],this.userData=v.userData,this.props=v.props||{}):(this.component=()=>Promise.resolve(v),this.conditions=[],this.props={}),this._pattern=D,this._keys=R}match(I){if(s){if(typeof s=="string")if(I.startsWith(s))I=I.substr(s.length)||"/";else return null;else if(s instanceof RegExp){const J=I.match(s);if(J&&J[0])I=I.substr(J[0].length)||"/";else return null}}const v=this._pattern.exec(I);if(v===null)return null;if(this._keys===!1)return v;const D={};let R=0;for(;R<this._keys.length;){try{D[this._keys[R]]=decodeURIComponent(v[R+1]||"")||null}catch{D[this._keys[R]]=null}R++}return D}async checkConditions(I){for(let v=0;v<this.conditions.length;v++)if(!await this.conditions[v](I))return!1;return!0}}const a=[];r instanceof Map?r.forEach((_,I)=>{a.push(new o(I,_))}):Object.keys(r).forEach(_=>{a.push(new o(_,r[_]))});let l=null,c=null,u={};const f=Ss();async function d(_,I){await Mr(),f(_,I)}let m=null,p=null;i&&(p=_=>{_.state&&(_.state.__svelte_spa_router_scrollY||_.state.__svelte_spa_router_scrollX)?m=_.state:m=null},window.addEventListener("popstate",p),wi(()=>{ji(m)}));let y=null,g=null;const C=Gn.subscribe(async _=>{y=_;let I=0;for(;I<a.length;){const v=a[I].match(_.location);if(!v){I++;continue}const D={route:a[I].path,location:_.location,querystring:_.querystring,userData:a[I].userData,params:v&&typeof v=="object"&&Object.keys(v).length?v:null};if(!await a[I].checkConditions(D)){n(0,l=null),g=null,d("conditionsFailed",D);return}d("routeLoading",Object.assign({},D));const R=a[I].component;if(g!=R){R.loading?(n(0,l=R.loading),g=R,n(1,c=R.loadingParams),n(2,u={}),d("routeLoaded",Object.assign({},D,{component:l,name:l.name,params:c}))):(n(0,l=null),g=null);const J=await R();if(_!=y)return;n(0,l=J&&J.default||J),g=R}v&&typeof v=="object"&&Object.keys(v).length?n(1,c=v):n(1,c=null),n(2,u=a[I].props),d("routeLoaded",Object.assign({},D,{component:l,name:l.name,params:c})).then(()=>{Yr.set(c)});return}n(0,l=null),g=null,Yr.set(void 0)});jr(()=>{C(),p&&window.removeEventListener("popstate",p)});function M(_){ee.call(this,t,_)}function P(_){ee.call(this,t,_)}return t.$$set=_=>{"routes"in _&&n(3,r=_.routes),"prefix"in _&&n(4,s=_.prefix),"restoreScrollState"in _&&n(5,i=_.restoreScrollState)},t.$$.update=()=>{t.$$.dirty&32&&(history.scrollRestoration=i?"manual":"auto")},[l,c,u,r,s,i,M,P]}class Ri extends We{constructor(e){super(),ze(this,e,Li,Ii,Re,{routes:3,prefix:4,restoreScrollState:5})}}let ce,En=new Uint8Array;function js(){return En.byteLength===0&&(En=new Uint8Array(ce.memory.buffer)),En}let Ge=0;function rt(t,e){const n=e(t.length*1);return js().set(t,n/1),Ge=t.length,n}let Sn=new Int32Array;function St(){return Sn.byteLength===0&&(Sn=new Int32Array(ce.memory.buffer)),Sn}function er(t,e){return js().subarray(t/1,t/1+e)}function Ms(t,e,n,r,s,i){try{const c=ce.__wbindgen_add_to_stack_pointer(-16),u=rt(r,ce.__wbindgen_malloc),f=Ge,d=rt(s,ce.__wbindgen_malloc),m=Ge;ce.derive(c,t,e,n,u,f,d,m,i);var o=St()[c/4+0],a=St()[c/4+1],l=er(o,a).slice();return ce.__wbindgen_free(o,a*1),l}finally{ce.__wbindgen_add_to_stack_pointer(16)}}function Zi(t,e,n,r){try{const a=ce.__wbindgen_add_to_stack_pointer(-16),l=rt(t,ce.__wbindgen_malloc),c=Ge,u=rt(e,ce.__wbindgen_malloc),f=Ge,d=rt(n,ce.__wbindgen_malloc),m=Ge,p=rt(r,ce.__wbindgen_malloc),y=Ge;ce.encrypt(a,l,c,u,f,d,m,p,y);var s=St()[a/4+0],i=St()[a/4+1],o=er(s,i).slice();return ce.__wbindgen_free(s,i*1),o}finally{ce.__wbindgen_add_to_stack_pointer(16)}}function Ls(t,e,n){try{const i=ce.__wbindgen_add_to_stack_pointer(-16),o=rt(t,ce.__wbindgen_malloc),a=Ge,l=rt(e,ce.__wbindgen_malloc),c=Ge,u=rt(n,ce.__wbindgen_malloc),f=Ge;ce.decrypt(i,o,a,l,c,u,f);var r=St()[i/4+0],s=St()[i/4+1];let d;return r!==0&&(d=er(r,s).slice(),ce.__wbindgen_free(r,s*1)),d}finally{ce.__wbindgen_add_to_stack_pointer(16)}}function Pi(t,e){try{const s=ce.__wbindgen_add_to_stack_pointer(-16),i=rt(t,ce.__wbindgen_malloc),o=Ge,a=rt(e,ce.__wbindgen_malloc),l=Ge;ce.decrypt_legacy(s,i,o,a,l);var n=St()[s/4+0],r=St()[s/4+1];let c;return n!==0&&(c=er(n,r).slice(),ce.__wbindgen_free(n,r*1)),c}finally{ce.__wbindgen_add_to_stack_pointer(16)}}async function Di(t,e){if(typeof Response=="function"&&t instanceof Response){if(typeof WebAssembly.instantiateStreaming=="function")try{return await WebAssembly.instantiateStreaming(t,e)}catch(r){if(t.headers.get("Content-Type")!="application/wasm")console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",r);else throw r}const n=await t.arrayBuffer();return await WebAssembly.instantiate(n,e)}else{const n=await WebAssembly.instantiate(t,e);return n instanceof WebAssembly.Instance?{instance:n,module:t}:n}}function Fi(){const t={};return t.wbg={},t}function Ui(t,e){return ce=t.exports,Rs.__wbindgen_wasm_module=e,Sn=new Int32Array,En=new Uint8Array,ce}async function Rs(t){typeof t>"u"&&(t="/assets/scrypt_crate_bg.wasm");const e=Fi();(typeof t=="string"||typeof Request=="function"&&t instanceof Request||typeof URL=="function"&&t instanceof URL)&&(t=fetch(t));const{instance:n,module:r}=await Di(await t,e);return Ui(n,r)}function yr(t){if(/\s/.test(t))throw new Error("Can't contain whitespace");return t=t.replace(/(\w)-(\w)/g,(e,n,r)=>{const s=n.charCodeAt(0),i=r.charCodeAt(0);if(n.length!==1||s>255)throw new Error(`Invalid starting character in range "${e}"`);if(r.length!==1||i>255)throw new Error(`Invalid ending character in range "${e}"`);if(s>i)throw new Error(`Invalid range "${e}"`);let o="";for(let a=s;a<=i;a++)o+=String.fromCharCode(a);return o}),t.replace(/[^\\]-|[^\\]-\W|^-\W|^-\w?/,e=>{throw new Error(`Unterminated range "${e}"`)}),t=t.replace(/\\(.)/g,"$1"),Array.from(new Set(t.split(""))).sort()}function Kr(t){try{return yr(t),!0}catch{return!1}}var pe;(function(t){t.assertEqual=s=>s;function e(s){}t.assertIs=e;function n(s){throw new Error}t.assertNever=n,t.arrayToEnum=s=>{const i={};for(const o of s)i[o]=o;return i},t.getValidEnumValues=s=>{const i=t.objectKeys(s).filter(a=>typeof s[s[a]]!="number"),o={};for(const a of i)o[a]=s[a];return t.objectValues(o)},t.objectValues=s=>t.objectKeys(s).map(function(i){return s[i]}),t.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const i=[];for(const o in s)Object.prototype.hasOwnProperty.call(s,o)&&i.push(o);return i},t.find=(s,i)=>{for(const o of s)if(i(o))return o},t.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&isFinite(s)&&Math.floor(s)===s;function r(s,i=" | "){return s.map(o=>typeof o=="string"?`'${o}'`:o).join(i)}t.joinValues=r,t.jsonStringifyReplacer=(s,i)=>typeof i=="bigint"?i.toString():i})(pe||(pe={}));const j=pe.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),At=t=>{switch(typeof t){case"undefined":return j.undefined;case"string":return j.string;case"number":return isNaN(t)?j.nan:j.number;case"boolean":return j.boolean;case"function":return j.function;case"bigint":return j.bigint;case"object":return Array.isArray(t)?j.array:t===null?j.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?j.promise:typeof Map<"u"&&t instanceof Map?j.map:typeof Set<"u"&&t instanceof Set?j.set:typeof Date<"u"&&t instanceof Date?j.date:j.object;default:return j.unknown}},$=pe.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of"]),qi=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class _t extends Error{constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){const n=e||function(i){return i.message},r={_errors:[]},s=i=>{for(const o of i.issues)if(o.code==="invalid_union")o.unionErrors.map(s);else if(o.code==="invalid_return_type")s(o.returnTypeError);else if(o.code==="invalid_arguments")s(o.argumentsError);else if(o.path.length===0)r._errors.push(n(o));else{let a=r,l=0;for(;l<o.path.length;){const c=o.path[l];l===o.path.length-1?(a[c]=a[c]||{_errors:[]},a[c]._errors.push(n(o))):a[c]=a[c]||{_errors:[]},a=a[c],l++}}};return s(this),r}toString(){return this.message}get message(){return JSON.stringify(this.issues,pe.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},r=[];for(const s of this.issues)s.path.length>0?(n[s.path[0]]=n[s.path[0]]||[],n[s.path[0]].push(e(s))):r.push(e(s));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}_t.create=t=>new _t(t);const sn=(t,e)=>{let n;switch(t.code){case $.invalid_type:t.received===j.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case $.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,pe.jsonStringifyReplacer)}`;break;case $.unrecognized_keys:n=`Unrecognized key(s) in object: ${pe.joinValues(t.keys,", ")}`;break;case $.invalid_union:n="Invalid input";break;case $.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${pe.joinValues(t.options)}`;break;case $.invalid_enum_value:n=`Invalid enum value. Expected ${pe.joinValues(t.options)}, received '${t.received}'`;break;case $.invalid_arguments:n="Invalid function arguments";break;case $.invalid_return_type:n="Invalid function return type";break;case $.invalid_date:n="Invalid date";break;case $.invalid_string:typeof t.validation=="object"?"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:pe.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case $.too_small:t.type==="array"?n=`Array must contain ${t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be greater than ${t.inclusive?"or equal to ":""}${t.minimum}`:t.type==="date"?n=`Date must be greater than ${t.inclusive?"or equal to ":""}${new Date(t.minimum)}`:n="Invalid input";break;case $.too_big:t.type==="array"?n=`Array must contain ${t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be less than ${t.inclusive?"or equal to ":""}${t.maximum}`:t.type==="date"?n=`Date must be smaller than ${t.inclusive?"or equal to ":""}${new Date(t.maximum)}`:n="Invalid input";break;case $.custom:n="Invalid input";break;case $.invalid_intersection_types:n="Intersection results could not be merged";break;case $.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;default:n=e.defaultError,pe.assertNever(t)}return{message:n}};let Zs=sn;function zi(t){Zs=t}function $n(){return Zs}const In=t=>{const{data:e,path:n,errorMaps:r,issueData:s}=t,i=[...n,...s.path||[]],o={...s,path:i};let a="";const l=r.filter(c=>!!c).slice().reverse();for(const c of l)a=c(o,{data:e,defaultError:a}).message;return{...s,path:i,message:s.message||a}},Wi=[];function U(t,e){const n=In({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,$n(),sn].filter(r=>!!r)});t.common.issues.push(n)}class Ue{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const s of n){if(s.status==="aborted")return X;s.status==="dirty"&&e.dirty(),r.push(s.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){const r=[];for(const s of n)r.push({key:await s.key,value:await s.value});return Ue.mergeObjectSync(e,r)}static mergeObjectSync(e,n){const r={};for(const s of n){const{key:i,value:o}=s;if(i.status==="aborted"||o.status==="aborted")return X;i.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),(typeof o.value<"u"||s.alwaysSet)&&(r[i.value]=o.value)}return{status:e.value,value:r}}}const X=Object.freeze({status:"aborted"}),Bi=t=>({status:"dirty",value:t}),qe=t=>({status:"valid",value:t}),_r=t=>t.status==="aborted",gr=t=>t.status==="dirty",jn=t=>t.status==="valid",br=t=>typeof Promise!==void 0&&t instanceof Promise;var ie;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(ie||(ie={}));class ut{constructor(e,n,r,s){this.parent=e,this.data=n,this._path=r,this._key=s}get path(){return this._path.concat(this._key)}}const Xr=(t,e)=>{if(jn(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,error:new _t(t.common.issues)}};function ne(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:r,description:s}=t;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:s}:{errorMap:(o,a)=>o.code!=="invalid_type"?{message:a.defaultError}:typeof a.data>"u"?{message:r!=null?r:a.defaultError}:{message:n!=null?n:a.defaultError},description:s}}class te{constructor(e){this.spa=this.safeParseAsync,this.superRefine=this._refinement,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.default=this.default.bind(this),this.describe=this.describe.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return At(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:At(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Ue,ctx:{common:e.parent.common,data:e.data,parsedType:At(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(br(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){var r;const s={common:{issues:[],async:(r=n==null?void 0:n.async)!==null&&r!==void 0?r:!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:At(e)},i=this._parseSync({data:e,path:s.path,parent:s});return Xr(s,i)}async parseAsync(e,n){const r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:At(e)},s=this._parse({data:e,path:[],parent:r}),i=await(br(s)?s:Promise.resolve(s));return Xr(r,i)}refine(e,n){const r=s=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(s):n;return this._refinement((s,i)=>{const o=e(s),a=()=>i.addIssue({code:$.custom,...r(s)});return typeof Promise<"u"&&o instanceof Promise?o.then(l=>l?!0:(a(),!1)):o?!0:(a(),!1)})}refinement(e,n){return this._refinement((r,s)=>e(r)?!0:(s.addIssue(typeof n=="function"?n(r,s):n),!1))}_refinement(e){return new pt({schema:this,typeName:K.ZodEffects,effect:{type:"refinement",refinement:e}})}optional(){return lt.create(this)}nullable(){return Zt.create(this)}nullish(){return this.optional().nullable()}array(){return dt.create(this)}promise(){return Jt.create(this)}or(e){return on.create([this,e])}and(e){return an.create(this,e)}transform(e){return new pt({schema:this,typeName:K.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new Zr({innerType:this,defaultValue:n,typeName:K.ZodDefault})}brand(){return new Ds({typeName:K.ZodBranded,type:this,...ne(void 0)})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const Hi=/^c[^\s-]{8,}$/i,Yi=/^([a-f0-9]{8}-[a-f0-9]{4}-[1-5][a-f0-9]{3}-[a-f0-9]{4}-[a-f0-9]{12}|00000000-0000-0000-0000-000000000000)$/i,Vi=/^(([^<>()[\]\.,;:\s@\"]+(\.[^<>()[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()[\]\.,;:\s@\"]+\.)+[^<>()[\]\.,;:\s@\"]{2,})$/i;class xt extends te{constructor(){super(...arguments),this._regex=(e,n,r)=>this.refinement(s=>e.test(s),{validation:n,code:$.invalid_string,...ie.errToObj(r)}),this.nonempty=e=>this.min(1,ie.errToObj(e)),this.trim=()=>new xt({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}_parse(e){if(this._getType(e)!==j.string){const i=this._getOrReturnCtx(e);return U(i,{code:$.invalid_type,expected:j.string,received:i.parsedType}),X}const r=new Ue;let s;for(const i of this._def.checks)if(i.kind==="min")e.data.length<i.value&&(s=this._getOrReturnCtx(e,s),U(s,{code:$.too_small,minimum:i.value,type:"string",inclusive:!0,message:i.message}),r.dirty());else if(i.kind==="max")e.data.length>i.value&&(s=this._getOrReturnCtx(e,s),U(s,{code:$.too_big,maximum:i.value,type:"string",inclusive:!0,message:i.message}),r.dirty());else if(i.kind==="email")Vi.test(e.data)||(s=this._getOrReturnCtx(e,s),U(s,{validation:"email",code:$.invalid_string,message:i.message}),r.dirty());else if(i.kind==="uuid")Yi.test(e.data)||(s=this._getOrReturnCtx(e,s),U(s,{validation:"uuid",code:$.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid")Hi.test(e.data)||(s=this._getOrReturnCtx(e,s),U(s,{validation:"cuid",code:$.invalid_string,message:i.message}),r.dirty());else if(i.kind==="url")try{new URL(e.data)}catch{s=this._getOrReturnCtx(e,s),U(s,{validation:"url",code:$.invalid_string,message:i.message}),r.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(e.data)||(s=this._getOrReturnCtx(e,s),U(s,{validation:"regex",code:$.invalid_string,message:i.message}),r.dirty())):i.kind==="trim"?e.data=e.data.trim():i.kind==="startsWith"?e.data.startsWith(i.value)||(s=this._getOrReturnCtx(e,s),U(s,{code:$.invalid_string,validation:{startsWith:i.value},message:i.message}),r.dirty()):i.kind==="endsWith"?e.data.endsWith(i.value)||(s=this._getOrReturnCtx(e,s),U(s,{code:$.invalid_string,validation:{endsWith:i.value},message:i.message}),r.dirty()):pe.assertNever(i);return{status:r.value,value:e.data}}_addCheck(e){return new xt({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...ie.errToObj(e)})}url(e){return this._addCheck({kind:"url",...ie.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...ie.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...ie.errToObj(e)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...ie.errToObj(n)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...ie.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...ie.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...ie.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...ie.errToObj(n)})}length(e,n){return this.min(e,n).max(e,n)}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}xt.create=t=>new xt({checks:[],typeName:K.ZodString,...ne(t)});function Ji(t,e){const n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,s=n>r?n:r,i=parseInt(t.toFixed(s).replace(".","")),o=parseInt(e.toFixed(s).replace(".",""));return i%o/Math.pow(10,s)}class Lt extends te{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._getType(e)!==j.number){const i=this._getOrReturnCtx(e);return U(i,{code:$.invalid_type,expected:j.number,received:i.parsedType}),X}let r;const s=new Ue;for(const i of this._def.checks)i.kind==="int"?pe.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),U(r,{code:$.invalid_type,expected:"integer",received:"float",message:i.message}),s.dirty()):i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(r=this._getOrReturnCtx(e,r),U(r,{code:$.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(r=this._getOrReturnCtx(e,r),U(r,{code:$.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="multipleOf"?Ji(e.data,i.value)!==0&&(r=this._getOrReturnCtx(e,r),U(r,{code:$.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):pe.assertNever(i);return{status:s.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,ie.toString(n))}gt(e,n){return this.setLimit("min",e,!1,ie.toString(n))}lte(e,n){return this.setLimit("max",e,!0,ie.toString(n))}lt(e,n){return this.setLimit("max",e,!1,ie.toString(n))}setLimit(e,n,r,s){return new Lt({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:ie.toString(s)}]})}_addCheck(e){return new Lt({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:ie.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:ie.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:ie.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:ie.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:ie.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:ie.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int")}}Lt.create=t=>new Lt({checks:[],typeName:K.ZodNumber,...ne(t)});class Mn extends te{_parse(e){if(this._getType(e)!==j.bigint){const r=this._getOrReturnCtx(e);return U(r,{code:$.invalid_type,expected:j.bigint,received:r.parsedType}),X}return qe(e.data)}}Mn.create=t=>new Mn({typeName:K.ZodBigInt,...ne(t)});class Ln extends te{_parse(e){if(this._getType(e)!==j.boolean){const r=this._getOrReturnCtx(e);return U(r,{code:$.invalid_type,expected:j.boolean,received:r.parsedType}),X}return qe(e.data)}}Ln.create=t=>new Ln({typeName:K.ZodBoolean,...ne(t)});class Yt extends te{_parse(e){if(this._getType(e)!==j.date){const i=this._getOrReturnCtx(e);return U(i,{code:$.invalid_type,expected:j.date,received:i.parsedType}),X}if(isNaN(e.data.getTime())){const i=this._getOrReturnCtx(e);return U(i,{code:$.invalid_date}),X}const r=new Ue;let s;for(const i of this._def.checks)i.kind==="min"?e.data.getTime()<i.value&&(s=this._getOrReturnCtx(e,s),U(s,{code:$.too_small,message:i.message,inclusive:!0,minimum:i.value,type:"date"}),r.dirty()):i.kind==="max"?e.data.getTime()>i.value&&(s=this._getOrReturnCtx(e,s),U(s,{code:$.too_big,message:i.message,inclusive:!0,maximum:i.value,type:"date"}),r.dirty()):pe.assertNever(i);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Yt({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:ie.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:ie.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}Yt.create=t=>new Yt({checks:[],typeName:K.ZodDate,...ne(t)});class Rn extends te{_parse(e){if(this._getType(e)!==j.undefined){const r=this._getOrReturnCtx(e);return U(r,{code:$.invalid_type,expected:j.undefined,received:r.parsedType}),X}return qe(e.data)}}Rn.create=t=>new Rn({typeName:K.ZodUndefined,...ne(t)});class Zn extends te{_parse(e){if(this._getType(e)!==j.null){const r=this._getOrReturnCtx(e);return U(r,{code:$.invalid_type,expected:j.null,received:r.parsedType}),X}return qe(e.data)}}Zn.create=t=>new Zn({typeName:K.ZodNull,...ne(t)});class Vt extends te{constructor(){super(...arguments),this._any=!0}_parse(e){return qe(e.data)}}Vt.create=t=>new Vt({typeName:K.ZodAny,...ne(t)});class jt extends te{constructor(){super(...arguments),this._unknown=!0}_parse(e){return qe(e.data)}}jt.create=t=>new jt({typeName:K.ZodUnknown,...ne(t)});class gt extends te{_parse(e){const n=this._getOrReturnCtx(e);return U(n,{code:$.invalid_type,expected:j.never,received:n.parsedType}),X}}gt.create=t=>new gt({typeName:K.ZodNever,...ne(t)});class Pn extends te{_parse(e){if(this._getType(e)!==j.undefined){const r=this._getOrReturnCtx(e);return U(r,{code:$.invalid_type,expected:j.void,received:r.parsedType}),X}return qe(e.data)}}Pn.create=t=>new Pn({typeName:K.ZodVoid,...ne(t)});class dt extends te{_parse(e){const{ctx:n,status:r}=this._processInputParams(e),s=this._def;if(n.parsedType!==j.array)return U(n,{code:$.invalid_type,expected:j.array,received:n.parsedType}),X;if(s.minLength!==null&&n.data.length<s.minLength.value&&(U(n,{code:$.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,message:s.minLength.message}),r.dirty()),s.maxLength!==null&&n.data.length>s.maxLength.value&&(U(n,{code:$.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,message:s.maxLength.message}),r.dirty()),n.common.async)return Promise.all(n.data.map((o,a)=>s.type._parseAsync(new ut(n,o,n.path,a)))).then(o=>Ue.mergeArray(r,o));const i=n.data.map((o,a)=>s.type._parseSync(new ut(n,o,n.path,a)));return Ue.mergeArray(r,i)}get element(){return this._def.type}min(e,n){return new dt({...this._def,minLength:{value:e,message:ie.toString(n)}})}max(e,n){return new dt({...this._def,maxLength:{value:e,message:ie.toString(n)}})}length(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}dt.create=(t,e)=>new dt({type:t,minLength:null,maxLength:null,typeName:K.ZodArray,...ne(e)});var Dn;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(Dn||(Dn={}));const Gr=t=>e=>new ve({...t,shape:()=>({...t.shape(),...e})});function Dt(t){if(t instanceof ve){const e={};for(const n in t.shape){const r=t.shape[n];e[n]=lt.create(Dt(r))}return new ve({...t._def,shape:()=>e})}else return t instanceof dt?dt.create(Dt(t.element)):t instanceof lt?lt.create(Dt(t.unwrap())):t instanceof Zt?Zt.create(Dt(t.unwrap())):t instanceof ft?ft.create(t.items.map(e=>Dt(e))):t}class ve extends te{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=Gr(this._def),this.extend=Gr(this._def)}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=pe.objectKeys(e);return this._cached={shape:e,keys:n}}_parse(e){if(this._getType(e)!==j.object){const c=this._getOrReturnCtx(e);return U(c,{code:$.invalid_type,expected:j.object,received:c.parsedType}),X}const{status:r,ctx:s}=this._processInputParams(e),{shape:i,keys:o}=this._getCached(),a=[];if(!(this._def.catchall instanceof gt&&this._def.unknownKeys==="strip"))for(const c in s.data)o.includes(c)||a.push(c);const l=[];for(const c of o){const u=i[c],f=s.data[c];l.push({key:{status:"valid",value:c},value:u._parse(new ut(s,f,s.path,c)),alwaysSet:c in s.data})}if(this._def.catchall instanceof gt){const c=this._def.unknownKeys;if(c==="passthrough")for(const u of a)l.push({key:{status:"valid",value:u},value:{status:"valid",value:s.data[u]}});else if(c==="strict")a.length>0&&(U(s,{code:$.unrecognized_keys,keys:a}),r.dirty());else if(c!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const c=this._def.catchall;for(const u of a){const f=s.data[u];l.push({key:{status:"valid",value:u},value:c._parse(new ut(s,f,s.path,u)),alwaysSet:u in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const c=[];for(const u of l){const f=await u.key;c.push({key:f,value:await u.value,alwaysSet:u.alwaysSet})}return c}).then(c=>Ue.mergeObjectSync(r,c)):Ue.mergeObjectSync(r,l)}get shape(){return this._def.shape()}strict(e){return ie.errToObj,new ve({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,r)=>{var s,i,o,a;const l=(o=(i=(s=this._def).errorMap)===null||i===void 0?void 0:i.call(s,n,r).message)!==null&&o!==void 0?o:r.defaultError;return n.code==="unrecognized_keys"?{message:(a=ie.errToObj(e).message)!==null&&a!==void 0?a:l}:{message:l}}}:{}})}strip(){return new ve({...this._def,unknownKeys:"strip"})}passthrough(){return new ve({...this._def,unknownKeys:"passthrough"})}setKey(e,n){return this.augment({[e]:n})}merge(e){return new ve({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>Dn.mergeShapes(this._def.shape(),e._def.shape()),typeName:K.ZodObject})}catchall(e){return new ve({...this._def,catchall:e})}pick(e){const n={};return pe.objectKeys(e).map(r=>{this.shape[r]&&(n[r]=this.shape[r])}),new ve({...this._def,shape:()=>n})}omit(e){const n={};return pe.objectKeys(this.shape).map(r=>{pe.objectKeys(e).indexOf(r)===-1&&(n[r]=this.shape[r])}),new ve({...this._def,shape:()=>n})}deepPartial(){return Dt(this)}partial(e){const n={};if(e)return pe.objectKeys(this.shape).map(r=>{pe.objectKeys(e).indexOf(r)===-1?n[r]=this.shape[r]:n[r]=this.shape[r].optional()}),new ve({...this._def,shape:()=>n});for(const r in this.shape){const s=this.shape[r];n[r]=s.optional()}return new ve({...this._def,shape:()=>n})}required(){const e={};for(const n in this.shape){let s=this.shape[n];for(;s instanceof lt;)s=s._def.innerType;e[n]=s}return new ve({...this._def,shape:()=>e})}keyof(){return Ps(pe.objectKeys(this.shape))}}ve.create=(t,e)=>new ve({shape:()=>t,unknownKeys:"strip",catchall:gt.create(),typeName:K.ZodObject,...ne(e)});ve.strictCreate=(t,e)=>new ve({shape:()=>t,unknownKeys:"strict",catchall:gt.create(),typeName:K.ZodObject,...ne(e)});ve.lazycreate=(t,e)=>new ve({shape:t,unknownKeys:"strip",catchall:gt.create(),typeName:K.ZodObject,...ne(e)});class on extends te{_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.options;function s(i){for(const a of i)if(a.result.status==="valid")return a.result;for(const a of i)if(a.result.status==="dirty")return n.common.issues.push(...a.ctx.common.issues),a.result;const o=i.map(a=>new _t(a.ctx.common.issues));return U(n,{code:$.invalid_union,unionErrors:o}),X}if(n.common.async)return Promise.all(r.map(async i=>{const o={...n,common:{...n.common,issues:[]},parent:null};return{result:await i._parseAsync({data:n.data,path:n.path,parent:o}),ctx:o}})).then(s);{let i;const o=[];for(const l of r){const c={...n,common:{...n.common,issues:[]},parent:null},u=l._parseSync({data:n.data,path:n.path,parent:c});if(u.status==="valid")return u;u.status==="dirty"&&!i&&(i={result:u,ctx:c}),c.common.issues.length&&o.push(c.common.issues)}if(i)return n.common.issues.push(...i.ctx.common.issues),i.result;const a=o.map(l=>new _t(l));return U(n,{code:$.invalid_union,unionErrors:a}),X}}get options(){return this._def.options}}on.create=(t,e)=>new on({options:t,typeName:K.ZodUnion,...ne(e)});class tr extends te{_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==j.object)return U(n,{code:$.invalid_type,expected:j.object,received:n.parsedType}),X;const r=this.discriminator,s=n.data[r],i=this.options.get(s);return i?n.common.async?i._parseAsync({data:n.data,path:n.path,parent:n}):i._parseSync({data:n.data,path:n.path,parent:n}):(U(n,{code:$.invalid_union_discriminator,options:this.validDiscriminatorValues,path:[r]}),X)}get discriminator(){return this._def.discriminator}get validDiscriminatorValues(){return Array.from(this.options.keys())}get options(){return this._def.options}static create(e,n,r){const s=new Map;try{n.forEach(i=>{const o=i.shape[e].value;s.set(o,i)})}catch{throw new Error("The discriminator value could not be extracted from all the provided schemas")}if(s.size!==n.length)throw new Error("Some of the discriminator values are not unique");return new tr({typeName:K.ZodDiscriminatedUnion,discriminator:e,options:s,...ne(r)})}}function vr(t,e){const n=At(t),r=At(e);if(t===e)return{valid:!0,data:t};if(n===j.object&&r===j.object){const s=pe.objectKeys(e),i=pe.objectKeys(t).filter(a=>s.indexOf(a)!==-1),o={...t,...e};for(const a of i){const l=vr(t[a],e[a]);if(!l.valid)return{valid:!1};o[a]=l.data}return{valid:!0,data:o}}else if(n===j.array&&r===j.array){if(t.length!==e.length)return{valid:!1};const s=[];for(let i=0;i<t.length;i++){const o=t[i],a=e[i],l=vr(o,a);if(!l.valid)return{valid:!1};s.push(l.data)}return{valid:!0,data:s}}else return n===j.date&&r===j.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class an extends te{_parse(e){const{status:n,ctx:r}=this._processInputParams(e),s=(i,o)=>{if(_r(i)||_r(o))return X;const a=vr(i.value,o.value);return a.valid?((gr(i)||gr(o))&&n.dirty(),{status:n.value,value:a.data}):(U(r,{code:$.invalid_intersection_types}),X)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([i,o])=>s(i,o)):s(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}an.create=(t,e,n)=>new an({left:t,right:e,typeName:K.ZodIntersection,...ne(n)});class ft extends te{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==j.array)return U(r,{code:$.invalid_type,expected:j.array,received:r.parsedType}),X;if(r.data.length<this._def.items.length)return U(r,{code:$.too_small,minimum:this._def.items.length,inclusive:!0,type:"array"}),X;!this._def.rest&&r.data.length>this._def.items.length&&(U(r,{code:$.too_big,maximum:this._def.items.length,inclusive:!0,type:"array"}),n.dirty());const i=r.data.map((o,a)=>{const l=this._def.items[a]||this._def.rest;return l?l._parse(new ut(r,o,r.path,a)):null}).filter(o=>!!o);return r.common.async?Promise.all(i).then(o=>Ue.mergeArray(n,o)):Ue.mergeArray(n,i)}get items(){return this._def.items}rest(e){return new ft({...this._def,rest:e})}}ft.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new ft({items:t,typeName:K.ZodTuple,rest:null,...ne(e)})};class ln extends te{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==j.object)return U(r,{code:$.invalid_type,expected:j.object,received:r.parsedType}),X;const s=[],i=this._def.keyType,o=this._def.valueType;for(const a in r.data)s.push({key:i._parse(new ut(r,a,r.path,a)),value:o._parse(new ut(r,r.data[a],r.path,a))});return r.common.async?Ue.mergeObjectAsync(n,s):Ue.mergeObjectSync(n,s)}get element(){return this._def.valueType}static create(e,n,r){return n instanceof te?new ln({keyType:e,valueType:n,typeName:K.ZodRecord,...ne(r)}):new ln({keyType:xt.create(),valueType:e,typeName:K.ZodRecord,...ne(n)})}}class Fn extends te{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==j.map)return U(r,{code:$.invalid_type,expected:j.map,received:r.parsedType}),X;const s=this._def.keyType,i=this._def.valueType,o=[...r.data.entries()].map(([a,l],c)=>({key:s._parse(new ut(r,a,r.path,[c,"key"])),value:i._parse(new ut(r,l,r.path,[c,"value"]))}));if(r.common.async){const a=new Map;return Promise.resolve().then(async()=>{for(const l of o){const c=await l.key,u=await l.value;if(c.status==="aborted"||u.status==="aborted")return X;(c.status==="dirty"||u.status==="dirty")&&n.dirty(),a.set(c.value,u.value)}return{status:n.value,value:a}})}else{const a=new Map;for(const l of o){const c=l.key,u=l.value;if(c.status==="aborted"||u.status==="aborted")return X;(c.status==="dirty"||u.status==="dirty")&&n.dirty(),a.set(c.value,u.value)}return{status:n.value,value:a}}}}Fn.create=(t,e,n)=>new Fn({valueType:e,keyType:t,typeName:K.ZodMap,...ne(n)});class Rt extends te{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==j.set)return U(r,{code:$.invalid_type,expected:j.set,received:r.parsedType}),X;const s=this._def;s.minSize!==null&&r.data.size<s.minSize.value&&(U(r,{code:$.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,message:s.minSize.message}),n.dirty()),s.maxSize!==null&&r.data.size>s.maxSize.value&&(U(r,{code:$.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,message:s.maxSize.message}),n.dirty());const i=this._def.valueType;function o(l){const c=new Set;for(const u of l){if(u.status==="aborted")return X;u.status==="dirty"&&n.dirty(),c.add(u.value)}return{status:n.value,value:c}}const a=[...r.data.values()].map((l,c)=>i._parse(new ut(r,l,r.path,c)));return r.common.async?Promise.all(a).then(l=>o(l)):o(a)}min(e,n){return new Rt({...this._def,minSize:{value:e,message:ie.toString(n)}})}max(e,n){return new Rt({...this._def,maxSize:{value:e,message:ie.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}Rt.create=(t,e)=>new Rt({valueType:t,minSize:null,maxSize:null,typeName:K.ZodSet,...ne(e)});class qt extends te{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==j.function)return U(n,{code:$.invalid_type,expected:j.function,received:n.parsedType}),X;function r(a,l){return In({data:a,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,$n(),sn].filter(c=>!!c),issueData:{code:$.invalid_arguments,argumentsError:l}})}function s(a,l){return In({data:a,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,$n(),sn].filter(c=>!!c),issueData:{code:$.invalid_return_type,returnTypeError:l}})}const i={errorMap:n.common.contextualErrorMap},o=n.data;return this._def.returns instanceof Jt?qe(async(...a)=>{const l=new _t([]),c=await this._def.args.parseAsync(a,i).catch(d=>{throw l.addIssue(r(a,d)),l}),u=await o(...c);return await this._def.returns._def.type.parseAsync(u,i).catch(d=>{throw l.addIssue(s(u,d)),l})}):qe((...a)=>{const l=this._def.args.safeParse(a,i);if(!l.success)throw new _t([r(a,l.error)]);const c=o(...l.data),u=this._def.returns.safeParse(c,i);if(!u.success)throw new _t([s(c,u.error)]);return u.data})}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new qt({...this._def,args:ft.create(e).rest(jt.create())})}returns(e){return new qt({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,n,r){return new qt({args:e||ft.create([]).rest(jt.create()),returns:n||jt.create(),typeName:K.ZodFunction,...ne(r)})}}class Un extends te{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}Un.create=(t,e)=>new Un({getter:t,typeName:K.ZodLazy,...ne(e)});class qn extends te{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return U(n,{code:$.invalid_literal,expected:this._def.value}),X}return{status:"valid",value:e.data}}get value(){return this._def.value}}qn.create=(t,e)=>new qn({value:t,typeName:K.ZodLiteral,...ne(e)});function Ps(t,e){return new nr({values:t,typeName:K.ZodEnum,...ne(e)})}class nr extends te{_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),r=this._def.values;return U(n,{expected:pe.joinValues(r),received:n.parsedType,code:$.invalid_type}),X}if(this._def.values.indexOf(e.data)===-1){const n=this._getOrReturnCtx(e),r=this._def.values;return U(n,{received:n.data,code:$.invalid_enum_value,options:r}),X}return qe(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}}nr.create=Ps;class zn extends te{_parse(e){const n=pe.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==j.string&&r.parsedType!==j.number){const s=pe.objectValues(n);return U(r,{expected:pe.joinValues(s),received:r.parsedType,code:$.invalid_type}),X}if(n.indexOf(e.data)===-1){const s=pe.objectValues(n);return U(r,{received:r.data,code:$.invalid_enum_value,options:s}),X}return qe(e.data)}get enum(){return this._def.values}}zn.create=(t,e)=>new zn({values:t,typeName:K.ZodNativeEnum,...ne(e)});class Jt extends te{_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==j.promise&&n.common.async===!1)return U(n,{code:$.invalid_type,expected:j.promise,received:n.parsedType}),X;const r=n.parsedType===j.promise?n.data:Promise.resolve(n.data);return qe(r.then(s=>this._def.type.parseAsync(s,{path:n.path,errorMap:n.common.contextualErrorMap})))}}Jt.create=(t,e)=>new Jt({type:t,typeName:K.ZodPromise,...ne(e)});class pt extends te{innerType(){return this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),s=this._def.effect||null;if(s.type==="preprocess"){const o=s.transform(r.data);return r.common.async?Promise.resolve(o).then(a=>this._def.schema._parseAsync({data:a,path:r.path,parent:r})):this._def.schema._parseSync({data:o,path:r.path,parent:r})}const i={addIssue:o=>{U(r,o),o.fatal?n.abort():n.dirty()},get path(){return r.path}};if(i.addIssue=i.addIssue.bind(i),s.type==="refinement"){const o=a=>{const l=s.refinement(a,i);if(r.common.async)return Promise.resolve(l);if(l instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return a};if(r.common.async===!1){const a=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?X:(a.status==="dirty"&&n.dirty(),o(a.value),{status:n.value,value:a.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(a=>a.status==="aborted"?X:(a.status==="dirty"&&n.dirty(),o(a.value).then(()=>({status:n.value,value:a.value}))))}if(s.type==="transform")if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!jn(o))return o;const a=s.transform(o.value,i);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:a}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>jn(o)?Promise.resolve(s.transform(o.value,i)).then(a=>({status:n.value,value:a})):o);pe.assertNever(s)}}pt.create=(t,e,n)=>new pt({schema:t,typeName:K.ZodEffects,effect:e,...ne(n)});pt.createWithPreprocess=(t,e,n)=>new pt({schema:e,effect:{type:"preprocess",transform:t},typeName:K.ZodEffects,...ne(n)});class lt extends te{_parse(e){return this._getType(e)===j.undefined?qe(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}lt.create=(t,e)=>new lt({innerType:t,typeName:K.ZodOptional,...ne(e)});class Zt extends te{_parse(e){return this._getType(e)===j.null?qe(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Zt.create=(t,e)=>new Zt({innerType:t,typeName:K.ZodNullable,...ne(e)});class Zr extends te{_parse(e){const{ctx:n}=this._processInputParams(e);let r=n.data;return n.parsedType===j.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}Zr.create=(t,e)=>new lt({innerType:t,typeName:K.ZodOptional,...ne(e)});class Wn extends te{_parse(e){if(this._getType(e)!==j.nan){const r=this._getOrReturnCtx(e);return U(r,{code:$.invalid_type,expected:j.nan,received:r.parsedType}),X}return{status:"valid",value:e.data}}}Wn.create=t=>new Wn({typeName:K.ZodNaN,...ne(t)});const Ki=Symbol("zod_brand");class Ds extends te{_parse(e){const{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}const Fs=(t,e={},n)=>t?Vt.create().superRefine((r,s)=>{if(!t(r)){const i=typeof e=="function"?e(r):e,o=typeof i=="string"?{message:i}:i;s.addIssue({code:"custom",...o,fatal:n})}}):Vt.create(),Xi={object:ve.lazycreate};var K;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded"})(K||(K={}));const Gi=(t,e={message:`Input not instance of ${t.name}`})=>Fs(n=>n instanceof t,e,!0),Us=xt.create,qs=Lt.create,Qi=Wn.create,eo=Mn.create,zs=Ln.create,to=Yt.create,no=Rn.create,ro=Zn.create,so=Vt.create,io=jt.create,oo=gt.create,ao=Pn.create,lo=dt.create,co=ve.create,uo=ve.strictCreate,fo=on.create,po=tr.create,mo=an.create,ho=ft.create,yo=ln.create,_o=Fn.create,go=Rt.create,bo=qt.create,vo=Un.create,wo=qn.create,ko=nr.create,Ao=zn.create,Co=Jt.create,Qr=pt.create,Eo=lt.create,So=Zt.create,xo=pt.createWithPreprocess,To=()=>Us().optional(),Oo=()=>qs().optional(),No=()=>zs().optional(),$o=X;var B=Object.freeze({__proto__:null,getParsedType:At,ZodParsedType:j,defaultErrorMap:sn,setErrorMap:zi,getErrorMap:$n,makeIssue:In,EMPTY_PATH:Wi,addIssueToContext:U,ParseStatus:Ue,INVALID:X,DIRTY:Bi,OK:qe,isAborted:_r,isDirty:gr,isValid:jn,isAsync:br,ZodType:te,ZodString:xt,ZodNumber:Lt,ZodBigInt:Mn,ZodBoolean:Ln,ZodDate:Yt,ZodUndefined:Rn,ZodNull:Zn,ZodAny:Vt,ZodUnknown:jt,ZodNever:gt,ZodVoid:Pn,ZodArray:dt,get objectUtil(){return Dn},ZodObject:ve,ZodUnion:on,ZodDiscriminatedUnion:tr,ZodIntersection:an,ZodTuple:ft,ZodRecord:ln,ZodMap:Fn,ZodSet:Rt,ZodFunction:qt,ZodLazy:Un,ZodLiteral:qn,ZodEnum:nr,ZodNativeEnum:zn,ZodPromise:Jt,ZodEffects:pt,ZodTransformer:pt,ZodOptional:lt,ZodNullable:Zt,ZodDefault:Zr,ZodNaN:Wn,BRAND:Ki,ZodBranded:Ds,custom:Fs,Schema:te,ZodSchema:te,late:Xi,get ZodFirstPartyTypeKind(){return K},any:so,array:lo,bigint:eo,boolean:zs,date:to,discriminatedUnion:po,effect:Qr,enum:ko,function:bo,instanceof:Gi,intersection:mo,lazy:vo,literal:wo,map:_o,nan:Qi,nativeEnum:Ao,never:oo,null:ro,nullable:So,number:qs,object:co,oboolean:No,onumber:Oo,optional:Eo,ostring:To,preprocess:xo,promise:Co,record:yo,set:go,strictObject:uo,string:Us,transformer:Qr,tuple:ho,undefined:no,union:fo,unknown:io,void:ao,NEVER:$o,ZodIssueCode:$,quotelessJson:qi,ZodError:_t});const Pr=1,rr=B.object({domain:B.string().trim().min(1,"Domain name can't be empty").refine(t=>!/[A-Z]/.test(t),"Domain name must be lower case").refine(t=>t!=="derivepass",'"derivepass" domain is reserved').refine(t=>!/^(www|\w+:\/\/)/.test(t),"Domain name should not start with `www.`, `http://`, or any `schema://`"),login:B.string().trim().min(1,"Username can't be empty"),revision:B.number().positive("Revision must be a positive number"),allowedChars:B.string().trim().min(1,"Allowed characters can't be empty").refine(Kr,"Allowed characters contain invalid range"),requiredChars:B.string().trim().refine(Kr,"Allowed characters contain invalid range"),passwordLen:B.number().positive()}),Dr=B.object({id:B.string().min(1),version:B.literal(Pr)});Dr.and(rr);const Ws=Dr.and(B.object({encrypted:B.string(),modifiedAt:B.number(),removed:B.optional(B.boolean())})),Io=Dr.and(B.object({encrypted:B.string(),removed:B.optional(B.boolean())}));Ws.and(B.object({decrypted:B.optional(rr)}));const jo=B.object({host:B.string(),token:B.string(),lastModifiedAt:B.number(),lastSyncedAt:B.number(),localLastModifiedAt:B.number()}),Mo=B.object({token:B.string()}),Lo=B.object({objects:B.array(B.object({id:B.string(),data:B.string(),modifiedAt:B.number()}))}),Ro=B.object({modifiedAt:B.number()}),Zo=B.object({uuid:B.string(),changedAt:B.number(),removed:B.boolean(),domain:B.string(),login:B.string(),revision:B.string(),options:B.string()}),Po=B.object({allowed:B.string().trim(),required:B.string().trim(),maxLength:B.number().or(B.string())}),cn=new TextEncoder,wr=new TextDecoder,Bs=8,Hs=32768,Ys=4,cr=32,Do=16,Fo=64,Uo=cn.encode("derivepass/aes"),es=t=>{if(t>=48&&t<=57)return t-48;if(t>=65&&t<=70)return t-65+10;if(t>=97&&t<=102)return t-97+10;throw new Error("Not a hex character, code: "+t)};function kr(t){if(t.length%2!==0)throw new Error(`Invalid hex: "${t}"`);const e=new Uint8Array(t.length/2);for(let n=0;n<t.length;n+=2){const r=es(t.charCodeAt(n)),s=es(t.charCodeAt(n+1));e[n>>1]=r<<4|s}return e}function Vs(t){let e="";for(let n=0;n<t.length;n++){let r=t[n].toString(16);r.length<2&&(r="0"+r),e+=r}return e}function qo({union:t,passwordLen:e}){return Math.ceil(Math.log2(t.length)*e)}function zo(t,{required:e,passwordLen:n,allowed:r,union:s}){const i=new Uint8Array([...t].reverse());let o=BigInt("0x"+Vs(i));const a=new Set(e);let l="";for(;l.length<n;){let c;a.size===0?c=r:a.size===n-l.length?c=Array.from(a):c=s;const u=BigInt(c.length),f=c[Number(o%u)];o=o/u,a.delete(f),l+=f}return l}const Wo=18,yn="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789_.".split("");function Bo(t){if(t.length!==Wo)throw new Error("Invalid raw bytes");let e="";for(let n=0;n<t.length;n+=3){const r=t[n],s=t[n+1],i=t[n+2];e+=yn[r>>>2],e+=yn[(r&3)<<4|s>>>4],e+=yn[(s&15)<<2|i>>>6],e+=yn[i&63]}return e}const xn={allowedChars:"a-zA-Z0-9_.",requiredChars:"",passwordLen:24};function Ho({allowedChars:t,requiredChars:e,passwordLen:n}){return t===xn.allowedChars&&e===xn.requiredChars&&n===xn.passwordLen}function Yo({master:t},e){const n=`${e.domain}/${e.login}${e.revision>1?`#${e.revision}`:""}`,r=yr(e.allowedChars),s=yr(e.requiredChars),i=[...new Set([...r,...s])].sort(),o={allowed:r,required:s,union:i,passwordLen:e.passwordLen},a=Math.ceil(qo(o)/8),l=Ms(Bs,Hs,Ys,cn.encode(t),cn.encode(n),a);return Ho(e)?Bo(l):zo(l,o)}function Vo(t){const e=Ms(Bs,Hs,Ys,cn.encode(t),Uo,cr+Fo);return{master:t,aes:e.slice(0,cr),hmac:e.slice(cr)}}function Js({aes:t,hmac:e},n){const r=cn.encode(JSON.stringify(n)),s=new Uint8Array(Do);return window.crypto.getRandomValues(s),Vs(Zi(t,e,s,r))}function Jo({aes:t,hmac:e},n){const r=JSON.parse(wr.decode(Ls(t,e,kr(n))));return rr.parse(r)}function _n({aes:t,hmac:e},n){return n.startsWith("v1:")?wr.decode(Ls(t,e,kr(n.slice(3)))):wr.decode(Pi(t,kr(n)))}const Ko=Rs(),Ar=1e3,Ks=60*Ar,Xo=60*Ks,Xs="dp:v2:",it=vt();let gn;it.subscribe(t=>{gn!==void 0&&(clearTimeout(gn),gn=void 0),t!==void 0&&(gn=setTimeout(()=>{it.set(void 0)},15*Ks))});const Gs="/assets/logo.f23d4d62.svg",Go="2.0.0",Qo="https://github.com/derivepass/derivepass-web#readme";function ea(t){let e,n;const r=t[2].default,s=Yn(r,t,t[1],null);return{c(){e=N("a"),s&&s.c(),b(e,"href",t[0]),b(e,"target","_blank"),b(e,"rel","noreferrer"),b(e,"class","text-blue-600 hover:underline")},m(i,o){A(i,e,o),s&&s.m(e,null),n=!0},p(i,[o]){s&&s.p&&(!n||o&2)&&Jn(s,r,i,i[1],n?Vn(r,i[1],o,null):Kn(i[1]),null),(!n||o&1)&&b(e,"href",i[0])},i(i){n||(L(s,i),n=!0)},o(i){Z(s,i),n=!1},d(i){i&&k(e),s&&s.d(i)}}}function ta(t,e,n){let{$$slots:r={},$$scope:s}=e,{href:i}=e;return t.$$set=o=>{"href"in o&&n(0,i=o.href),"$$scope"in o&&n(1,s=o.$$scope)},[i,s,r]}class Gt extends We{constructor(e){super(),ze(this,e,ta,ea,Re,{href:0})}}function na(t){let e;return{c(){e=q("scrypt")},m(n,r){A(n,e,r)},d(n){n&&k(e)}}}function ra(t){let e;return{c(){e=q("salt")},m(n,r){A(n,e,r)},d(n){n&&k(e)}}}function sa(t){let e;return{c(){e=q("AES")},m(n,r){A(n,e,r)},d(n){n&&k(e)}}}function ia(t){let e;return{c(){e=q("HMAC-SHA256")},m(n,r){A(n,e,r)},d(n){n&&k(e)}}}function oa(t){let e,n;return{c(){e=q("source code @ "),n=q(Go)},m(r,s){A(r,e,s),A(r,n,s)},p:G,d(r){r&&k(e),r&&k(n)}}}function aa(t){let e,n,r,s,i,o,a,l,c,u,f,d,m,p,y,g,C,M,P,_,I,v,D,R,J,Oe,z,ge,me,ke,be,Q,Ie,Ne,x,W,V,de,le,re,Ae,he,Ze,Ce,Se,Pe,Te,we,T,h,O,Y,$e,w,De,Ee,xe;return Q=new Gt({props:{href:"https://en.wikipedia.org/wiki/Scrypt",$$slots:{default:[na]},$$scope:{ctx:t}}}),le=new Gt({props:{href:"https://en.wikipedia.org/wiki/Salt_(cryptography)",$$slots:{default:[ra]},$$scope:{ctx:t}}}),Ce=new Gt({props:{href:"https://en.wikipedia.org/wiki/Advanced_Encryption_Standard",$$slots:{default:[sa]},$$scope:{ctx:t}}}),we=new Gt({props:{href:"https://en.wikipedia.org/wiki/HMAC",$$slots:{default:[ia]},$$scope:{ctx:t}}}),w=new Gt({props:{href:Qo,$$slots:{default:[oa]},$$scope:{ctx:t}}}),{c(){e=N("container"),n=N("img"),s=F(),i=N("container"),o=N("h1"),o.textContent="DerivePass",a=F(),l=N("h2"),l.textContent="Compute secure passwords without storing them anywhere.",c=F(),u=N("a"),u.textContent="Start",f=F(),d=N("p"),d.textContent=`Most websites require a password on Sign Up.
  Using the same password everywhere is insecure.
  Using individual secure passwords and remembering all of them - impossible!`,m=F(),p=N("p"),p.innerHTML=`<b>DerivePass</b> is here to help with the task!
  Choose the Master Password once and use it to generate an <b>unlimited</b>
  number of secure website passwords.`,y=F(),g=N("p"),g.innerHTML=`Unlike traditional password managers, <b>DerivePass</b> never uploads
  neither the Master Password or website passwords to the cloud. The only
  information that is stored is <b>encrypted</b> website domain names and
  usernames.`,C=F(),M=N("hr"),P=F(),_=N("h3"),_.textContent="Privacy",I=F(),v=N("p"),v.innerHTML=`Your privacy is important to us. Your data is stored only locally
  <b>on your computer</b>, by default, unless you manually decide to use
  remote storage (e.g., iCloud). We <b>never</b> store unencrypted website
  domain names, usernames, or passwords. <b>No tracking</b> of any kind is
  used on this website.`,D=F(),R=N("hr"),J=F(),Oe=N("h3"),Oe.textContent="Security",z=F(),ge=N("h4"),ge.textContent="(Technical Details)",me=F(),ke=N("p"),be=q(`The
  `),ue(Q.$$.fragment),Ie=q(`
  algorithm is used for deriving application passwords and
  encryption/authentication keys. Due to the strong cryptographic properties
  of scrypt, the compromise of any single application password does not
  compromise any other application passwords or the Master password.`),Ne=F(),x=N("p"),W=q(`An application's domain name (website), username, and revision are used for
  generating unique and secure passwords. In particular,
  `),V=N("code"),V.textContent="domain/username(#revision)",de=q(`
  is used as a
  `),ue(le.$$.fragment),re=q(`
  parameter of scrypt. Thus every revision increment will result in a
  completely different generated password. This is convenient for changing the
  password whenever it is required.`),Ae=F(),he=N("p"),Ze=q(`Every bit of information that is stored locally and/or remotely (through
  optional iCloud synchronization) is encrypted with an
  `),ue(Ce.$$.fragment),Se=q(`
  key generated from the Master Password via the scrypt algorithm, using
  `),Pe=N("code"),Pe.textContent="derivepass/aes",Te=q(`
  as a salt. The data is further passed to the
  `),ue(we.$$.fragment),T=q(`
  algorithm to ensure the data integrity.`),h=F(),O=N("footer"),Y=N("p"),Y.textContent=`Copyright ${t[0]}, Fedor Indutny`,$e=F(),ue(w.$$.fragment),As(n.src,r=Gs)||b(n,"src",r),b(n,"alt","Big Logotype"),b(n,"class","grow max-w-xs lg:max-w-full"),b(o,"class","text-4xl font-semibold mb-4"),b(l,"class","text-xl mb-4"),b(u,"href","/login"),b(u,"class","inline-block px-4 py-2 rounded bg-blue-500 hover:bg-blue-600 text-white text-xl"),b(i,"class","grow basis-96 mb-4"),b(e,"class","flex flex-row-reverse flex-wrap justify-center items-center text-center sm:text-start"),b(d,"class","my-2"),b(p,"class","my-2"),b(g,"class","my-2"),b(M,"class","my-4"),b(_,"class","my-4 text-3xl text-semibold"),b(R,"class","my-4"),b(Oe,"class","my-4 text-3xl text-semibold"),b(ge,"class","my-2 text-lg"),b(ke,"class","my-2"),b(V,"class","border border-slate-200 bg-slate-100 px-1"),b(x,"class","my-2"),b(Pe,"class","border border-slate-200 bg-slate-100 px-1"),b(he,"class","my-2"),b(O,"class","text-xs text-right")},m(S,H){A(S,e,H),E(e,n),E(e,s),E(e,i),E(i,o),E(i,a),E(i,l),E(i,c),E(i,u),A(S,f,H),A(S,d,H),A(S,m,H),A(S,p,H),A(S,y,H),A(S,g,H),A(S,C,H),A(S,M,H),A(S,P,H),A(S,_,H),A(S,I,H),A(S,v,H),A(S,D,H),A(S,R,H),A(S,J,H),A(S,Oe,H),A(S,z,H),A(S,ge,H),A(S,me,H),A(S,ke,H),E(ke,be),oe(Q,ke,null),E(ke,Ie),A(S,Ne,H),A(S,x,H),E(x,W),E(x,V),E(x,de),oe(le,x,null),E(x,re),A(S,Ae,H),A(S,he,H),E(he,Ze),oe(Ce,he,null),E(he,Se),E(he,Pe),E(he,Te),oe(we,he,null),E(he,T),A(S,h,H),A(S,O,H),E(O,Y),E(O,$e),oe(w,O,null),De=!0,Ee||(xe=Ht(Rr.call(null,u)),Ee=!0)},p(S,[H]){const Qe={};H&2&&(Qe.$$scope={dirty:H,ctx:S}),Q.$set(Qe);const fn={};H&2&&(fn.$$scope={dirty:H,ctx:S}),le.$set(fn);const ye={};H&2&&(ye.$$scope={dirty:H,ctx:S}),Ce.$set(ye);const fe={};H&2&&(fe.$$scope={dirty:H,ctx:S}),we.$set(fe);const je={};H&2&&(je.$$scope={dirty:H,ctx:S}),w.$set(je)},i(S){De||(L(Q.$$.fragment,S),L(le.$$.fragment,S),L(Ce.$$.fragment,S),L(we.$$.fragment,S),L(w.$$.fragment,S),De=!0)},o(S){Z(Q.$$.fragment,S),Z(le.$$.fragment,S),Z(Ce.$$.fragment,S),Z(we.$$.fragment,S),Z(w.$$.fragment,S),De=!1},d(S){S&&k(e),S&&k(f),S&&k(d),S&&k(m),S&&k(p),S&&k(y),S&&k(g),S&&k(C),S&&k(M),S&&k(P),S&&k(_),S&&k(I),S&&k(v),S&&k(D),S&&k(R),S&&k(J),S&&k(Oe),S&&k(z),S&&k(ge),S&&k(me),S&&k(ke),ae(Q),S&&k(Ne),S&&k(x),ae(le),S&&k(Ae),S&&k(he),ae(Ce),ae(we),S&&k(h),S&&k(O),ae(w),Ee=!1,xe()}}}function la(t){return[new Date().getFullYear()]}class ur extends We{constructor(e){super(),ze(this,e,la,aa,Re,{})}}const Qs={},ei={};function ca(t,e){return Object.keys(t).some(r=>e(t[r]))}function sr(t,e){return Object.keys(t||{}).reduce((r,s)=>Object.assign(Object.assign({},r),{[s]:e(t[s])}),{})}function se(t){return Object.prototype.toString.call(t)==="[object Object]"}function He(t){return Object.keys(t||{}).reduce((e,n)=>Object.assign(Object.assign({},e),{[n]:se(t[n])?He(t[n]):Array.isArray(t[n])?[...t[n]]:t[n]}),{})}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function ua(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function da(t){return function(e){if(se(e)){const n=Ye(e,t);return ua(n,["key"])}return t}}function Ye(t,e){return sr(t,n=>se(n)?Ye(n,e):Array.isArray(n)?n.map(da(e)):e)}function Et(...t){const e=t.pop(),n=t.shift();if(typeof n=="string")return n;const r=He(n);if(t.length===0)return r;for(const s of t){if(!s)continue;if(typeof s=="string")return s;let i=e(r,s);if(typeof i<"u")return i;const o=Array.from(new Set(Object.keys(r).concat(Object.keys(s))));for(const a of o)if(i=e(r[a],s[a]),typeof i<"u")r[a]=i;else if(se(s[a])&&se(r[a]))r[a]=Et(r[a],s[a],e);else if(Array.isArray(s[a]))r[a]=s[a].map((l,c)=>{if(!se(l))return l;const u=Array.isArray(r[a])?r[a][c]:r[a];return Et(u,l,e)});else if(se(s[a])){const l=Ye(He(s[a]),void 0);r[a]=Et(l,s[a],e)}else typeof s[a]<"u"&&(r[a]=s[a])}return r}function fa(t,e){if(!(se(t)&&se(e))){if(Array.isArray(e)){if(e.some(se))return;const n=Array.isArray(t)?t:[];return e.map((r,s)=>{var i;return(i=n[s])!==null&&i!==void 0?i:r})}if(typeof t<"u")return t}}function ts(...t){return Et(...t,fa)}function ti(...t){return Et(...t,()=>{})}function ct(t,e,n){const r=i=>String.prototype.split.call(e,i).filter(Boolean).reduce((o,a)=>o!=null?o[a]:o,t),s=r(/[,[\]]+?/)||r(/[,[\].]+?/);return s===void 0||s===t?n:s}function Kt(t,e,n){t&&(t=He(t)),se(t)||(t={});const r=Array.isArray(e)?e:e.match(/[^.[\]]+/g)||[],s=r[r.length-1];if(!s)return t;let i=t;for(let o=0;o<r.length-1;o++){const a=r[o];if(!i[a]||!se(i[a])&&!Array.isArray(i[a])){const l=r[o+1];isNaN(Number(l))?i[a]={}:i[a]=[]}i=i[a]}return i[s]=n(i[s]),t}function _e(t,e,n){return Kt(t,e,()=>n)}function en(t,e){if(!t||Object(t)!==t)return;typeof t<"u"&&(t=He(t));const n=Array.isArray(e)?e:e.toString().match(/[^.[\]]+/g)||[],r=n.length===1?t:ct(t,n.slice(0,-1).join("."));return Array.isArray(r)?r.splice(Number(n[n.length-1]),1):r==null||delete r[n[n.length-1]],t}function un(t,e){return ca(t,n=>se(n)?un(n,e):Array.isArray(n)?n.length===0||n.every(r=>typeof r=="string")?e(n):n.some(r=>se(r)?un(r,e):e(r)):e(n))}function zt(t){var e;return((e=t)===null||e===void 0?void 0:e.nodeName)==="INPUT"}function pa(t){var e;return((e=t)===null||e===void 0?void 0:e.nodeName)==="TEXTAREA"}function Wt(t){var e;return((e=t)===null||e===void 0?void 0:e.nodeName)==="SELECT"}function ir(t){var e;return((e=t)===null||e===void 0?void 0:e.nodeName)==="FIELDSET"}function Le(t){return zt(t)||pa(t)||Wt(t)}function ns(t){return t.nodeType===Node.ELEMENT_NODE}function Me(t,e){return e!=null?e:Le(t)?t.name:""}function dr(t){let e=t;for(;e&&e.nodeName!=="FORM";){if(e.hasAttribute("data-felte-ignore"))return!0;e=e.parentElement}return!1}function ma(t,e){if(!(se(t)||se(e))){if(t===null||t==="")return e;if(e===null||e===""||!e)return t;if(!(!t||!e)){if(Array.isArray(t)){if(!Array.isArray(e))return[...t,e];const n=[],r=Math.max(e.length,t.length);for(let s=0;s<r;s++){let i=t[s],o=e[s];!se(i)&&!se(o)?(Array.isArray(i)||(i=[i]),Array.isArray(o)||(o=[o]),n.push(...i,...o)):n.push(Ft([i!=null?i:{},o!=null?o:{}]))}return n.filter(Boolean)}return Array.isArray(e)||(e=[e]),[t,...e].reduce((n,r)=>n.concat(r),[]).filter(Boolean)}}}function Ft(t){return Et(...t,ma)}function ha(t,e){return e?(Array.isArray(e)?e:[e]).map(r=>r(t)):[]}function Cr(t,e){return e?Array.isArray(e)?e.reduce((n,r)=>r(n),t):e(t):t}function Fr(t=8){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";let n="";for(let r=0;r<t;r++)n+=e.charAt(Math.floor(Math.random()*e.length));return n}function Bn(t,e,{onInit:n,onEnd:r}={}){let s;return(...i)=>{s||n==null||n(),s&&clearTimeout(s),s=setTimeout(()=>{t.apply(this,i),s=void 0,r==null||r()},e)}}function Er(t){if(Le(t))return[t];if(t.childElementCount===0)return[];const e=new Set;for(const n of t.children){if(Le(n)&&e.add(n),ir(n))for(const r of n.elements)Le(r)&&e.add(r);n.childElementCount>0&&Er(n).forEach(r=>e.add(r))}return Array.from(e)}function ni(t){for(const e of t.elements)!Le(e)&&!ir(e)||t.hasAttribute("data-felte-keep-on-remove")&&!e.hasAttribute("data-felte-keep-on-remove")&&(e.dataset.felteKeepOnRemove=t.dataset.felteKeepOnRemove)}function ri(t){return t.type.match(/^(number|range)$/)?t.value?+t.value:void 0:t.value}function rs(t){var e;let n={},r={};for(const s of t.elements){if(ir(s)&&ni(s),!Le(s)||!s.name)continue;const i=Me(s);if(zt(s)){if(s.type==="checkbox"){if(typeof ct(n,i)>"u"){if(Array.from(t.querySelectorAll(`[name="${s.name}"]`)).filter(l=>Le(l)?i===Me(l):!1).length===1){n=_e(n,i,s.checked),r=_e(r,i,!1);continue}n=_e(n,i,s.checked?[s.value]:[]),r=_e(r,i,!1);continue}Array.isArray(ct(n,i))&&s.checked&&(n=Kt(n,i,a=>[...a,s.value]));continue}if(s.type==="radio"){if(ct(n,i))continue;n=_e(n,i,s.checked?s.value:void 0),r=_e(r,i,!1);continue}if(s.type==="file"){n=_e(n,i,s.multiple?Array.from(s.files||[]):(e=s.files)===null||e===void 0?void 0:e[0]),r=_e(r,i,!1);continue}}else if(Wt(s)){if(!s.multiple)n=_e(n,i,s.value);else{const l=Array.from(s.options).filter(c=>c.selected).map(c=>c.value);n=_e(n,i,l)}r=_e(r,i,!1);continue}const o=ri(s);n=_e(n,i,o),r=_e(r,i,!1)}return{defaultData:n,defaultTouched:r}}function ya(t,e){var n;if(!Le(t))return;const r=e;if(zt(t)){if(t.type==="checkbox"){const s=r;if(typeof s>"u"||typeof s=="boolean"){t.checked=!!s;return}Array.isArray(s)&&(s.includes(t.value)?t.checked=!0:t.checked=!1);return}if(t.type==="radio"){const s=r;t.value===s?t.checked=!0:t.checked=!1;return}if(t.type==="file"){t.files=null,t.value="";return}}else if(Wt(t)){if(t.multiple){if(Array.isArray(r)){t.value=String((n=r[0])!==null&&n!==void 0?n:"");const i=r.map(o=>String(o));for(const o of t.options)i.includes(o.value)?o.selected=!0:o.selected=!1}}else{t.value=String(r!=null?r:"");for(const i of t.options)i.value===String(r)?i.selected=!0:i.selected=!1}return}t.value=String(r!=null?r:"")}function bn(t,e){for(const n of t.elements){if(ir(n)&&ni(n),!Le(n)||!n.name)continue;const r=Me(n);ya(n,ct(e,r))}}function ss(t){const e=t.config;if(t.stage==="SETUP"){if(!e.__felteReporterSvelteId){const n=Fr(21);e.__felteReporterSvelteId=n,Qs[n]=t.errors,ei[n]=t.warnings}return{}}return t.form.hasAttribute("data-felte-reporter-svelte-id")||(t.form.dataset.felteReporterSvelteId=e.__felteReporterSvelteId),{onSubmitError(){const n=t&&t.form.querySelector('[aria-invalid="true"]:not([type="hidden"])');n&&n.focus()}}}function _a(t){return!t||"preventFocusOnError"in t?e=>ss(e):ss(t)}const ga=t=>({messages:t&4}),is=t=>({messages:t[2]}),ba=t=>({messages:t&4}),os=t=>({messages:t[2]});function va(t){let e;const n=t[9].placeholder,r=Yn(n,t,t[8],is);return{c(){r&&r.c()},m(s,i){r&&r.m(s,i),e=!0},p(s,i){r&&r.p&&(!e||i&260)&&Jn(r,n,s,s[8],e?Vn(n,s[8],i,ga):Kn(s[8]),is)},i(s){e||(L(r,s),e=!0)},o(s){Z(r,s),e=!1},d(s){r&&r.d(s)}}}function wa(t){let e;const n=t[9].default,r=Yn(n,t,t[8],os);return{c(){r&&r.c()},m(s,i){r&&r.m(s,i),e=!0},p(s,i){r&&r.p&&(!e||i&260)&&Jn(r,n,s,s[8],e?Vn(n,s[8],i,ba):Kn(s[8]),os)},i(s){e||(L(r,s),e=!0)},o(s){Z(r,s),e=!1},d(s){r&&r.d(s)}}}function ka(t){let e,n,r,s,i,o;const a=[wa,va],l=[];function c(u,f){return!u[3].placeholder||u[2]?0:1}return r=c(t),s=l[r]=a[r](t),{c(){e=N("div"),n=F(),s.c(),i=Tt(),Es(e,"display","none")},m(u,f){A(u,e,f),t[10](e),A(u,n,f),l[r].m(u,f),A(u,i,f),o=!0},p(u,[f]){let d=r;r=c(u),r===d?l[r].p(u,f):(Ke(),Z(l[d],1,1,()=>{l[d]=null}),Xe(),s=l[r],s?s.p(u,f):(s=l[r]=a[r](u),s.c()),L(s,1),s.m(i.parentNode,i))},i(u){o||(L(s),o=!0)},o(u){Z(s),o=!1},d(u){u&&k(e),t[10](null),u&&k(n),l[r].d(u),u&&k(i)}}}function Aa(t,e,n){let r,s,i=G,o=()=>(i(),i=$r(d,C=>n(7,s=C)),d);t.$$.on_destroy.push(()=>i());let{$$slots:a={},$$scope:l}=e;const c=_i(a);let{level:u="error"}=e,{for:f}=e,d,m,p;function y(){return p.closest("form")}vi(()=>{n(6,m=Me(p,f));const M=y();o(M?u==="error"?n(0,d=Qs[M.dataset.felteReporterSvelteId]):n(0,d=ei[M.dataset.felteReporterSvelteId]):n(0,d=vt({})))});function g(C){Nn[C?"unshift":"push"](()=>{p=C,n(1,p)})}return t.$$set=C=>{"level"in C&&n(4,u=C.level),"for"in C&&n(5,f=C.for),"$$scope"in C&&n(8,l=C.$$scope)},t.$$.update=()=>{t.$$.dirty&192&&n(2,r=m&&ct(s,m))},[d,p,r,c,u,f,m,s,l,a,g]}class Ca extends We{constructor(e){super(),ze(this,e,Aa,ka,Re,{level:4,for:5})}}const Ea=Ca;function as(t){let e,n,r;return{c(){e=N("p"),n=N("small"),r=q(t[4]),b(e,"class","text-gray-500")},m(s,i){A(s,e,i),E(e,n),E(n,r)},p(s,i){i&16&&st(r,s[4])},d(s){s&&k(e)}}}function ls(t){let e,n;return e=new Ea({props:{for:t[1],$$slots:{placeholder:[xa,({messages:r})=>({9:r}),({messages:r})=>r?512:0],default:[Sa,({messages:r})=>({9:r}),({messages:r})=>r?512:0]},$$scope:{ctx:t}}}),{c(){ue(e.$$.fragment)},m(r,s){oe(e,r,s),n=!0},p(r,s){const i={};s&2&&(i.for=r[1]),s&1536&&(i.$$scope={dirty:s,ctx:r}),e.$set(i)},i(r){n||(L(e.$$.fragment,r),n=!0)},o(r){Z(e.$$.fragment,r),n=!1},d(r){ae(e,r)}}}function Sa(t){let e,n=t[9]+"",r;return{c(){e=N("p"),r=q(n),b(e,"class","text-red-500 my-2")},m(s,i){A(s,e,i),E(e,r)},p(s,i){i&512&&n!==(n=s[9]+"")&&st(r,n)},d(s){s&&k(e)}}}function xa(t){let e;return{c(){e=N("span"),b(e,"slot","placeholder")},m(n,r){A(n,e,r)},p:G,d(n){n&&k(e)}}}function Ta(t){let e,n,r,s,i,o,a,l,c,u,f,d=t[4]&&as(t),m=t[1]!==void 0&&ls(t);return{c(){e=N("section"),n=N("label"),r=N("p"),s=q(t[3]),i=F(),o=N("input"),a=F(),d&&d.c(),l=F(),m&&m.c(),b(r,"class","mb-2"),b(o,"class","w-full p-2 rounded border outline-2 aria-[invalid]:outline aria-[invalid]:outline-red-500"),b(o,"name",t[1]),b(o,"type",t[2]),b(o,"autocomplete","off"),b(o,"autocorrect","off"),b(o,"autocapitalize","none"),o.required=t[5],o.disabled=t[6],b(o,"aria-required",t[5]),b(o,"placeholder",t[7]),o.value=t[0],b(e,"class","mb-2")},m(p,y){A(p,e,y),E(e,n),E(n,r),E(r,s),E(n,i),E(n,o),E(e,a),d&&d.m(e,null),E(e,l),m&&m.m(e,null),c=!0,u||(f=Je(o,"input",t[8]),u=!0)},p(p,[y]){(!c||y&8)&&st(s,p[3]),(!c||y&2)&&b(o,"name",p[1]),(!c||y&4)&&b(o,"type",p[2]),(!c||y&32)&&(o.required=p[5]),(!c||y&64)&&(o.disabled=p[6]),(!c||y&32)&&b(o,"aria-required",p[5]),(!c||y&128)&&b(o,"placeholder",p[7]),(!c||y&1&&o.value!==p[0])&&(o.value=p[0]),p[4]?d?d.p(p,y):(d=as(p),d.c(),d.m(e,l)):d&&(d.d(1),d=null),p[1]!==void 0?m?(m.p(p,y),y&2&&L(m,1)):(m=ls(p),m.c(),L(m,1),m.m(e,null)):m&&(Ke(),Z(m,1,1,()=>{m=null}),Xe())},i(p){c||(L(m),c=!0)},o(p){Z(m),c=!1},d(p){p&&k(e),d&&d.d(),m&&m.d(),u=!1,f()}}}function Oa(t,e,n){let{name:r=void 0}=e,{type:s="text"}=e,{label:i}=e,{hint:o=void 0}=e,{required:a=!1}=e,{disabled:l=!1}=e,{placeholder:c=void 0}=e,{value:u=void 0}=e;function f(d){s==="number"?n(0,u=parseInt(d.currentTarget.value,10)):n(0,u=d.currentTarget.value)}return t.$$set=d=>{"name"in d&&n(1,r=d.name),"type"in d&&n(2,s=d.type),"label"in d&&n(3,i=d.label),"hint"in d&&n(4,o=d.hint),"required"in d&&n(5,a=d.required),"disabled"in d&&n(6,l=d.disabled),"placeholder"in d&&n(7,c=d.placeholder),"value"in d&&n(0,u=d.value)},[u,r,s,i,o,a,l,c,f]}class ot extends We{constructor(e){super(),ze(this,e,Oa,Ta,Re,{name:1,type:2,label:3,hint:4,required:5,disabled:6,placeholder:7,value:0})}}function Na(t){let e,n;return{c(){e=Wr("svg"),n=Wr("path"),b(n,"d","M4.233 0a4.233 4.233 0 0 0-2.986 1.247l.742.742a3.175 3.175 0 0 1 2.244-.93 3.175 3.175 0 0 1 2.245.93l.748-.748A4.233 4.233 0 0 0 4.233 0Z"),Es(n,"fill","white"),b(e,"xmlns","http://www.w3.org/2000/svg"),b(e,"class","inline-block animate-spin"),b(e,"width",t[0]),b(e,"height",t[0]),b(e,"viewBox","0 0 8.467 8.467")},m(r,s){A(r,e,s),E(e,n)},p(r,[s]){s&1&&b(e,"width",r[0]),s&1&&b(e,"height",r[0])},i:G,o:G,d(r){r&&k(e)}}}function $a(t,e,n){let{size:r=16}=e;return t.$$set=s=>{"size"in s&&n(0,r=s.size)},[r]}class si extends We{constructor(e){super(),ze(this,e,$a,Na,Re,{size:0})}}function cs(t){let e,n;return e=new si({}),{c(){ue(e.$$.fragment)},m(r,s){oe(e,r,s),n=!0},i(r){n||(L(e.$$.fragment,r),n=!0)},o(r){Z(e.$$.fragment,r),n=!1},d(r){ae(e,r)}}}function Ia(t){let e,n,r,s,i,o,a,l,c,u;function f(p){t[3](p)}let d={type:"password",label:"Enter your Master Password",hint:"Used for decrypting storage and computing passwords",disabled:t[1]};t[0]!==void 0&&(d.value=t[0]),n=new ot({props:d}),Nn.push(()=>Ti(n,"value",f));let m=t[1]&&cs();return{c(){e=N("form"),ue(n.$$.fragment),s=F(),i=N("button"),m&&m.c(),o=q(`
    Decrypt Storage`),b(i,"class","px-4 py-2 rounded bg-blue-500 hover:bg-blue-600 text-white disabled:bg-blue-400 flex gap-2 items-center"),b(i,"type","submit"),i.disabled=a=!t[0]||t[1],b(e,"autocomplete","off")},m(p,y){A(p,e,y),oe(n,e,null),E(e,s),E(e,i),m&&m.m(i,null),E(i,o),l=!0,c||(u=Je(e,"submit",tt(t[2])),c=!0)},p(p,[y]){const g={};y&2&&(g.disabled=p[1]),!r&&y&1&&(r=!0,g.value=p[0],ki(()=>r=!1)),n.$set(g),p[1]?m?y&2&&L(m,1):(m=cs(),m.c(),L(m,1),m.m(i,o)):m&&(Ke(),Z(m,1,1,()=>{m=null}),Xe()),(!l||y&3&&a!==(a=!p[0]||p[1]))&&(i.disabled=a)},i(p){l||(L(n.$$.fragment,p),L(m),l=!0)},o(p){Z(n.$$.fragment,p),Z(m),l=!1},d(p){p&&k(e),ae(n),m&&m.d(),c=!1,u()}}}function ja(t,e,n){let r;nt(t,it,l=>n(4,r=l));let s="",i=!1;function o(){n(1,i=!0),setTimeout(()=>{n(1,i=!1),Ir(it,r=Vo(s),r),Ut("/applications")},0)}function a(l){s=l,n(0,s)}return[s,i,o,a]}class Ma extends We{constructor(e){super(),ze(this,e,ja,Ia,Re,{})}}function La(t,e,n){let r;return nt(t,it,s=>n(0,r=s)),Ir(it,r=void 0,r),Qn("/login"),[]}class Ra extends We{constructor(e){super(),ze(this,e,La,null,Re,{})}}function Za(t,...e){const n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function Ct(t){let e;return Za(t,n=>e=n)(),e}class Pa extends Error{constructor(e,n){super(e),this.name="FelteSubmitError",this.response=n}}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function ii(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function ht(t,e){return sr(t,n=>se(n)?ht(n,e):Array.isArray(n)?n.length===0||n.every(r=>typeof r=="string")?e:n.map(r=>{const s=ht(r,e);return ii(s,["key"])}):e)}function bt(t){return t?sr(t,e=>se(e)?bt(e):Array.isArray(e)?e.length===0||e.every(n=>typeof n=="string")?e:e.map(n=>{if(!se(n))return n;const r=bt(n);return r.key||(r.key=Fr()),r}):e):{}}function tn(t){return t?sr(t,e=>se(e)?bt(e):Array.isArray(e)?e.length===0||e.every(n=>typeof n=="string")?e:e.map(n=>{if(!se(n))return n;const r=bt(n);return ii(r,["key"])}):e):{}}function Da(){class t extends CustomEvent{constructor(s){super("feltesuccess",{detail:s})}}class e extends CustomEvent{constructor(s){super("felteerror",{detail:s,cancelable:!0})}setErrors(s){this.preventDefault(),this.errors=s}}class n extends Event{constructor(){super("feltesubmit",{cancelable:!0})}handleSubmit(s){this.onSubmit=s}handleError(s){this.onError=s}handleSuccess(s){this.onSuccess=s}}return{createErrorEvent:r=>new e(r),createSubmitEvent:()=>new n,createSuccessEvent:r=>new t(r)}}function Fa(t){if(!!t)return async function(){let n=new FormData(t);const r=new URL(t.action),s=t.method.toLowerCase()==="get"?"get":r.searchParams.get("_method")||t.method;let i=t.enctype;t.querySelector('input[type="file"]')&&(i="multipart/form-data"),(s==="get"||i==="application/x-www-form-urlencoded")&&(n=new URLSearchParams(n));let o;s==="get"?(n.forEach((l,c)=>{r.searchParams.append(c,l)}),o={method:s,headers:{Accept:"application/json"}}):o={method:s,body:n,headers:Object.assign(Object.assign({},i!=="multipart/form-data"&&{"Content-Type":i}),{Accept:"application/json"})};const a=await window.fetch(r.toString(),o);if(a.ok)return a;throw new Pa("An error occurred while submitting the form",a)}}function vn(t,e,n,r){return Kt(t,e,s=>(typeof s<"u"&&!Array.isArray(s)||(s||(s=[]),typeof r>"u"?s.push(n):s.splice(r,0,n)),s))}function Ua(t,e,n,r){return Kt(t,e,s=>(!s||!Array.isArray(s)||([s[n],s[r]]=[s[r],s[n]]),s))}function qa(t,e,n,r){return Kt(t,e,s=>(!s||!Array.isArray(s)||s.splice(r,0,s.splice(n,1)[0]),s))}function us(t){return typeof t=="function"}function kt(t){return(n,r)=>{if(typeof n=="string"){const s=n;t(i=>{const o=us(r)?r(ct(i,s)):r;return _e(i,s,o)})}else t(s=>us(n)?n(s):n)}}function za({stores:t,config:e,validateErrors:n,validateWarnings:r,_getCurrentExtenders:s}){var i;let o,a=bt((i=e.initialValues)!==null&&i!==void 0?i:{});const{data:l,touched:c,errors:u,warnings:f,isDirty:d,isSubmitting:m,interacted:p}=t,y=kt(l.update),g=kt(c.update),C=kt(u.update),M=kt(f.update);function P(x){y(W=>{const V=x(W);return o&&bn(o,V),V})}const _=(x,W,V)=>{kt(P)(x,W),typeof x=="string"&&V&&g(x,!0)};function I(x,W,V){const de=se(W)?ht(W,!1):!1,le=se(de)?Ye(de,[]):[];W=se(W)?Object.assign(Object.assign({},W),{key:Fr()}):W,u.update(re=>vn(re,x,le,V)),f.update(re=>vn(re,x,le,V)),c.update(re=>vn(re,x,de,V)),l.update(re=>{const Ae=vn(re,x,W,V);return setTimeout(()=>o&&bn(o,Ae)),Ae})}function v(x){u.update(x),f.update(x),c.update(x),l.update(W=>{const V=x(W);return setTimeout(()=>o&&bn(o,V)),V})}function D(x){v(W=>en(W,x))}function R(x,W,V){v(de=>Ua(de,x,W,V))}function J(x,W,V){v(de=>qa(de,x,W,V))}function Oe(x){const W=ct(a,x),V=se(W)?ht(W,!1):!1,de=se(V)?Ye(V,[]):[];l.update(le=>{const re=_e(le,x,W);return o&&bn(o,re),re}),c.update(le=>_e(le,x,V)),u.update(le=>_e(le,x,de)),f.update(le=>_e(le,x,de))}const z=kt(m.update),ge=kt(d.update),me=kt(p.update);async function ke(){const x=Ct(l);c.set(ht(x,!0)),p.set(null);const W=await n(x);return await r(x),W}function be(){_(He(a)),g(x=>Ye(x,!1)),p.set(null),d.set(!1)}function Q(x){return async function(V){var de,le,re,Ae,he,Ze,Ce;const{createErrorEvent:Se,createSubmitEvent:Pe,createSuccessEvent:Te}=Da(),we=Pe();o==null||o.dispatchEvent(we);const T=(le=(de=we.onError)!==null&&de!==void 0?de:x==null?void 0:x.onError)!==null&&le!==void 0?le:e.onError,h=(Ae=(re=we.onSuccess)!==null&&re!==void 0?re:x==null?void 0:x.onSuccess)!==null&&Ae!==void 0?Ae:e.onSuccess,O=(Ce=(Ze=(he=we.onSubmit)!==null&&he!==void 0?he:x==null?void 0:x.onSubmit)!==null&&Ze!==void 0?Ze:e.onSubmit)!==null&&Ce!==void 0?Ce:Fa(o);if(!O||(V==null||V.preventDefault(),we.defaultPrevented))return;m.set(!0),p.set(null);const Y=tn(Ct(l)),$e=await n(Y,x==null?void 0:x.validate),w=await r(Y,x==null?void 0:x.warn);if(w&&f.set(ti(Ye(Y,[]),w)),c.set(ht(Y,!0)),$e&&(c.set(ht($e,!0)),un($e,xe=>Array.isArray(xe)?xe.length>=1:!!xe))){await new Promise(xe=>setTimeout(xe)),s().forEach(xe=>{var S;return(S=xe.onSubmitError)===null||S===void 0?void 0:S.call(xe,{data:Y,errors:$e})}),m.set(!1);return}const De={setFields:_,setData:y,setTouched:g,setErrors:C,setWarnings:M,unsetField:D,addField:I,resetField:Oe,reset:be,setInitialValues:Ie.setInitialValues,moveField:J,swapFields:R,form:o,controls:o&&Array.from(o.elements).filter(Le),config:Object.assign(Object.assign({},e),x)};try{const Ee=await O(Y,De);o==null||o.dispatchEvent(Te(Object.assign({response:Ee},De))),await(h==null?void 0:h(Ee,De))}catch(Ee){const xe=Se(Object.assign({error:Ee},De));if(o==null||o.dispatchEvent(xe),!T&&!xe.defaultPrevented)throw Ee;if(!T&&!xe.errors)return;const S=xe.errors||await(T==null?void 0:T(Ee,De));S&&(c.set(ht(S,!0)),u.set(S),await new Promise(H=>setTimeout(H)),s().forEach(H=>{var Qe;return(Qe=H.onSubmitError)===null||Qe===void 0?void 0:Qe.call(H,{data:Y,errors:Ct(u)})}))}finally{m.set(!1)}}}const Ie={setData:y,setFields:_,setTouched:g,setErrors:C,setWarnings:M,setIsSubmitting:z,setIsDirty:ge,setInteracted:me,validate:ke,reset:be,unsetField:D,resetField:Oe,addField:I,swapFields:R,moveField:J,createSubmitHandler:Q,handleSubmit:Q(),setInitialValues:x=>{a=bt(x)}};return{public:Ie,private:{_setFormNode(x){o=x},_getInitialValues:()=>a}}}function Wa({helpers:t,stores:e,config:n,extender:r,createSubmitHandler:s,handleSubmit:i,_setFormNode:o,_getInitialValues:a,_setCurrentExtenders:l,_getCurrentExtenders:c}){const{setFields:u,setTouched:f,reset:d,setInitialValues:m}=t,{addValidator:p,addTransformer:y,validate:g}=t,{data:C,errors:M,warnings:P,touched:_,isSubmitting:I,isDirty:v,interacted:D,isValid:R,isValidating:J}=e;function Oe(z){z.requestSubmit||(z.requestSubmit=i);function ge(T){return function(h){return h({form:z,stage:T,controls:Array.from(z.elements).filter(Le),data:C,errors:M,warnings:P,touched:_,isValid:R,isValidating:J,isSubmitting:I,isDirty:v,interacted:D,config:n,addValidator:p,addTransformer:y,setFields:u,validate:g,reset:d,createSubmitHandler:s,handleSubmit:i})}}l(r.map(ge("MOUNT"))),z.noValidate=!!n.validate;const{defaultData:me,defaultTouched:ke}=rs(z);o(z),m(ti(He(me),a())),u(a()),_.set(ke);function be(T){const h=Me(T),O=Array.from(z.querySelectorAll(`[name="${T.name}"]`)).filter(Y=>Le(Y)?h===Me(Y):!1);if(O.length!==0)return O.length===1?C.update(Y=>_e(Y,Me(T),T.checked)):C.update(Y=>_e(Y,Me(T),O.filter(zt).filter($e=>$e.checked).map($e=>$e.value)))}function Q(T){const h=z.querySelectorAll(`[name="${T.name}"]`),O=Array.from(h).find(Y=>zt(Y)&&Y.checked);C.update(Y=>_e(Y,Me(T),O==null?void 0:O.value))}function Ie(T){var h;const O=Array.from((h=T.files)!==null&&h!==void 0?h:[]);C.update(Y=>_e(Y,Me(T),T.multiple?O:O[0]))}function Ne(T){if(!T.multiple)C.update(h=>_e(h,Me(T),T.value));else{const h=Array.from(T.options).filter(O=>O.selected).map(O=>O.value);C.update(O=>_e(O,Me(T),h))}}function x(T){const h=T.target;if(!h||!Le(h)||Wt(h)||dr(h)||["checkbox","radio","file"].includes(h.type)||!h.name)return;v.set(!0);const O=ri(h);D.set(h.name),C.update(Y=>_e(Y,Me(h),O))}function W(T){const h=T.target;if(!(!h||!Le(h)||dr(h))&&!!h.name)if(f(Me(h),!0),D.set(h.name),(Wt(h)||["checkbox","radio","file","hidden"].includes(h.type))&&v.set(!0),h.type==="hidden"&&C.update(O=>_e(O,Me(h),h.value)),Wt(h))Ne(h);else if(zt(h))h.type==="checkbox"?be(h):h.type==="radio"?Q(h):h.type==="file"&&Ie(h);else return}function V(T){const h=T.target;!h||!Le(h)||dr(h)||!h.name||(f(Me(h),!0),D.set(h.name))}function de(T){T.preventDefault(),d()}const le={childList:!0,subtree:!0};function re(T){let h=Ct(C),O=Ct(_),Y=Ct(M),$e=Ct(P);for(const w of T.reverse()){if(w.hasAttribute("data-felte-keep-on-remove")&&w.dataset.felteKeepOnRemove!=="false")continue;const De=/.*(\[[0-9]+\]|\.[0-9]+)\.[^.]+$/;let Ee=Me(w);const xe=Ct(_);if(De.test(Ee)){const H=Ee.split(".").slice(0,-1).join("."),Qe=ct(xe,H);se(Qe)&&Object.keys(Qe).length<=1&&(Ee=H)}h=en(h,Ee),O=en(O,Ee),Y=en(Y,Ee),$e=en($e,Ee)}C.set(h),_.set(O),M.set(Y),P.set($e)}const Ae=Bn(()=>{c().forEach(O=>{var Y;return(Y=O.destroy)===null||Y===void 0?void 0:Y.call(O)}),l(r.map(ge("UPDATE")));const{defaultData:T,defaultTouched:h}=rs(z);C.update(O=>ts(O,T)),_.update(O=>ts(O,h))},0);let he=[];const Ze=Bn(()=>{c().forEach(T=>{var h;return(h=T.destroy)===null||h===void 0?void 0:h.call(T)}),l(r.map(ge("UPDATE"))),re(he),he=[]},0);function Ce(T){!Array.from(T.addedNodes).some(O=>ns(O)?Le(O)?!0:Er(O).length>0:!1)||Ae()}function Se(T){for(const h of T.removedNodes){if(!ns(h))continue;const O=Er(h);O.length!==0&&(he.push(...O),Ze())}}function Pe(T){for(const h of T)h.type==="childList"&&(h.addedNodes.length>0&&Ce(h),h.removedNodes.length>0&&Se(h))}const Te=new MutationObserver(Pe);Te.observe(z,le),z.addEventListener("input",x),z.addEventListener("change",W),z.addEventListener("focusout",V),z.addEventListener("submit",i),z.addEventListener("reset",de);const we=M.subscribe(T=>{for(const h of z.elements){if(!Le(h)||!h.name)continue;const O=ct(T,Me(h)),Y=Array.isArray(O)?O.join(`
`):typeof O=="string"?O:void 0;Y!==h.dataset.felteValidationMessage&&(Y?(h.dataset.felteValidationMessage=Y,h.setAttribute("aria-invalid","true")):(delete h.dataset.felteValidationMessage,h.removeAttribute("aria-invalid")))}});return{destroy(){Te.disconnect(),z.removeEventListener("input",x),z.removeEventListener("change",W),z.removeEventListener("focusout",V),z.removeEventListener("submit",i),z.removeEventListener("reset",de),we(),c().forEach(T=>{var h;return(h=T.destroy)===null||h===void 0?void 0:h.call(T)})}}}return{form:Oe}}function Ba(t){const e={aborted:!1,priority:t};return{signal:e,abort(){e.aborted=!0}}}function Ha(t,e){if(se(t))return!e||se(e)&&Object.keys(e).length===0?Ye(t,null):void 0;if(Array.isArray(t)){if(t.some(se))return;const n=Array.isArray(e)?e:[];return t.map((r,s)=>{const i=n[s];return Array.isArray(i)&&i.length===0?null:r&&i||null})}return Array.isArray(e)&&e.length===0?null:Array.isArray(e)?t?e:null:t&&e?[e]:null}function Ya(t,e){if(se(t))return!e||se(e)&&Object.keys(e).length===0?Ye(t,null):void 0;if(Array.isArray(t)){if(t.some(se))return;const n=Array.isArray(e)?e:[];return t.map((r,s)=>{const i=n[s];return Array.isArray(i)&&i.length===0?null:i||null})}return Array.isArray(e)&&e.length===0?null:Array.isArray(e)?e:e?[e]:null}function Va([t,e]){return Et(e,t,Ha)}function Ja([t,e]){return Et(e,t,Ya)}function Ka(t){return function(n,r,s){const i=Array.isArray(n)?n:[n],o=new Array(i.length),a=t(s),l=a.set,c=a.subscribe;let u;function f(){u=i.map((m,p)=>m.subscribe(y=>{o[p]=y,l(r(o))}))}function d(){u==null||u.forEach(m=>m())}return a.subscribe=function(p){const y=c(p);return()=>{y()}},[a,f,d]}}function Xa(t,e){var n,r,s,i,o,a,l,c,u;const f=Ka(t),d=e.initialValues=e.initialValues?bt(Cr(He(e.initialValues),e.transform)):{},m=ht(tn(d),!1),p=t(m),y=t(0),[g,C,M]=f([p,y],([ye,fe])=>un(ye,Ve=>!!Ve)&&fe>=1,!1);delete g.set,delete g.update;function P(ye){let fe;return async function(Ve,et,Be,Nt=!1){if(!Be||!Ve)return;let wt=et&&Object.keys(et).length>0?et:Ye(Ve,[]);const $t=Ba(Nt);if((!(fe!=null&&fe.signal.priority)||Nt)&&(fe==null||fe.abort(),fe=$t),fe.signal.priority&&!Nt)return;y.update(Xt=>Xt+1);const qr=ha(Ve,Be);return qr.forEach(async Xt=>{const mi=await Xt;$t.signal.aborted||(wt=Ft([wt,mi]),ye.set(wt))}),await Promise.all(qr),fe=void 0,y.update(Xt=>Xt-1),wt}}let _=Ye(m,[]);const I=t(d),v=Ye(m,[]),D=t(v),R=t(He(v)),[J,Oe,z]=f([D,R],Ft,He(v)),ge=Ye(m,[]),me=t(ge),ke=t(He(ge)),[be,Q,Ie]=f([me,ke],Ft,He(ge)),[Ne,x,W]=f([J,p],Va,He(v)),[V,de,le]=f([be,p],Ja,He(ge));let re=!1;const[Ae,he,Ze]=f(J,([ye])=>{var fe;return re?!un(ye,je=>Array.isArray(je)?je.length>=1:!!je):(re=!0,!e.validate&&!(!((fe=e.debounced)===null||fe===void 0)&&fe.validate))},!e.validate&&!(!((n=e.debounced)===null||n===void 0)&&n.validate));delete Ae.set,delete Ae.update;const Ce=t(!1),Se=t(!1),Pe=t(null),Te=P(D),we=P(me),T=P(R),h=P(ke),O=Bn(T,(o=(s=(r=e.debounced)===null||r===void 0?void 0:r.validateTimeout)!==null&&s!==void 0?s:(i=e.debounced)===null||i===void 0?void 0:i.timeout)!==null&&o!==void 0?o:300,{onInit:()=>{y.update(ye=>ye+1)},onEnd:()=>{y.update(ye=>ye-1)}}),Y=Bn(h,(u=(l=(a=e.debounced)===null||a===void 0?void 0:a.warnTimeout)!==null&&l!==void 0?l:(c=e.debounced)===null||c===void 0?void 0:c.timeout)!==null&&u!==void 0?u:300);async function $e(ye,fe){var je;const Ve=tn(ye),et=Te(Ve,_,fe!=null?fe:e.validate,!0);if(fe)return et;const Be=T(Ve,_,(je=e.debounced)===null||je===void 0?void 0:je.validate,!0);return Ft(await Promise.all([et,Be]))}async function w(ye,fe){var je;const Ve=tn(ye),et=we(Ve,_,fe!=null?fe:e.warn,!0);if(fe)return et;const Be=h(Ve,_,(je=e.debounced)===null||je===void 0?void 0:je.warn,!0);return Ft(await Promise.all([et,Be]))}let De=v,Ee=ge;function xe(){const ye=I.subscribe(Be=>{var Nt,wt;const $t=tn(Be);Te($t,_,e.validate),we($t,_,e.warn),O($t,_,(Nt=e.debounced)===null||Nt===void 0?void 0:Nt.validate),Y($t,_,(wt=e.debounced)===null||wt===void 0?void 0:wt.warn)}),fe=p.subscribe(Be=>{_=Ye(Be,[])}),je=J.subscribe(Be=>{De=Be}),Ve=be.subscribe(Be=>{Ee=Be});Oe(),he(),Q(),x(),de(),C();function et(){ye(),W(),z(),Ie(),le(),Ze(),M(),fe(),je(),Ve()}return et}function S(ye){D.set(ye(De)),R.set({})}function H(ye){me.set(ye(Ee)),ke.set({})}function Qe(ye){S(()=>ye)}function fn(ye){H(()=>ye)}return Ne.set=Qe,Ne.update=S,V.set=fn,V.update=H,{data:I,errors:Ne,warnings:V,touched:p,isValid:Ae,isSubmitting:Ce,isDirty:Se,isValidating:g,interacted:Pe,validateErrors:$e,validateWarnings:w,cleanup:e.preventStoreStart?()=>{}:xe(),start:xe}}function Ga(t,e){var n,r;(n=t.extend)!==null&&n!==void 0||(t.extend=[]),(r=t.debounced)!==null&&r!==void 0||(t.debounced={}),t.validate&&!Array.isArray(t.validate)&&(t.validate=[t.validate]),t.debounced.validate&&!Array.isArray(t.debounced.validate)&&(t.debounced.validate=[t.debounced.validate]),t.transform&&!Array.isArray(t.transform)&&(t.transform=[t.transform]),t.warn&&!Array.isArray(t.warn)&&(t.warn=[t.warn]),t.debounced.warn&&!Array.isArray(t.debounced.warn)&&(t.debounced.warn=[t.debounced.warn]);function s(Q,{debounced:Ie,level:Ne}={debounced:!1,level:"error"}){var x;const W=Ne==="error"?"validate":"warn";(x=t.debounced)!==null&&x!==void 0||(t.debounced={});const V=Ie?t.debounced:t;V[W]?V[W]=[...V[W],Q]:V[W]=[Q]}function i(Q){t.transform?t.transform=[...t.transform,Q]:t.transform=[Q]}const o=Array.isArray(t.extend)?t.extend:[t.extend];let a=[];const l=()=>a,c=Q=>{a=Q},{isSubmitting:u,isValidating:f,data:d,errors:m,warnings:p,touched:y,isValid:g,isDirty:C,cleanup:M,start:P,validateErrors:_,validateWarnings:I,interacted:v}=Xa(e.storeFactory,t),D=d.update,R=d.set,J=Q=>D(Ie=>bt(Cr(Q(Ie),t.transform))),Oe=Q=>R(bt(Cr(Q,t.transform)));d.update=J,d.set=Oe;const z=za({extender:o,config:t,addValidator:s,addTransformer:i,validateErrors:_,validateWarnings:I,_getCurrentExtenders:l,stores:{data:d,errors:m,warnings:p,touched:y,isValid:g,isValidating:f,isSubmitting:u,isDirty:C,interacted:v}}),{createSubmitHandler:ge,handleSubmit:me}=z.public;a=o.map(Q=>Q({stage:"SETUP",errors:m,warnings:p,touched:y,data:d,isDirty:C,isValid:g,isValidating:f,isSubmitting:u,interacted:v,config:t,addValidator:s,addTransformer:i,setFields:z.public.setFields,reset:z.public.reset,validate:z.public.validate,handleSubmit:me,createSubmitHandler:ge}));const ke=Object.assign({config:t,stores:{data:d,touched:y,errors:m,warnings:p,isSubmitting:u,isValidating:f,isValid:g,isDirty:C,interacted:v},createSubmitHandler:ge,handleSubmit:me,helpers:Object.assign(Object.assign({},z.public),{addTransformer:i,addValidator:s}),extender:o,_getCurrentExtenders:l,_setCurrentExtenders:c},z.private),{form:be}=Wa(ke);return Object.assign({data:d,errors:m,warnings:p,touched:y,isValid:g,isSubmitting:u,isValidating:f,isDirty:C,interacted:v,form:be,cleanup:M,startStores:P},z.public)}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function Qa(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function oi(t){var e=Ga(t!=null?t:{},{storeFactory:vt}),n=e.cleanup;e.startStores;var r=Qa(e,["cleanup","startStores"]);return jr(n),r}var Sr={exports:{}},fr,ds;function el(){if(ds)return fr;ds=1;var t=1e3,e=t*60,n=e*60,r=n*24,s=r*7,i=r*365.25;fr=function(u,f){f=f||{};var d=typeof u;if(d==="string"&&u.length>0)return o(u);if(d==="number"&&isFinite(u))return f.long?l(u):a(u);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(u))};function o(u){if(u=String(u),!(u.length>100)){var f=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(u);if(!!f){var d=parseFloat(f[1]),m=(f[2]||"ms").toLowerCase();switch(m){case"years":case"year":case"yrs":case"yr":case"y":return d*i;case"weeks":case"week":case"w":return d*s;case"days":case"day":case"d":return d*r;case"hours":case"hour":case"hrs":case"hr":case"h":return d*n;case"minutes":case"minute":case"mins":case"min":case"m":return d*e;case"seconds":case"second":case"secs":case"sec":case"s":return d*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return d;default:return}}}}function a(u){var f=Math.abs(u);return f>=r?Math.round(u/r)+"d":f>=n?Math.round(u/n)+"h":f>=e?Math.round(u/e)+"m":f>=t?Math.round(u/t)+"s":u+"ms"}function l(u){var f=Math.abs(u);return f>=r?c(u,f,r,"day"):f>=n?c(u,f,n,"hour"):f>=e?c(u,f,e,"minute"):f>=t?c(u,f,t,"second"):u+" ms"}function c(u,f,d,m){var p=f>=d*1.5;return Math.round(u/d)+" "+m+(p?"s":"")}return fr}function tl(t){n.debug=n,n.default=n,n.coerce=l,n.disable=i,n.enable=s,n.enabled=o,n.humanize=el(),n.destroy=c,Object.keys(t).forEach(u=>{n[u]=t[u]}),n.names=[],n.skips=[],n.formatters={};function e(u){let f=0;for(let d=0;d<u.length;d++)f=(f<<5)-f+u.charCodeAt(d),f|=0;return n.colors[Math.abs(f)%n.colors.length]}n.selectColor=e;function n(u){let f,d=null,m,p;function y(...g){if(!y.enabled)return;const C=y,M=Number(new Date),P=M-(f||M);C.diff=P,C.prev=f,C.curr=M,f=M,g[0]=n.coerce(g[0]),typeof g[0]!="string"&&g.unshift("%O");let _=0;g[0]=g[0].replace(/%([a-zA-Z%])/g,(v,D)=>{if(v==="%%")return"%";_++;const R=n.formatters[D];if(typeof R=="function"){const J=g[_];v=R.call(C,J),g.splice(_,1),_--}return v}),n.formatArgs.call(C,g),(C.log||n.log).apply(C,g)}return y.namespace=u,y.useColors=n.useColors(),y.color=n.selectColor(u),y.extend=r,y.destroy=n.destroy,Object.defineProperty(y,"enabled",{enumerable:!0,configurable:!1,get:()=>d!==null?d:(m!==n.namespaces&&(m=n.namespaces,p=n.enabled(u)),p),set:g=>{d=g}}),typeof n.init=="function"&&n.init(y),y}function r(u,f){const d=n(this.namespace+(typeof f>"u"?":":f)+u);return d.log=this.log,d}function s(u){n.save(u),n.namespaces=u,n.names=[],n.skips=[];let f;const d=(typeof u=="string"?u:"").split(/[\s,]+/),m=d.length;for(f=0;f<m;f++)!d[f]||(u=d[f].replace(/\*/g,".*?"),u[0]==="-"?n.skips.push(new RegExp("^"+u.slice(1)+"$")):n.names.push(new RegExp("^"+u+"$")))}function i(){const u=[...n.names.map(a),...n.skips.map(a).map(f=>"-"+f)].join(",");return n.enable(""),u}function o(u){if(u[u.length-1]==="*")return!0;let f,d;for(f=0,d=n.skips.length;f<d;f++)if(n.skips[f].test(u))return!1;for(f=0,d=n.names.length;f<d;f++)if(n.names[f].test(u))return!0;return!1}function a(u){return u.toString().substring(2,u.toString().length-2).replace(/\.\*\?$/,"*")}function l(u){return u instanceof Error?u.stack||u.message:u}function c(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return n.enable(n.load()),n}var nl=tl;(function(t,e){e.formatArgs=r,e.save=s,e.load=i,e.useColors=n,e.storage=o(),e.destroy=(()=>{let l=!1;return()=>{l||(l=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function n(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function r(l){if(l[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+l[0]+(this.useColors?"%c ":" ")+"+"+t.exports.humanize(this.diff),!this.useColors)return;const c="color: "+this.color;l.splice(1,0,c,"color: inherit");let u=0,f=0;l[0].replace(/%[a-zA-Z%]/g,d=>{d!=="%%"&&(u++,d==="%c"&&(f=u))}),l.splice(f,0,c)}e.log=console.debug||console.log||(()=>{});function s(l){try{l?e.storage.setItem("debug",l):e.storage.removeItem("debug")}catch{}}function i(){let l;try{l=e.storage.getItem("debug")}catch{}return!l&&typeof process<"u"&&"env"in process&&(l=process.env.DEBUG),l}function o(){try{return localStorage}catch{}}t.exports=nl(e);const{formatters:a}=t.exports;a.j=function(l){try{return JSON.stringify(l)}catch(c){return"[UnexpectedJSONParseError]: "+c.message}}})(Sr,Sr.exports);const Ur=Sr.exports;var rl=al,at=[],fs="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var wn=0,sl=fs.length;wn<sl;++wn)at[wn]=fs[wn];function il(t){return at[t>>18&63]+at[t>>12&63]+at[t>>6&63]+at[t&63]}function ol(t,e,n){for(var r,s=[],i=e;i<n;i+=3)r=(t[i]<<16&16711680)+(t[i+1]<<8&65280)+(t[i+2]&255),s.push(il(r));return s.join("")}function al(t){for(var e,n=t.length,r=n%3,s=[],i=16383,o=0,a=n-r;o<a;o+=i)s.push(ol(t,o,o+i>a?a:o+i));return r===1?(e=t[n-1],s.push(at[e>>2]+at[e<<4&63]+"==")):r===2&&(e=(t[n-2]<<8)+t[n-1],s.push(at[e>>10]+at[e>>4&63]+at[e<<2&63]+"=")),s.join("")}const ll=new TextEncoder;function cl(t){return rl(ll.encode(t))}const Fe=Ur("dp:stores:remoteSync"),xr=`${Xs}remote-state`,Ot=vt(),ai=vt(0);let kn;function li(){kn!==void 0&&clearTimeout(kn),kn=setTimeout(()=>{kn=void 0,or()},Xo)}async function ul({host:t,username:e,password:n}){const r=cl(`${e}:${n}`),s=await fetch(`https://${t}/user/token`,{method:"PUT",headers:{authorization:`Basic ${r}`,accept:"application/json"}});if(!s.ok)throw new Error("Request failed");const{token:i}=Mo.parse(await s.json()),o={host:t,token:i,lastModifiedAt:0,localLastModifiedAt:0,lastSyncedAt:0};Ot.set(o),or()}function Tr(t){return{authorization:`Bearer ${t.token}`,accept:"application/json","content-type":"application/json"}}async function ci(t){let e=!0;if(Ot.update(n=>{if(n!==t)return n;e=!1}),!(t===void 0||e))try{await fetch(`https://${t.host}/user/token`,{method:"DELETE",headers:Tr(t),body:JSON.stringify({token:t.token})})}catch(n){Fe("failed to delete old token",n)}}function or(){Fe("trigger sync"),ai.update(t=>t+1)}async function ps(t,e){if((e.status===401||e.status===403)&&await ci(t),!e.ok){const n=await e.text();throw new Error(`Failed to send request: ${n}`)}}async function dl(t,e){const n=new Map;if(t===void 0)return{updated:n};const r=`https://${t.host}/objects`,s=await fetch(`${r}?since=${t.lastModifiedAt}`,{headers:Tr(t)});await ps(t,s);const{objects:i}=Lo.parse(await s.json());Fe("got %d remote objects since %j",i.length,t.lastModifiedAt,i);const o=new Map(e.map(d=>[d.id,d]));let a=t.lastModifiedAt;for(const{id:d,data:m,modifiedAt:p}of i){a=Math.max(a,p),o.delete(d);let y;try{y=Io.parse(JSON.parse(m))}catch(g){Fe("failed to parse remote application",m,g);continue}n.set(y.id,y)}const l=new Array;let c=t.localLastModifiedAt;const u=Array.from(o.values()).sort((d,m)=>d.modifiedAt-m.modifiedAt);for(const d of u)d.modifiedAt<=t.localLastModifiedAt||(c=Math.max(c,d.modifiedAt),l.push({id:d.id,version:d.version,encrypted:d.encrypted,removed:d.removed}));if(l.length>0){Fe("uploading %d new objects since %j",l.length,t.localLastModifiedAt);const d=await fetch(r,{method:"PUT",headers:Tr(t),body:JSON.stringify({objects:l.map(p=>({id:p.id,data:p}))})});await ps(t,d),a=Ro.parse(await d.json()).modifiedAt}const f={...t,lastModifiedAt:a,localLastModifiedAt:c,lastSyncedAt:Date.now()};return Ot.update(d=>d!==t?d:f),{updated:n}}function fl(t,e,n,{updated:r}){if(r.size===0){Fe("no changes, not applying results");return}e.update(s=>{const{localLastModifiedAt:i}=t;let o=i;const a=s.map(l=>{const c=r.get(l.id);return r.delete(l.id),l.modifiedAt>i?(Fe("app %j modified in flight",l.id),l):c===void 0?l:(o=n.next(),Fe("updated app %j",l.id),{...l,encrypted:c.encrypted,modifiedAt:o})});for(const l of r.values())o=n.next(),Fe("added app %j",l.id),a.push({...l,modifiedAt:o});return Ot.update(l=>{if(l===t)return{...l,localLastModifiedAt:o}}),a})}function pl(t,e){let n;Ot.subscribe(i=>n=i);const r=Xn([t,ai],([i])=>i);let s=0;r.subscribe(async i=>{if(li(),n===void 0){Fe("no remote state, not sync");return}if(++s!==1){Fe("%d syncs already running",s);return}Fe("starting sync");try{const o=await dl(n,i);fl(n,t,e,o)}catch(o){Fe("failed to run sync or apply sync results",o)}--s!==0&&(s=0,Fe("re-triggering sync"),or())})}const ms=localStorage.getItem(xr);if(ms)try{Ot.set(jo.parse(JSON.parse(ms)))}catch(t){Fe("Failed to update remote state store",t)}li();Ot.subscribe(async t=>{if(t===void 0){localStorage.removeItem(xr);return}localStorage.setItem(xr,JSON.stringify(t))});function ml(t){let e,n,r,s,i,o,a,l,c,u,f,d,m,p;s=new ot({props:{required:!0,name:"host",label:"Storage server hostname",placeholder:"storage.example.com"}}),s.$on("input",t[4]),s.$on("change",t[5]),s.$on("focus",t[6]),s.$on("blur",t[7]),o=new ot({props:{required:!0,name:"username",label:"Username",placeholder:"me@my.server"}}),o.$on("input",t[8]),o.$on("change",t[9]),o.$on("focus",t[10]),o.$on("blur",t[11]),l=new ot({props:{required:!0,name:"password",type:"password",label:"Password"}}),l.$on("input",t[12]),l.$on("change",t[13]),l.$on("focus",t[14]),l.$on("blur",t[15]);let y=t[0]!==void 0&&hs(t);return{c(){e=N("h2"),e.textContent="Setup Synchronization",n=F(),r=N("form"),ue(s.$$.fragment),i=F(),ue(o.$$.fragment),a=F(),ue(l.$$.fragment),c=F(),y&&y.c(),u=F(),f=N("button"),f.textContent="Login",b(e,"class","text-3xl mb-4"),b(f,"type","submit"),b(f,"class","px-4 py-2 rounded bg-blue-500 hover:bg-blue-600 text-white disabled:bg-blue-400")},m(g,C){A(g,e,C),A(g,n,C),A(g,r,C),oe(s,r,null),E(r,i),oe(o,r,null),E(r,a),oe(l,r,null),E(r,c),y&&y.m(r,null),E(r,u),E(r,f),d=!0,m||(p=Ht(t[2].call(null,r)),m=!0)},p(g,C){g[0]!==void 0?y?y.p(g,C):(y=hs(g),y.c(),y.m(r,u)):y&&(y.d(1),y=null)},i(g){d||(L(s.$$.fragment,g),L(o.$$.fragment,g),L(l.$$.fragment,g),d=!0)},o(g){Z(s.$$.fragment,g),Z(o.$$.fragment,g),Z(l.$$.fragment,g),d=!1},d(g){g&&k(e),g&&k(n),g&&k(r),ae(s),ae(o),ae(l),y&&y.d(),m=!1,p()}}}function hl(t){let e,n,r,s,i,o,a,l,c,u;function f(p,y){return p[1].lastSyncedAt?_l:yl}let d=f(t),m=d(t);return{c(){e=N("h2"),e.textContent="Synchronization",n=F(),r=N("p"),m.c(),s=F(),i=N("section"),o=N("button"),o.textContent="Sync Now",a=F(),l=N("button"),l.textContent="Unlink",b(e,"class","text-3xl mb-4"),b(r,"class","my-2"),b(o,"type","button"),b(o,"class","px-4 py-2 rounded bg-blue-500 hover:bg-blue-600 text-white disabled:bg-blue-400"),b(l,"type","reset"),b(l,"class","px-4 py-2 rounded bg-red-500 hover:bg-red-600 text-white disabled:bg-red-400"),b(i,"class","mt-4 flex gap-1")},m(p,y){A(p,e,y),A(p,n,y),A(p,r,y),m.m(r,null),A(p,s,y),A(p,i,y),E(i,o),E(i,a),E(i,l),c||(u=[Je(o,"click",tt(or)),Je(l,"click",tt(t[3]))],c=!0)},p(p,y){d===(d=f(p))&&m?m.p(p,y):(m.d(1),m=d(p),m&&(m.c(),m.m(r,null)))},i:G,o:G,d(p){p&&k(e),p&&k(n),p&&k(r),m.d(),p&&k(s),p&&k(i),c=!1,mt(u)}}}function hs(t){let e,n;return{c(){e=N("p"),n=q(t[0]),b(e,"class","my-2 text-red-500")},m(r,s){A(r,e,s),E(e,n)},p(r,s){s&1&&st(n,r[0])},d(r){r&&k(e)}}}function yl(t){let e,n,r=t[1].host+"",s,i;return{c(){e=q("Awaiting initial sync with "),n=N("b"),s=q(r),i=q(".")},m(o,a){A(o,e,a),A(o,n,a),E(n,s),A(o,i,a)},p(o,a){a&2&&r!==(r=o[1].host+"")&&st(s,r)},d(o){o&&k(e),o&&k(n),o&&k(i)}}}function _l(t){let e,n,r=t[1].host+"",s,i,o,a,l,c=new Date(t[1].lastSyncedAt).toLocaleString()+"",u,f;return{c(){e=q("Last synchronized with "),n=N("b"),s=q(r),i=F(),o=N("br"),a=q(`
      on `),l=N("b"),u=q(c),f=q(".")},m(d,m){A(d,e,m),A(d,n,m),E(n,s),A(d,i,m),A(d,o,m),A(d,a,m),A(d,l,m),E(l,u),A(d,f,m)},p(d,m){m&2&&r!==(r=d[1].host+"")&&st(s,r),m&2&&c!==(c=new Date(d[1].lastSyncedAt).toLocaleString()+"")&&st(u,c)},d(d){d&&k(e),d&&k(n),d&&k(i),d&&k(o),d&&k(a),d&&k(l),d&&k(f)}}}function gl(t){let e,n,r,s;const i=[hl,ml],o=[];function a(l,c){return l[1]?0:1}return e=a(t),n=o[e]=i[e](t),{c(){n.c(),r=Tt()},m(l,c){o[e].m(l,c),A(l,r,c),s=!0},p(l,[c]){let u=e;e=a(l),e===u?o[e].p(l,c):(Ke(),Z(o[u],1,1,()=>{o[u]=null}),Xe(),n=o[e],n?n.p(l,c):(n=o[e]=i[e](l),n.c()),L(n,1),n.m(r.parentNode,r))},i(l){s||(L(n),s=!0)},o(l){Z(n),s=!1},d(l){o[e].d(l),l&&k(r)}}}function bl(t,e,n){var P;let r;nt(t,Ot,_=>n(1,r=_));let s;const{form:i}=oi({initialValues:{host:(P=r==null?void 0:r.host)!=null?P:"",username:"",password:""},async onSubmit(_){return n(0,s=void 0),ul(_)},onError(){n(0,s="Invalid credentials or unreachable server")}}),o=()=>ci(r);function a(_){ee.call(this,t,_)}function l(_){ee.call(this,t,_)}function c(_){ee.call(this,t,_)}function u(_){ee.call(this,t,_)}function f(_){ee.call(this,t,_)}function d(_){ee.call(this,t,_)}function m(_){ee.call(this,t,_)}function p(_){ee.call(this,t,_)}function y(_){ee.call(this,t,_)}function g(_){ee.call(this,t,_)}function C(_){ee.call(this,t,_)}function M(_){ee.call(this,t,_)}return[s,r,i,o,a,l,c,u,f,d,m,p,y,g,C,M]}class vl extends We{constructor(e){super(),ze(this,e,bl,gl,Re,{})}}function wl(t){let e,n,r,s,i,o,a,l;return{c(){e=N("a"),n=N("h3"),r=q(t[1]),s=F(),i=q(t[2]),b(n,"class","text-lg font-semibold"),b(e,"href",o="/applications/"+t[0]),b(e,"class","px-4 text-blue-500 py-8 rounded border my-4 flex flex-col hover:bg-gray-100")},m(c,u){A(c,e,u),E(e,n),E(n,r),E(e,s),E(e,i),a||(l=Ht(Rr.call(null,e)),a=!0)},p(c,[u]){u&2&&st(r,c[1]),u&4&&st(i,c[2]),u&1&&o!==(o="/applications/"+c[0])&&b(e,"href",o)},i:G,o:G,d(c){c&&k(e),a=!1,l()}}}function kl(t,e,n){let{id:r}=e,{domain:s}=e,{login:i}=e;return t.$$set=o=>{"id"in o&&n(0,r=o.id),"domain"in o&&n(1,s=o.domain),"login"in o&&n(2,i=o.login)},[r,s,i]}class Al extends We{constructor(e){super(),ze(this,e,kl,wl,Re,{id:0,domain:1,login:2})}}let ui=(t=21)=>crypto.getRandomValues(new Uint8Array(t)).reduce((e,n)=>(n&=63,n<36?e+=n.toString(36):n<62?e+=(n-26).toString(36).toUpperCase():n>62?e+="-":e+="_",e),"");const Cl=Ur("dp:localSync"),ys=`${Xs}i:`;function El(t){var s,i;const e=new Array,n=vt(0);for(let o=0;o<localStorage.length;o++){const a=(s=localStorage.key(o))!=null?s:"";if(!!a.startsWith(ys))try{const l=JSON.parse((i=localStorage.getItem(a))!=null?i:""),c=Ws.parse(l);n.update(u=>Math.max(u,c.modifiedAt)),e.push(c)}catch{}}Cl("loaded %d apps",e.length),t.set(e);const r=new Map;return t.subscribe(o=>{const a=new Array;for(const{decrypted:l,...c}of o){const u=c,f=r.get(c.id);if(r.set(c.id,c.modifiedAt),f===void 0){a.push(u);continue}f!==u.modifiedAt&&a.push(u)}for(const l of a)localStorage.setItem(`${ys}${l.id}`,JSON.stringify(l))}),{lastModifiedAt:{subscribe:n.subscribe,next(){let o=Date.now();return n.update(a=>(o=Math.max(o,a+1),o)),o}}}}const Sl=Ur("dp:migrator"),xl="derivepass/production/";function Tl(t){it.subscribe(e=>{var r,s;if(e===void 0)return;let n=0;for(let i=0;i<localStorage.length;i++){const o=(r=localStorage.key(i))!=null?r:"";if(!!o.startsWith(xl))try{const a=JSON.parse((s=localStorage.getItem(o))!=null?s:""),{changedAt:l,domain:c,login:u,revision:f,options:d,removed:m}=Zo.parse(a);if(m)continue;const p=_n(e,c),y=_n(e,u),g=_n(e,f),C=Po.parse(JSON.parse(_n(e,d))),M=parseInt(g,10);if(M<1||isNaN(M))throw new Error("Negative or NaN revision");const{allowed:P,required:_,maxLength:I}=C,v=typeof I=="number"?I:parseInt(I,10);if(v<1||isNaN(v))throw new Error("Negative or NaN passwordLen");const D=Js(e,{domain:p,login:y,revision:M,allowedChars:P,requiredChars:_,passwordLen:v});t.update(R=>[...R,{id:ui(),version:Pr,encrypted:D,modifiedAt:l}]),localStorage.removeItem(o),n++}catch{}}Sl("migrated %d records",n)})}const Mt=vt([]),{lastModifiedAt:Or}=El(Mt);pl(Mt,Or);Tl(Mt);it.subscribe(t=>{Mt.update(e=>e.map(({decrypted:n,encrypted:r,...s})=>{let i;if(s.removed)return{encrypted:"",...s};if(t!==void 0)try{i=Jo(t,r)}catch{}return{decrypted:i,encrypted:r,...s}}))});const nn={subscribe:Xn(Mt,t=>t.slice().sort((e,n)=>n.modifiedAt-e.modifiedAt).map(e=>{if(!(e.removed||e.decrypted===void 0))return{id:e.id,version:e.version,...e.decrypted}}).filter(e=>e!==void 0)).subscribe,getTemplate(){return{id:ui(),version:Pr,domain:"",login:"",revision:1,...xn}},deleteById(t){Mt.update(e=>e.map(n=>n.id===t?{id:n.id,version:n.version,encrypted:"",removed:!0,modifiedAt:Or.next()}:n))},save(t,{id:e,version:n,...r}){const s=Js(t,r),i={id:e,version:n,decrypted:r,encrypted:s,modifiedAt:Or.next()};Mt.update(o=>{let a=!1;const l=o.map(c=>c.id===i.id?(a=!0,i):c);return a?l:[...o,i]})}};function _s(t,e,n){const r=t.slice();return r[6]=e[n],r}function gs(t,e){let n,r,s;return r=new Al({props:{id:e[6].id,domain:e[6].domain,login:e[6].login}}),{key:t,first:null,c(){n=Tt(),ue(r.$$.fragment),this.first=n},m(i,o){A(i,n,o),oe(r,i,o),s=!0},p(i,o){e=i;const a={};o&2&&(a.id=e[6].id),o&2&&(a.domain=e[6].domain),o&2&&(a.login=e[6].login),r.$set(a)},i(i){s||(L(r.$$.fragment,i),s=!0)},o(i){Z(r.$$.fragment,i),s=!1},d(i){i&&k(n),ae(r,i)}}}function Ol(t){let e,n,r,s,i,o=[],a=new Map,l,c,u,f,d=t[1];const m=p=>p[6].id;for(let p=0;p<d.length;p+=1){let y=_s(t,d,p),g=m(y);a.set(g,o[p]=gs(g,y))}return{c(){e=N("form"),n=N("input"),r=F(),s=N("input"),i=F();for(let p=0;p<o.length;p+=1)o[p].c();l=Tt(),b(n,"class","grow px-4 py-2 min-w-0 rounded-l border focus:outline-none"),b(n,"type","search"),b(n,"autocomplete","off"),b(n,"placeholder","Filter applications"),b(s,"class","shrink px-4 py-2 rounded-r border-y border-blue-500 hover:border-blue-600 bg-blue-500 hover:bg-blue-600 text-white"),b(s,"type","button"),s.value="Add application",b(e,"class","flex items-center rounded focus-within:outline-2 focus-within:outline outline-blue-500"),b(e,"autocomplete","off")},m(p,y){A(p,e,y),E(e,n),Br(n,t[0]),E(e,r),E(e,s),A(p,i,y);for(let g=0;g<o.length;g+=1)o[g].m(p,y);A(p,l,y),c=!0,u||(f=[Je(n,"input",t[5]),Je(s,"click",tt(t[2])),Je(e,"submit",tt(Nl))],u=!0)},p(p,[y]){y&1&&Br(n,p[0]),y&2&&(d=p[1],Ke(),o=xi(o,y,m,1,p,d,a,l.parentNode,Si,gs,l,_s),Xe())},i(p){if(!c){for(let y=0;y<d.length;y+=1)L(o[y]);c=!0}},o(p){for(let y=0;y<o.length;y+=1)Z(o[y]);c=!1},d(p){p&&k(e),p&&k(i);for(let y=0;y<o.length;y+=1)o[y].d(p);p&&k(l),u=!1,mt(f)}}}const Nl=()=>{};function $l(t,e,n){let r,s,i;nt(t,nn,c=>n(4,i=c));let o="";function a(){Ut("/applications/new")}function l(){o=this.value,n(0,o)}return t.$$.update=()=>{t.$$.dirty&1&&n(3,r=o.toLowerCase()),t.$$.dirty&24&&n(1,s=i.filter(({domain:c,login:u})=>`${c}/${u}`.toLowerCase().includes(r)))},[o,s,a,r,i,l]}class Il extends We{constructor(e){super(),ze(this,e,$l,Ol,Re,{})}}function jl(t){function e(n){return n.issues.reduce((r,s)=>s.path?Kt(r,s.path.join("."),i=>!i||!Array.isArray(i)?[s.message]:[...i,s.message]):r,{})}return async function(r){try{await t.parseAsync(r)}catch(s){return e(s)}}}function Ml({schema:t,level:e="error"}){return function(r){if(r.stage!=="SETUP")return{};const s=jl(t);return r.addValidator(s,{level:e}),{}}}function Ll(t){let e,n,r=t[8].domain+"",s,i,o=t[8].login+"",a;return{c(){e=N("h2"),n=N("b"),s=q(r),i=q("/"),a=q(o),b(e,"class","text-2xl")},m(l,c){A(l,e,c),E(e,n),E(n,s),E(e,i),E(e,a)},p(l,c){c[0]&256&&r!==(r=l[8].domain+"")&&st(s,r),c[0]&256&&o!==(o=l[8].login+"")&&st(a,o)},d(l){l&&k(e)}}}function Rl(t){let e;return{c(){e=N("h2"),e.textContent="New Application",b(e,"class","text-2xl")},m(n,r){A(n,e,r)},p:G,d(n){n&&k(e)}}}function Zl(t){let e;return{c(){e=q("Copied")},m(n,r){A(n,e,r)},i:G,o:G,d(n){n&&k(e)}}}function Pl(t){let e;return{c(){e=q("Copy password")},m(n,r){A(n,e,r)},i:G,o:G,d(n){n&&k(e)}}}function Dl(t){let e,n,r,s;return n=new si({}),{c(){e=N("div"),ue(n.$$.fragment),r=q(" Computing..."),b(e,"class","flex gap-2 items-center")},m(i,o){A(i,e,o),oe(n,e,null),E(e,r),s=!0},i(i){s||(L(n.$$.fragment,i),s=!0)},o(i){Z(n.$$.fragment,i),s=!1},d(i){i&&k(e),ae(n)}}}function Fl(t){let e;return{c(){e=q("Compute password")},m(n,r){A(n,e,r)},i:G,o:G,d(n){n&&k(e)}}}function bs(t){let e,n,r,s;function i(l,c){return l[6]===l[2].Initial?ql:Ul}let o=i(t),a=o(t);return{c(){e=N("button"),a.c(),b(e,"type","button"),b(e,"class","px-4 py-2 last:rounded-r bg-red-500 hover:bg-red-600 text-white disabled:bg-red-400"),e.disabled=n=t[6]===t[2].Safety},m(l,c){A(l,e,c),a.m(e,null),r||(s=Je(e,"click",tt(t[16])),r=!0)},p(l,c){o!==(o=i(l))&&(a.d(1),a=o(l),a&&(a.c(),a.m(e,null))),c[0]&68&&n!==(n=l[6]===l[2].Safety)&&(e.disabled=n)},d(l){l&&k(e),a.d(),r=!1,s()}}}function Ul(t){let e;return{c(){e=q("Confirm Deletion")},m(n,r){A(n,e,r)},d(n){n&&k(e)}}}function ql(t){let e;return{c(){e=q("Delete")},m(n,r){A(n,e,r)},d(n){n&&k(e)}}}function zl(t){let e,n,r,s,i,o,a,l,c,u,f,d,m,p,y,g,C,M,P,_,I,v,D,R,J,Oe,z,ge,me,ke,be,Q,Ie,Ne,x,W,V,de,le,re,Ae,he;function Ze(h,O){return h[0]?Rl:Ll}let Ce=Ze(t),Se=Ce(t);const Pe=[Fl,Dl,Pl,Zl],Te=[];function we(h,O){return h[5]===h[1].Initial?0:h[5]===h[1].Computing?1:h[5]===h[1].Computed?2:3}s=we(t),i=Te[s]=Pe[s](t),p=new ot({props:{name:"domain",label:"Domain name",placeholder:"mastodon.social",hint:"Examples: google.com, fb.com, etc"}}),p.$on("input",t[21]),p.$on("change",t[22]),p.$on("focus",t[23]),p.$on("blur",t[24]),g=new ot({props:{name:"login",type:"email",label:"Username",placeholder:"my@email.com",hint:"Examples: my_user_name, derivepass82"}}),g.$on("input",t[25]),g.$on("change",t[26]),g.$on("focus",t[27]),g.$on("blur",t[28]),M=new ot({props:{name:"revision",type:"number",label:"Revision",hint:"Increment this by one to change the password"}}),M.$on("input",t[29]),M.$on("change",t[30]),M.$on("focus",t[31]),M.$on("blur",t[32]),J=new ot({props:{name:"allowedChars",label:"Allowed characters",hint:"Characters that can be present in the password"}}),J.$on("input",t[33]),J.$on("change",t[34]),J.$on("focus",t[35]),J.$on("blur",t[36]),z=new ot({props:{name:"requiredChars",label:"Required characters",hint:"Characters that must be present in the password"}}),z.$on("input",t[37]),z.$on("change",t[38]),z.$on("focus",t[39]),z.$on("blur",t[40]),me=new ot({props:{name:"passwordLen",type:"number",label:"Password length"}}),me.$on("input",t[41]),me.$on("change",t[42]),me.$on("focus",t[43]),me.$on("blur",t[44]);let T=!t[0]&&bs(t);return{c(){Se.c(),e=F(),n=N("section"),r=N("button"),i.c(),a=F(),l=N("button"),l.textContent="Edit",c=F(),u=N("button"),f=q("Back"),d=F(),m=N("form"),ue(p.$$.fragment),y=F(),ue(g.$$.fragment),C=F(),ue(M.$$.fragment),P=F(),_=N("button"),_.textContent="Extra",I=F(),v=N("section"),D=N("p"),D.textContent="Most applications don't require editing options below.",R=F(),ue(J.$$.fragment),Oe=F(),ue(z.$$.fragment),ge=F(),ue(me.$$.fragment),ke=F(),be=N("section"),Q=N("button"),Ie=q("Save"),x=F(),W=N("button"),V=q("Reset"),le=F(),T&&T.c(),r.disabled=o=!t[9]||t[5]===t[1].Computing,b(r,"class","px-4 py-2 rounded bg-blue-500 hover:bg-blue-600 text-white disabled:bg-blue-400"),b(l,"class","text-blue-500 hover:text-blue-600 hover:underline"),b(u,"class","text-blue-500 hover:text-blue-600 hover:enabled:underline disabled:text-gray-400"),u.disabled=t[7],b(n,"class","mt-2 mb-4 flex gap-4 content-center"),b(_,"type","button"),b(_,"class","my-2 px-4 py-2 rounded border border-red-500 hover:border-red-600 text-red-500 hover:text-red-600"),b(D,"class","text-red-500 my-2"),b(v,"class","my-2"),mn(v,"hidden",!t[4]),b(Q,"type","submit"),Q.disabled=Ne=t[9]&&!t[7],b(Q,"class","px-4 py-2 rounded-l bg-blue-500 hover:bg-blue-600 text-white disabled:bg-blue-400"),b(W,"type","reset"),W.disabled=de=!t[7],b(W,"class","px-4 py-2 last:rounded-r bg-gray-500 hover:bg-gray-600 text-white disabled:bg-gray-400"),b(be,"class","flex my-2"),mn(m,"hidden",!t[3])},m(h,O){Se.m(h,O),A(h,e,O),A(h,n,O),E(n,r),Te[s].m(r,null),E(n,a),E(n,l),E(n,c),E(n,u),E(u,f),A(h,d,O),A(h,m,O),oe(p,m,null),E(m,y),oe(g,m,null),E(m,C),oe(M,m,null),E(m,P),E(m,_),E(m,I),E(m,v),E(v,D),E(v,R),oe(J,v,null),E(v,Oe),oe(z,v,null),E(v,ge),oe(me,v,null),E(m,ke),E(m,be),E(be,Q),E(Q,Ie),E(be,x),E(be,W),E(W,V),E(be,le),T&&T.m(be,null),re=!0,Ae||(he=[Je(r,"click",tt(t[10])),Je(l,"click",tt(t[17])),Je(u,"click",tt(t[18])),Je(_,"click",tt(t[19])),Je(W,"click",tt(t[13])),Ht(t[11].call(null,m))],Ae=!0)},p(h,O){Ce===(Ce=Ze(h))&&Se?Se.p(h,O):(Se.d(1),Se=Ce(h),Se&&(Se.c(),Se.m(e.parentNode,e)));let Y=s;s=we(h),s!==Y&&(Ke(),Z(Te[Y],1,1,()=>{Te[Y]=null}),Xe(),i=Te[s],i||(i=Te[s]=Pe[s](h),i.c()),L(i,1),i.m(r,null)),(!re||O[0]&546&&o!==(o=!h[9]||h[5]===h[1].Computing))&&(r.disabled=o),(!re||O[0]&128)&&(u.disabled=h[7]),(!re||O[0]&16)&&mn(v,"hidden",!h[4]),(!re||O[0]&640&&Ne!==(Ne=h[9]&&!h[7]))&&(Q.disabled=Ne),(!re||O[0]&128&&de!==(de=!h[7]))&&(W.disabled=de),h[0]?T&&(T.d(1),T=null):T?T.p(h,O):(T=bs(h),T.c(),T.m(be,null)),(!re||O[0]&8)&&mn(m,"hidden",!h[3])},i(h){re||(L(i),L(p.$$.fragment,h),L(g.$$.fragment,h),L(M.$$.fragment,h),L(J.$$.fragment,h),L(z.$$.fragment,h),L(me.$$.fragment,h),re=!0)},o(h){Z(i),Z(p.$$.fragment,h),Z(g.$$.fragment,h),Z(M.$$.fragment,h),Z(J.$$.fragment,h),Z(z.$$.fragment,h),Z(me.$$.fragment,h),re=!1},d(h){Se.d(h),h&&k(e),h&&k(n),Te[s].d(),h&&k(d),h&&k(m),ae(p),ae(g),ae(M),ae(J),ae(z),ae(me),T&&T.d(),Ae=!1,mt(he)}}}function Wl(t,e,n){let r,s,i,o;nt(t,it,w=>n(48,i=w));let{app:a}=e,{isNew:l}=e;var c;(function(w){w[w.Initial=0]="Initial",w[w.Computing=1]="Computing",w[w.Computed=2]="Computed",w[w.Copied=3]="Copied"})(c||(c={}));var u;(function(w){w[w.Initial=0]="Initial",w[w.Safety=1]="Safety",w[w.Confirming=2]="Confirming"})(u||(u={}));let f=l,d=!1,m,p=c.Initial,y=u.Initial,g,C;jr(()=>{g!==void 0&&(clearTimeout(g),g=void 0),C!==void 0&&(clearTimeout(C),C=void 0)});async function M(){const w=i;if(w===void 0){Qn("/");return}if(p===c.Initial){n(5,p=c.Computing),setTimeout(()=>{m=Yo(w,{...a,...s}),n(5,p=c.Computed)},0);return}navigator.clipboard.writeText(m!=null?m:""),g!==void 0&&clearTimeout(g),n(5,p=c.Copied),g=setTimeout(()=>{g=void 0,n(5,p=c.Computed)},5*Ar)}const P=Ss(),{form:_,data:I,reset:v,setInitialValues:D,isDirty:R,isValid:J}=oi({initialValues:a,onSubmit(w){D(w),Ir(R,r=!1,r),P("submit",w)},extend:[Ml({schema:rr}),_a]});nt(t,I,w=>n(8,s=w)),nt(t,R,w=>n(7,r=w)),nt(t,J,w=>n(9,o=w));function Oe(){if(y===u.Initial)n(6,y=u.Safety),C=setTimeout(()=>{C=void 0,n(6,y=u.Confirming)},5*Ar);else{if(y===u.Safety)return;y===u.Confirming&&(P("delete"),n(6,y=u.Initial))}}function z(){n(3,f=!f)}function ge(){Ut("/applications")}function me(){n(4,d=!d)}function ke(w){ee.call(this,t,w)}function be(w){ee.call(this,t,w)}function Q(w){ee.call(this,t,w)}function Ie(w){ee.call(this,t,w)}function Ne(w){ee.call(this,t,w)}function x(w){ee.call(this,t,w)}function W(w){ee.call(this,t,w)}function V(w){ee.call(this,t,w)}function de(w){ee.call(this,t,w)}function le(w){ee.call(this,t,w)}function re(w){ee.call(this,t,w)}function Ae(w){ee.call(this,t,w)}function he(w){ee.call(this,t,w)}function Ze(w){ee.call(this,t,w)}function Ce(w){ee.call(this,t,w)}function Se(w){ee.call(this,t,w)}function Pe(w){ee.call(this,t,w)}function Te(w){ee.call(this,t,w)}function we(w){ee.call(this,t,w)}function T(w){ee.call(this,t,w)}function h(w){ee.call(this,t,w)}function O(w){ee.call(this,t,w)}function Y(w){ee.call(this,t,w)}function $e(w){ee.call(this,t,w)}return t.$$set=w=>{"app"in w&&n(20,a=w.app),"isNew"in w&&n(0,l=w.isNew)},[l,c,u,f,d,p,y,r,s,o,M,_,I,v,R,J,Oe,z,ge,me,a,ke,be,Q,Ie,Ne,x,W,V,de,le,re,Ae,he,Ze,Ce,Se,Pe,Te,we,T,h,O,Y,$e]}class Bl extends We{constructor(e){super(),ze(this,e,Wl,zl,Re,{app:20,isNew:0},null,[-1,-1])}}function Hl(t){let e=t[6]()+"",n;return{c(){n=q(e)},m(r,s){A(r,n,s)},p:G,i:G,o:G,d(r){r&&k(n)}}}function Yl(t){let e,n;return e=new Bl({props:{isNew:t[1],app:t[0]}}),e.$on("submit",t[2]),e.$on("delete",t[3]),{c(){ue(e.$$.fragment)},m(r,s){oe(e,r,s),n=!0},p(r,s){const i={};s&2&&(i.isNew=r[1]),s&1&&(i.app=r[0]),e.$set(i)},i(r){n||(L(e.$$.fragment,r),n=!0)},o(r){Z(e.$$.fragment,r),n=!1},d(r){ae(e,r)}}}function Vl(t){let e,n,r,s;const i=[Yl,Hl],o=[];function a(l,c){return l[0]?0:1}return e=a(t),n=o[e]=i[e](t),{c(){n.c(),r=Tt()},m(l,c){o[e].m(l,c),A(l,r,c),s=!0},p(l,[c]){let u=e;e=a(l),e===u?o[e].p(l,c):(Ke(),Z(o[u],1,1,()=>{o[u]=null}),Xe(),n=o[e],n?n.p(l,c):(n=o[e]=i[e](l),n.c()),L(n,1),n.m(r.parentNode,r))},i(l){s||(L(n),s=!0)},o(l){Z(n),s=!1},d(l){o[e].d(l),l&&k(r)}}}function Jl(t,e,n){let r,s,i,o;nt(t,it,f=>n(7,i=f)),nt(t,nn,f=>n(5,o=f));let{params:a}=e;function l({detail:f}){const d=i;if(d===void 0){Ut("/login");return}nn.save(d,f),r&&Ut(`/applications/${f.id}`)}function c(){s&&nn.deleteById(s.id),Ut("/applications")}const u=()=>Qn("/applications");return t.$$set=f=>{"params"in f&&n(4,a=f.params)},t.$$.update=()=>{t.$$.dirty&16&&n(1,r=a.id==="new"),t.$$.dirty&50&&n(0,s=r?nn.getTemplate():o.find(f=>f.id===a.id))},[s,r,l,c,a,o,u]}class Kl extends We{constructor(e){super(),ze(this,e,Jl,Vl,Re,{params:4})}}const Tn=[];let di;function fi(t){const e=t.pattern.test(di);vs(t,t.className,e),vs(t,t.inactiveClassName,!e)}function vs(t,e,n){(e||"").split(" ").forEach(r=>{!r||(t.node.classList.remove(r),n&&t.node.classList.add(r))})}Gn.subscribe(t=>{di=t.location+(t.querystring?"?"+t.querystring:""),Tn.map(fi)});function Xl(t,e){if(e&&(typeof e=="string"||typeof e=="object"&&e instanceof RegExp)?e={path:e}:e=e||{},!e.path&&t.hasAttribute("href")&&(e.path=t.getAttribute("href"),e.path&&e.path.length>1&&e.path.charAt(0)=="#"&&(e.path=e.path.substring(1))),e.className||(e.className="active"),!e.path||typeof e.path=="string"&&(e.path.length<1||e.path.charAt(0)!="/"&&e.path.charAt(0)!="*"))throw Error('Invalid value for "path" argument');const{pattern:n}=typeof e.path=="string"?Is(e.path):{pattern:e.path},r={node:t,className:e.className,inactiveClassName:e.inactiveClassName,pattern:n};return Tn.push(r),fi(r),{destroy(){Tn.splice(Tn.indexOf(r),1)}}}function Gl(t){let e,n,r,s;const i=t[2].default,o=Yn(i,t,t[1],null);return{c(){e=N("a"),o&&o.c(),b(e,"href",t[0]),b(e,"class","text-zinc-500 hover:text-black")},m(a,l){A(a,e,l),o&&o.m(e,null),n=!0,r||(s=[Ht(Rr.call(null,e)),Ht(Xl.call(null,e,{className:"text-black"}))],r=!0)},p(a,[l]){o&&o.p&&(!n||l&2)&&Jn(o,i,a,a[1],n?Vn(i,a[1],l,null):Kn(a[1]),null),(!n||l&1)&&b(e,"href",a[0])},i(a){n||(L(o,a),n=!0)},o(a){Z(o,a),n=!1},d(a){a&&k(e),o&&o.d(a),r=!1,mt(s)}}}function Ql(t,e,n){let{$$slots:r={},$$scope:s}=e,{href:i}=e;return t.$$set=o=>{"href"in o&&n(0,i=o.href),"$$scope"in o&&n(1,s=o.$$scope)},[i,s,r]}class Bt extends We{constructor(e){super(),ze(this,e,Ql,Gl,Re,{href:0})}}function ec(t){let e,n;return{c(){e=N("img"),As(e.src,n=Gs)||b(e,"src",n),b(e,"width","32"),b(e,"height","32"),b(e,"alt","Logotype")},m(r,s){A(r,e,s)},p:G,d(r){r&&k(e)}}}function tc(t){let e,n;return e=new Bt({props:{href:"/applications",$$slots:{default:[rc]},$$scope:{ctx:t}}}),{c(){ue(e.$$.fragment)},m(r,s){oe(e,r,s),n=!0},i(r){n||(L(e.$$.fragment,r),n=!0)},o(r){Z(e.$$.fragment,r),n=!1},d(r){ae(e,r)}}}function nc(t){let e,n;return e=new Bt({props:{href:"/login",$$slots:{default:[sc]},$$scope:{ctx:t}}}),{c(){ue(e.$$.fragment)},m(r,s){oe(e,r,s),n=!0},i(r){n||(L(e.$$.fragment,r),n=!0)},o(r){Z(e.$$.fragment,r),n=!1},d(r){ae(e,r)}}}function rc(t){let e;return{c(){e=q("Applications")},m(n,r){A(n,e,r)},d(n){n&&k(e)}}}function sc(t){let e;return{c(){e=q("Master Password")},m(n,r){A(n,e,r)},d(n){n&&k(e)}}}function ic(t){let e;return{c(){e=q("Sync")},m(n,r){A(n,e,r)},d(n){n&&k(e)}}}function oc(t){let e;return{c(){e=q("About")},m(n,r){A(n,e,r)},d(n){n&&k(e)}}}function ws(t){let e,n;return e=new Bt({props:{href:"/logout",$$slots:{default:[ac]},$$scope:{ctx:t}}}),{c(){ue(e.$$.fragment)},m(r,s){oe(e,r,s),n=!0},i(r){n||(L(e.$$.fragment,r),n=!0)},o(r){Z(e.$$.fragment,r),n=!1},d(r){ae(e,r)}}}function ac(t){let e;return{c(){e=q("Logout")},m(n,r){A(n,e,r)},d(n){n&&k(e)}}}function lc(t){let e,n,r=t[5].message+"",s;return{c(){e=N("b"),n=q("Failed to initalize cryptography: "),s=q(r),b(e,"class","text-red-500")},m(i,o){A(i,e,o),E(e,n),E(e,s)},p:G,i:G,o:G,d(i){i&&k(e)}}}function cc(t){let e,n;return e=new Ri({props:{routes:t[1]}}),e.$on("conditionsFailed",t[2]),{c(){ue(e.$$.fragment)},m(r,s){oe(e,r,s),n=!0},p:G,i(r){n||(L(e.$$.fragment,r),n=!0)},o(r){Z(e.$$.fragment,r),n=!1},d(r){ae(e,r)}}}function uc(t){return{c:G,m:G,p:G,i:G,o:G,d:G}}function dc(t){let e,n,r,s,i,o,a,l,c,u,f,d,m;n=new Bt({props:{href:"/",$$slots:{default:[ec]},$$scope:{ctx:t}}});const p=[nc,tc],y=[];function g(P,_){return P[0]===void 0?0:1}s=g(t),i=y[s]=p[s](t),a=new Bt({props:{href:"/sync",$$slots:{default:[ic]},$$scope:{ctx:t}}}),c=new Bt({props:{href:"/about",$$slots:{default:[oc]},$$scope:{ctx:t}}});let C=t[0]!==void 0&&ws(t),M={ctx:t,current:null,token:null,hasCatch:!0,pending:uc,then:cc,catch:lc,error:5,blocks:[,,,]};return Ci(Ko,M),{c(){e=N("nav"),ue(n.$$.fragment),r=F(),i.c(),o=F(),ue(a.$$.fragment),l=F(),ue(c.$$.fragment),u=F(),C&&C.c(),f=F(),d=N("div"),M.block.c(),b(e,"class","flex gap-4 items-center p-4"),b(d,"class","container mx-auto max-w-screen-md p-4")},m(P,_){A(P,e,_),oe(n,e,null),E(e,r),y[s].m(e,null),E(e,o),oe(a,e,null),E(e,l),oe(c,e,null),E(e,u),C&&C.m(e,null),A(P,f,_),A(P,d,_),M.block.m(d,M.anchor=null),M.mount=()=>d,M.anchor=null,m=!0},p(P,[_]){t=P;const I={};_&64&&(I.$$scope={dirty:_,ctx:t}),n.$set(I);let v=s;s=g(t),s!==v&&(Ke(),Z(y[v],1,1,()=>{y[v]=null}),Xe(),i=y[s],i||(i=y[s]=p[s](t),i.c()),L(i,1),i.m(e,o));const D={};_&64&&(D.$$scope={dirty:_,ctx:t}),a.$set(D);const R={};_&64&&(R.$$scope={dirty:_,ctx:t}),c.$set(R),t[0]!==void 0?C?_&1&&L(C,1):(C=ws(t),C.c(),L(C,1),C.m(e,null)):C&&(Ke(),Z(C,1,1,()=>{C=null}),Xe()),Ei(M,t,_)},i(P){m||(L(n.$$.fragment,P),L(i),L(a.$$.fragment,P),L(c.$$.fragment,P),L(C),L(M.block),m=!0)},o(P){Z(n.$$.fragment,P),Z(i),Z(a.$$.fragment,P),Z(c.$$.fragment,P),Z(C);for(let _=0;_<3;_+=1){const I=M.blocks[_];Z(I)}m=!1},d(P){P&&k(e),ae(n),y[s].d(),ae(a),ae(c),C&&C.d(),P&&k(f),P&&k(d),M.block.d(),M.token=null,M=null}}}function fc(t,e,n){let r;nt(t,it,l=>n(0,r=l));const s=()=>r!==void 0,o={"/":ur,"/about":ur,"/sync":vl,"/login":lr({component:Ma,conditions:[()=>r===void 0]}),"/applications":lr({component:Il,conditions:[s]}),"/applications/:id":lr({component:Kl,conditions:[s]}),"/logout":Ra,"/*":ur};function a(){Qn("/login")}return[r,o,a]}class pc extends We{constructor(e){super(),ze(this,e,fc,dc,Re,{})}}const pi=document.getElementById("app");if(!pi)throw new Error("#app not found");new pc({target:pi});
