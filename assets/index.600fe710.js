(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerpolicy&&(i.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?i.credentials="include":s.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function X(){}const Oi=t=>t;function Rr(t,e){for(const n in e)t[n]=e[n];return t}function Ni(t){return t&&typeof t=="object"&&typeof t.then=="function"}function Rs(t){return t()}function Yr(){return Object.create(null)}function it(t){t.forEach(Rs)}function vn(t){return typeof t=="function"}function ze(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}let An;function Ls(t,e){return An||(An=document.createElement("a")),An.href=e,t===An.href}function Ii(t){return Object.keys(t).length===0}function Lr(t,...e){if(t==null)return X;const n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function st(t,e,n){t.$$.on_destroy.push(Lr(e,n))}function tr(t,e,n,r){if(t){const s=Ms(t,e,n,r);return t[0](s)}}function Ms(t,e,n,r){return t[1]&&r?Rr(n.ctx.slice(),t[1](r(e))):n.ctx}function nr(t,e,n,r){if(t[2]&&r){const s=t[2](r(n));if(e.dirty===void 0)return s;if(typeof s=="object"){const i=[],o=Math.max(e.dirty.length,s.length);for(let a=0;a<o;a+=1)i[a]=e.dirty[a]|s[a];return i}return e.dirty|s}return e.dirty}function rr(t,e,n,r,s,i){if(s){const o=Ms(e,n,r,i);t.p(o,s)}}function sr(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let r=0;r<n;r++)e[r]=-1;return e}return-1}function ji(t){const e={};for(const n in t)e[n]=!0;return e}function dn(t,e,n){return t.set(n),e}function Kt(t){return t&&vn(t.destroy)?t.destroy:X}const Zs=typeof window<"u";let Ri=Zs?()=>window.performance.now():()=>Date.now(),Mr=Zs?t=>requestAnimationFrame(t):X;const zt=new Set;function Ps(t){zt.forEach(e=>{e.c(t)||(zt.delete(e),e.f())}),zt.size!==0&&Mr(Ps)}function Li(t){let e;return zt.size===0&&Mr(Ps),{promise:new Promise(n=>{zt.add(e={c:t,f:n})}),abort(){zt.delete(e)}}}function v(t,e){t.appendChild(e)}function Ds(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;return e&&e.host?e:t.ownerDocument}function Mi(t){const e=$("style");return Zi(Ds(t),e),e.sheet}function Zi(t,e){return v(t.head||t,e),e.sheet}function A(t,e,n){t.insertBefore(e,n||null)}function w(t){t.parentNode&&t.parentNode.removeChild(t)}function $(t){return document.createElement(t)}function Kr(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function F(t){return document.createTextNode(t)}function U(){return F(" ")}function jt(){return F("")}function We(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function Qe(t){return function(e){return e.preventDefault(),t.call(this,e)}}function b(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function Pi(t){return Array.from(t.childNodes)}function ot(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function Xr(t,e){t.value=e==null?"":e}function Fs(t,e,n,r){n===null?t.style.removeProperty(e):t.style.setProperty(e,n,r?"important":"")}function Cn(t,e,n){t.classList[n?"add":"remove"](e)}function qs(t,e,{bubbles:n=!1,cancelable:r=!1}={}){const s=document.createEvent("CustomEvent");return s.initCustomEvent(t,n,r,e),s}function Zn(t,e){return new t(e)}const Pn=new Map;let Dn=0;function Di(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}function Fi(t,e){const n={stylesheet:Mi(e),rules:{}};return Pn.set(t,n),n}function Gr(t,e,n,r,s,i,o,a=0){const l=16.666/r;let u=`{
`;for(let x=0;x<=1;x+=l){const C=e+(n-e)*i(x);u+=x*100+`%{${o(C,1-C)}}
`}const c=u+`100% {${o(n,1-n)}}
}`,f=`__svelte_${Di(c)}_${a}`,d=Ds(t),{stylesheet:p,rules:m}=Pn.get(d)||Fi(d,t);m[f]||(m[f]=!0,p.insertRule(`@keyframes ${f} ${c}`,p.cssRules.length));const h=t.style.animation||"";return t.style.animation=`${h?`${h}, `:""}${f} ${r}ms linear ${s}ms 1 both`,Dn+=1,f}function qi(t,e){const n=(t.style.animation||"").split(", "),r=n.filter(e?i=>i.indexOf(e)<0:i=>i.indexOf("__svelte")===-1),s=n.length-r.length;s&&(t.style.animation=r.join(", "),Dn-=s,Dn||Ui())}function Ui(){Mr(()=>{Dn||(Pn.forEach(t=>{const{ownerNode:e}=t.stylesheet;e&&w(e)}),Pn.clear())})}let fn;function vt(t){fn=t}function wn(){if(!fn)throw new Error("Function called outside component initialization");return fn}function Wi(t){wn().$$.on_mount.push(t)}function zi(t){wn().$$.after_update.push(t)}function Zr(t){wn().$$.on_destroy.push(t)}function Us(){const t=wn();return(e,n,{cancelable:r=!1}={})=>{const s=t.$$.callbacks[e];if(s){const i=qs(e,n,{cancelable:r});return s.slice().forEach(o=>{o.call(t,i)}),!i.defaultPrevented}return!0}}function ne(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach(r=>r.call(this,e))}const sn=[],Ot=[],In=[],br=[],Ws=Promise.resolve();let vr=!1;function zs(){vr||(vr=!0,Ws.then(Dr))}function Pr(){return zs(),Ws}function pn(t){In.push(t)}function on(t){br.push(t)}const pr=new Set;let En=0;function Dr(){const t=fn;do{for(;En<sn.length;){const e=sn[En];En++,vt(e),Bi(e.$$)}for(vt(null),sn.length=0,En=0;Ot.length;)Ot.pop()();for(let e=0;e<In.length;e+=1){const n=In[e];pr.has(n)||(pr.add(n),n())}In.length=0}while(sn.length);for(;br.length;)br.pop()();vr=!1,pr.clear(),vt(t)}function Bi(t){if(t.fragment!==null){t.update(),it(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(pn)}}let rn;function Hi(){return rn||(rn=Promise.resolve(),rn.then(()=>{rn=null})),rn}function mr(t,e,n){t.dispatchEvent(qs(`${e?"intro":"outro"}${n}`))}const jn=new Set;let wt;function tt(){wt={r:0,c:[],p:wt}}function nt(){wt.r||it(wt.c),wt=wt.p}function P(t,e){t&&t.i&&(jn.delete(t),t.i(e))}function q(t,e,n,r){if(t&&t.o){if(jn.has(t))return;jn.add(t),wt.c.push(()=>{jn.delete(t),r&&(n&&t.d(1),r())}),t.o(e)}else r&&r()}const Vi={duration:0};function Qr(t,e,n,r){let s=e(t,n),i=r?0:1,o=null,a=null,l=null;function u(){l&&qi(t,l)}function c(d,p){const m=d.b-i;return p*=Math.abs(m),{a:i,b:d.b,d:m,duration:p,start:d.start,end:d.start+p,group:d.group}}function f(d){const{delay:p=0,duration:m=300,easing:h=Oi,tick:x=X,css:C}=s||Vi,O={start:Ri()+p,b:d};d||(O.group=wt,wt.r+=1),o||a?a=O:(C&&(u(),l=Gr(t,i,d,m,p,h,C)),d&&x(0,1),o=c(O,m),pn(()=>mr(t,d,"start")),Li(R=>{if(a&&R>a.start&&(o=c(a,m),a=null,mr(t,o.b,"start"),C&&(u(),l=Gr(t,i,o.b,o.duration,0,h,s.css))),o){if(R>=o.end)x(i=o.b,1-i),mr(t,o.b,"end"),a||(o.b?u():--o.group.r||it(o.group.c)),o=null;else if(R>=o.start){const y=R-o.start;i=o.a+o.d*h(y/o.duration),x(i,1-i)}}return!!(o||a)}))}return{run(d){vn(s)?Hi().then(()=>{s=s(),f(d)}):f(d)},end(){u(),o=a=null}}}function Ji(t,e){const n=e.token={};function r(s,i,o,a){if(e.token!==n)return;e.resolved=a;let l=e.ctx;o!==void 0&&(l=l.slice(),l[o]=a);const u=s&&(e.current=s)(l);let c=!1;e.block&&(e.blocks?e.blocks.forEach((f,d)=>{d!==i&&f&&(tt(),q(f,1,1,()=>{e.blocks[d]===f&&(e.blocks[d]=null)}),nt())}):e.block.d(1),u.c(),P(u,1),u.m(e.mount(),e.anchor),c=!0),e.block=u,e.blocks&&(e.blocks[i]=u),c&&Dr()}if(Ni(t)){const s=wn();if(t.then(i=>{vt(s),r(e.then,1,e.value,i),vt(null)},i=>{if(vt(s),r(e.catch,2,e.error,i),vt(null),!e.hasCatch)throw i}),e.current!==e.pending)return r(e.pending,0),!0}else{if(e.current!==e.then)return r(e.then,1,e.value,t),!0;e.resolved=t}}function Yi(t,e,n){const r=e.slice(),{resolved:s}=t;t.current===t.then&&(r[t.value]=s),t.current===t.catch&&(r[t.error]=s),t.block.p(r,n)}function Ki(t,e){q(t,1,1,()=>{e.delete(t.key)})}function Xi(t,e,n,r,s,i,o,a,l,u,c,f){let d=t.length,p=i.length,m=d;const h={};for(;m--;)h[t[m].key]=m;const x=[],C=new Map,O=new Map;for(m=p;m--;){const _=f(s,i,m),D=n(_);let N=o.get(D);N?r&&N.p(_,e):(N=u(D,_),N.c()),C.set(D,x[m]=N),D in h&&O.set(D,Math.abs(m-h[D]))}const R=new Set,y=new Set;function E(_){P(_,1),_.m(a,c),o.set(_.key,_),c=_.first,p--}for(;d&&p;){const _=x[p-1],D=t[d-1],N=_.key,ee=D.key;_===D?(c=_.first,d--,p--):C.has(ee)?!o.has(N)||R.has(N)?E(_):y.has(ee)?d--:O.get(N)>O.get(ee)?(y.add(N),E(_)):(R.add(ee),d--):(l(D,o),d--)}for(;d--;){const _=t[d];C.has(_.key)||l(_,o)}for(;p;)E(x[p-1]);return x}function Bs(t,e){const n={},r={},s={$$scope:1};let i=t.length;for(;i--;){const o=t[i],a=e[i];if(a){for(const l in o)l in a||(r[l]=1);for(const l in a)s[l]||(n[l]=a[l],s[l]=1);t[i]=a}else for(const l in o)s[l]=1}for(const o in r)o in n||(n[o]=void 0);return n}function Hs(t){return typeof t=="object"&&t!==null?t:{}}function an(t,e,n){const r=t.$$.props[e];r!==void 0&&(t.$$.bound[r]=n,n(t.$$.ctx[r]))}function ue(t){t&&t.c()}function oe(t,e,n,r){const{fragment:s,after_update:i}=t.$$;s&&s.m(e,n),r||pn(()=>{const o=t.$$.on_mount.map(Rs).filter(vn);t.$$.on_destroy?t.$$.on_destroy.push(...o):it(o),t.$$.on_mount=[]}),i.forEach(pn)}function ae(t,e){const n=t.$$;n.fragment!==null&&(it(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function Gi(t,e){t.$$.dirty[0]===-1&&(sn.push(t),zs(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function Ye(t,e,n,r,s,i,o,a=[-1]){const l=fn;vt(t);const u=t.$$={fragment:null,ctx:[],props:i,update:X,not_equal:s,bound:Yr(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(l?l.$$.context:[])),callbacks:Yr(),dirty:a,skip_bound:!1,root:e.target||l.$$.root};o&&o(u.root);let c=!1;if(u.ctx=n?n(t,e.props||{},(f,d,...p)=>{const m=p.length?p[0]:d;return u.ctx&&s(u.ctx[f],u.ctx[f]=m)&&(!u.skip_bound&&u.bound[f]&&u.bound[f](m),c&&Gi(t,f)),d}):[],u.update(),c=!0,it(u.before_update),u.fragment=r?r(u.ctx):!1,e.target){if(e.hydrate){const f=Pi(e.target);u.fragment&&u.fragment.l(f),f.forEach(w)}else u.fragment&&u.fragment.c();e.intro&&P(t.$$.fragment),oe(t,e.target,e.anchor,e.customElement),Dr()}vt(l)}class Ke{$destroy(){ae(this,1),this.$destroy=X}$on(e,n){if(!vn(n))return X;const r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(n),()=>{const s=r.indexOf(n);s!==-1&&r.splice(s,1)}}$set(e){this.$$set&&!Ii(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}function Qi(t){const e=t-1;return e*e*e+1}function es(t,{delay:e=0,duration:n=400,easing:r=Qi}={}){const s=getComputedStyle(t),i=+s.opacity,o=parseFloat(s.height),a=parseFloat(s.paddingTop),l=parseFloat(s.paddingBottom),u=parseFloat(s.marginTop),c=parseFloat(s.marginBottom),f=parseFloat(s.borderTopWidth),d=parseFloat(s.borderBottomWidth);return{delay:e,duration:n,easing:r,css:p=>`overflow: hidden;opacity: ${Math.min(p*20,1)*i};height: ${p*o}px;padding-top: ${p*a}px;padding-bottom: ${p*l}px;margin-top: ${p*u}px;margin-bottom: ${p*c}px;border-top-width: ${p*f}px;border-bottom-width: ${p*d}px;`}}function hr(t){if(!t)throw Error("Parameter args is required");if(!t.component==!t.asyncComponent)throw Error("One and only one of component and asyncComponent is required");if(t.component&&(t.asyncComponent=()=>Promise.resolve(t.component)),typeof t.asyncComponent!="function")throw Error("Parameter asyncComponent must be a function");if(t.conditions){Array.isArray(t.conditions)||(t.conditions=[t.conditions]);for(let n=0;n<t.conditions.length;n++)if(!t.conditions[n]||typeof t.conditions[n]!="function")throw Error("Invalid parameter conditions["+n+"]")}return t.loadingComponent&&(t.asyncComponent.loading=t.loadingComponent,t.asyncComponent.loadingParams=t.loadingParams||void 0),{component:t.asyncComponent,userData:t.userData,conditions:t.conditions&&t.conditions.length?t.conditions:void 0,props:t.props&&Object.keys(t.props).length?t.props:{},_sveltesparouter:!0}}const qt=[];function Vs(t,e){return{subscribe:at(t,e).subscribe}}function at(t,e=X){let n;const r=new Set;function s(a){if(ze(t,a)&&(t=a,n)){const l=!qt.length;for(const u of r)u[1](),qt.push(u,t);if(l){for(let u=0;u<qt.length;u+=2)qt[u][0](qt[u+1]);qt.length=0}}}function i(a){s(a(t))}function o(a,l=X){const u=[a,l];return r.add(u),r.size===1&&(n=e(s)||X),a(t),()=>{r.delete(u),r.size===0&&(n(),n=null)}}return{set:s,update:i,subscribe:o}}function ir(t,e,n){const r=!Array.isArray(t),s=r?[t]:t,i=e.length<2;return Vs(n,o=>{let a=!1;const l=[];let u=0,c=X;const f=()=>{if(u)return;c();const p=e(r?l[0]:l,o);i?o(p):c=vn(p)?p:X},d=s.map((p,m)=>Lr(p,h=>{l[m]=h,u&=~(1<<m),a&&f()},()=>{u|=1<<m}));return a=!0,f(),function(){it(d),c()}})}function Js(t,e){if(t instanceof RegExp)return{keys:!1,pattern:t};var n,r,s,i,o=[],a="",l=t.split("/");for(l[0]||l.shift();s=l.shift();)n=s[0],n==="*"?(o.push("wild"),a+="/(.*)"):n===":"?(r=s.indexOf("?",1),i=s.indexOf(".",1),o.push(s.substring(1,~r?r:~i?i:s.length)),a+=!!~r&&!~i?"(?:/([^/]+?))?":"/([^/]+?)",~i&&(a+=(~r?"?":"")+"\\"+s.substring(i))):a+="/"+s;return{keys:o,pattern:new RegExp("^"+a+(e?"(?=$|/)":"/?$"),"i")}}function eo(t){let e,n,r;const s=[t[2]];var i=t[0];function o(a){let l={};for(let u=0;u<s.length;u+=1)l=Rr(l,s[u]);return{props:l}}return i&&(e=Zn(i,o()),e.$on("routeEvent",t[7])),{c(){e&&ue(e.$$.fragment),n=jt()},m(a,l){e&&oe(e,a,l),A(a,n,l),r=!0},p(a,l){const u=l&4?Bs(s,[Hs(a[2])]):{};if(i!==(i=a[0])){if(e){tt();const c=e;q(c.$$.fragment,1,0,()=>{ae(c,1)}),nt()}i?(e=Zn(i,o()),e.$on("routeEvent",a[7]),ue(e.$$.fragment),P(e.$$.fragment,1),oe(e,n.parentNode,n)):e=null}else i&&e.$set(u)},i(a){r||(e&&P(e.$$.fragment,a),r=!0)},o(a){e&&q(e.$$.fragment,a),r=!1},d(a){a&&w(n),e&&ae(e,a)}}}function to(t){let e,n,r;const s=[{params:t[1]},t[2]];var i=t[0];function o(a){let l={};for(let u=0;u<s.length;u+=1)l=Rr(l,s[u]);return{props:l}}return i&&(e=Zn(i,o()),e.$on("routeEvent",t[6])),{c(){e&&ue(e.$$.fragment),n=jt()},m(a,l){e&&oe(e,a,l),A(a,n,l),r=!0},p(a,l){const u=l&6?Bs(s,[l&2&&{params:a[1]},l&4&&Hs(a[2])]):{};if(i!==(i=a[0])){if(e){tt();const c=e;q(c.$$.fragment,1,0,()=>{ae(c,1)}),nt()}i?(e=Zn(i,o()),e.$on("routeEvent",a[6]),ue(e.$$.fragment),P(e.$$.fragment,1),oe(e,n.parentNode,n)):e=null}else i&&e.$set(u)},i(a){r||(e&&P(e.$$.fragment,a),r=!0)},o(a){e&&q(e.$$.fragment,a),r=!1},d(a){a&&w(n),e&&ae(e,a)}}}function no(t){let e,n,r,s;const i=[to,eo],o=[];function a(l,u){return l[1]?0:1}return e=a(t),n=o[e]=i[e](t),{c(){n.c(),r=jt()},m(l,u){o[e].m(l,u),A(l,r,u),s=!0},p(l,[u]){let c=e;e=a(l),e===c?o[e].p(l,u):(tt(),q(o[c],1,1,()=>{o[c]=null}),nt(),n=o[e],n?n.p(l,u):(n=o[e]=i[e](l),n.c()),P(n,1),n.m(r.parentNode,r))},i(l){s||(P(n),s=!0)},o(l){q(n),s=!1},d(l){o[e].d(l),l&&w(r)}}}function ts(){const t=window.location.href.indexOf("#/");let e=t>-1?window.location.href.substr(t+1):"/";const n=e.indexOf("?");let r="";return n>-1&&(r=e.substr(n+1),e=e.substr(0,n)),{location:e,querystring:r}}const or=Vs(null,function(e){e(ts());const n=()=>{e(ts())};return window.addEventListener("hashchange",n,!1),function(){window.removeEventListener("hashchange",n,!1)}});ir(or,t=>t.location);ir(or,t=>t.querystring);const ns=at(void 0);async function Bt(t){if(!t||t.length<1||t.charAt(0)!="/"&&t.indexOf("#/")!==0)throw Error("Invalid parameter location");await Pr(),history.replaceState({...history.state,__svelte_spa_router_scrollX:window.scrollX,__svelte_spa_router_scrollY:window.scrollY},void 0),window.location.hash=(t.charAt(0)=="#"?"":"#")+t}async function mn(t){if(!t||t.length<1||t.charAt(0)!="/"&&t.indexOf("#/")!==0)throw Error("Invalid parameter location");await Pr();const e=(t.charAt(0)=="#"?"":"#")+t;try{const n={...history.state};delete n.__svelte_spa_router_scrollX,delete n.__svelte_spa_router_scrollY,window.history.replaceState(n,void 0,e)}catch{console.warn("Caught exception while replacing the current page. If you're running this in the Svelte REPL, please note that the `replace` method might not work in this environment.")}window.dispatchEvent(new Event("hashchange"))}function Fr(t,e){if(e=ss(e),!t||!t.tagName||t.tagName.toLowerCase()!="a")throw Error('Action "link" can only be used with <a> tags');return rs(t,e),{update(n){n=ss(n),rs(t,n)}}}function ro(t){t?window.scrollTo(t.__svelte_spa_router_scrollX,t.__svelte_spa_router_scrollY):window.scrollTo(0,0)}function rs(t,e){let n=e.href||t.getAttribute("href");if(n&&n.charAt(0)=="/")n="#"+n;else if(!n||n.length<2||n.slice(0,2)!="#/")throw Error('Invalid value for "href" attribute: '+n);t.setAttribute("href",n),t.addEventListener("click",r=>{r.preventDefault(),e.disabled||so(r.currentTarget.getAttribute("href"))})}function ss(t){return t&&typeof t=="string"?{href:t}:t||{}}function so(t){history.replaceState({...history.state,__svelte_spa_router_scrollX:window.scrollX,__svelte_spa_router_scrollY:window.scrollY},void 0),window.location.hash=t}function io(t,e,n){let{routes:r={}}=e,{prefix:s=""}=e,{restoreScrollState:i=!1}=e;class o{constructor(E,_){if(!_||typeof _!="function"&&(typeof _!="object"||_._sveltesparouter!==!0))throw Error("Invalid component object");if(!E||typeof E=="string"&&(E.length<1||E.charAt(0)!="/"&&E.charAt(0)!="*")||typeof E=="object"&&!(E instanceof RegExp))throw Error('Invalid value for "path" argument - strings must start with / or *');const{pattern:D,keys:N}=Js(E);this.path=E,typeof _=="object"&&_._sveltesparouter===!0?(this.component=_.component,this.conditions=_.conditions||[],this.userData=_.userData,this.props=_.props||{}):(this.component=()=>Promise.resolve(_),this.conditions=[],this.props={}),this._pattern=D,this._keys=N}match(E){if(s){if(typeof s=="string")if(E.startsWith(s))E=E.substr(s.length)||"/";else return null;else if(s instanceof RegExp){const ee=E.match(s);if(ee&&ee[0])E=E.substr(ee[0].length)||"/";else return null}}const _=this._pattern.exec(E);if(_===null)return null;if(this._keys===!1)return _;const D={};let N=0;for(;N<this._keys.length;){try{D[this._keys[N]]=decodeURIComponent(_[N+1]||"")||null}catch{D[this._keys[N]]=null}N++}return D}async checkConditions(E){for(let _=0;_<this.conditions.length;_++)if(!await this.conditions[_](E))return!1;return!0}}const a=[];r instanceof Map?r.forEach((y,E)=>{a.push(new o(E,y))}):Object.keys(r).forEach(y=>{a.push(new o(y,r[y]))});let l=null,u=null,c={};const f=Us();async function d(y,E){await Pr(),f(y,E)}let p=null,m=null;i&&(m=y=>{y.state&&(y.state.__svelte_spa_router_scrollY||y.state.__svelte_spa_router_scrollX)?p=y.state:p=null},window.addEventListener("popstate",m),zi(()=>{ro(p)}));let h=null,x=null;const C=or.subscribe(async y=>{h=y;let E=0;for(;E<a.length;){const _=a[E].match(y.location);if(!_){E++;continue}const D={route:a[E].path,location:y.location,querystring:y.querystring,userData:a[E].userData,params:_&&typeof _=="object"&&Object.keys(_).length?_:null};if(!await a[E].checkConditions(D)){n(0,l=null),x=null,d("conditionsFailed",D);return}d("routeLoading",Object.assign({},D));const N=a[E].component;if(x!=N){N.loading?(n(0,l=N.loading),x=N,n(1,u=N.loadingParams),n(2,c={}),d("routeLoaded",Object.assign({},D,{component:l,name:l.name,params:u}))):(n(0,l=null),x=null);const ee=await N();if(y!=h)return;n(0,l=ee&&ee.default||ee),x=N}_&&typeof _=="object"&&Object.keys(_).length?n(1,u=_):n(1,u=null),n(2,c=a[E].props),d("routeLoaded",Object.assign({},D,{component:l,name:l.name,params:u})).then(()=>{ns.set(u)});return}n(0,l=null),x=null,ns.set(void 0)});Zr(()=>{C(),m&&window.removeEventListener("popstate",m)});function O(y){ne.call(this,t,y)}function R(y){ne.call(this,t,y)}return t.$$set=y=>{"routes"in y&&n(3,r=y.routes),"prefix"in y&&n(4,s=y.prefix),"restoreScrollState"in y&&n(5,i=y.restoreScrollState)},t.$$.update=()=>{t.$$.dirty&32&&(history.scrollRestoration=i?"manual":"auto")},[l,u,c,r,s,i,O,R]}class oo extends Ke{constructor(e){super(),Ye(this,e,io,no,ze,{routes:3,prefix:4,restoreScrollState:5})}}const ao="modulepreload",lo=function(t){return"/"+t},is={},uo=function(e,n,r){if(!n||n.length===0)return e();const s=document.getElementsByTagName("link");return Promise.all(n.map(i=>{if(i=lo(i),i in is)return;is[i]=!0;const o=i.endsWith(".css"),a=o?'[rel="stylesheet"]':"";if(!!r)for(let c=s.length-1;c>=0;c--){const f=s[c];if(f.href===i&&(!o||f.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${i}"]${a}`))return;const u=document.createElement("link");if(u.rel=o?"stylesheet":ao,o||(u.as="script",u.crossOrigin=""),u.href=i,document.head.appendChild(u),o)return new Promise((c,f)=>{u.addEventListener("load",c),u.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${i}`)))})})).then(()=>e())};function co(t={}){const{immediate:e=!1,onNeedRefresh:n,onOfflineReady:r,onRegistered:s,onRegisteredSW:i,onRegisterError:o}=t;let a,l,u,c;const f=async(p=!0)=>{await u,p&&(a==null||a.addEventListener("controlling",m=>{m.isUpdate&&window.location.reload()})),await(c==null?void 0:c())};async function d(){if("serviceWorker"in navigator){const{Workbox:p,messageSW:m}=await uo(()=>import("./workbox-window.prod.es5.d2780aeb.js"),[]);c=async()=>{l&&l.waiting&&await m(l.waiting,{type:"SKIP_WAITING"})},a=new p("/sw.js",{scope:"/",type:"classic"}),a.addEventListener("activated",h=>{h.isUpdate||r==null||r()});{const h=()=>{n==null||n()};a.addEventListener("waiting",h),a.addEventListener("externalwaiting",h)}a.register({immediate:e}).then(h=>{l=h,i?i("/sw.js",h):s==null||s(h)}).catch(h=>{o==null||o(h)})}}return u=d(),f}function fo(t={}){const{immediate:e=!0,onNeedRefresh:n,onOfflineReady:r,onRegistered:s,onRegisteredSW:i,onRegisterError:o}=t,a=at(!1),l=at(!1),u=co({immediate:e,onOfflineReady(){l.set(!0),r==null||r()},onNeedRefresh(){a.set(!0),n==null||n()},onRegistered:s,onRegisteredSW:i,onRegisterError:o});return{needRefresh:a,offlineReady:l,updateServiceWorker:u}}let Ce,Rn=new Uint8Array;function Ys(){return Rn.byteLength===0&&(Rn=new Uint8Array(Ce.memory.buffer)),Rn}let dt=0;function kt(t,e){const n=e(t.length*1);return Ys().set(t,n/1),dt=t.length,n}let Ln=new Int32Array;function Xt(){return Ln.byteLength===0&&(Ln=new Int32Array(Ce.memory.buffer)),Ln}function qr(t,e){return Ys().subarray(t/1,t/1+e)}function po(t,e,n,r){try{const a=Ce.__wbindgen_add_to_stack_pointer(-16),l=kt(t,Ce.__wbindgen_malloc),u=dt,c=kt(e,Ce.__wbindgen_malloc),f=dt,d=kt(n,Ce.__wbindgen_malloc),p=dt,m=kt(r,Ce.__wbindgen_malloc),h=dt;Ce.encrypt(a,l,u,c,f,d,p,m,h);var s=Xt()[a/4+0],i=Xt()[a/4+1],o=qr(s,i).slice();return Ce.__wbindgen_free(s,i*1),o}finally{Ce.__wbindgen_add_to_stack_pointer(16)}}function Ks(t,e,n){try{const i=Ce.__wbindgen_add_to_stack_pointer(-16),o=kt(t,Ce.__wbindgen_malloc),a=dt,l=kt(e,Ce.__wbindgen_malloc),u=dt,c=kt(n,Ce.__wbindgen_malloc),f=dt;Ce.decrypt(i,o,a,l,u,c,f);var r=Xt()[i/4+0],s=Xt()[i/4+1];let d;return r!==0&&(d=qr(r,s).slice(),Ce.__wbindgen_free(r,s*1)),d}finally{Ce.__wbindgen_add_to_stack_pointer(16)}}function mo(t,e){try{const s=Ce.__wbindgen_add_to_stack_pointer(-16),i=kt(t,Ce.__wbindgen_malloc),o=dt,a=kt(e,Ce.__wbindgen_malloc),l=dt;Ce.decrypt_legacy(s,i,o,a,l);var n=Xt()[s/4+0],r=Xt()[s/4+1];let u;return n!==0&&(u=qr(n,r).slice(),Ce.__wbindgen_free(n,r*1)),u}finally{Ce.__wbindgen_add_to_stack_pointer(16)}}async function ho(t,e){if(typeof Response=="function"&&t instanceof Response){if(typeof WebAssembly.instantiateStreaming=="function")try{return await WebAssembly.instantiateStreaming(t,e)}catch(r){if(t.headers.get("Content-Type")!="application/wasm")console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",r);else throw r}const n=await t.arrayBuffer();return await WebAssembly.instantiate(n,e)}else{const n=await WebAssembly.instantiate(t,e);return n instanceof WebAssembly.Instance?{instance:n,module:t}:n}}function _o(){const t={};return t.wbg={},t}function yo(t,e){return Ce=t.exports,Xs.__wbindgen_wasm_module=e,Ln=new Int32Array,Rn=new Uint8Array,Ce}async function Xs(t){typeof t>"u"&&(t="/assets/scrypt_crate_bg.wasm");const e=_o();(typeof t=="string"||typeof Request=="function"&&t instanceof Request||typeof URL=="function"&&t instanceof URL)&&(t=fetch(t));const{instance:n,module:r}=await ho(await t,e);return yo(n,r)}function os(t){if(t>=48&&t<=57)return t-48;if(t>=65&&t<=70)return t-65+10;if(t>=97&&t<=102)return t-97+10;throw new Error("Not a hex character, code: "+t)}function wr(t){if(t.length%2!==0)throw new Error(`Invalid hex: "${t}"`);const e=new Uint8Array(t.length/2);for(let n=0;n<t.length;n+=2){const r=os(t.charCodeAt(n)),s=os(t.charCodeAt(n+1));e[n>>1]=r<<4|s}return e}function go(t){let e="";for(let n=0;n<t.length;n++){let r=t[n].toString(16);r.length<2&&(r="0"+r),e+=r}return e}const bo=Xs(),kr=1e3,Gs=60*kr,Qs=60*Gs,ei="dp:v2:",lt=at();let Sn;lt.subscribe(t=>{Sn!==void 0&&(clearTimeout(Sn),Sn=void 0),t!==void 0&&(Sn=setTimeout(()=>{lt.set(void 0)},15*Gs))});const ti="/assets/logo.f23d4d62.svg",vo="2.2.0",wo="https://github.com/derivepass/derivepass-web#readme";function ko(t){let e,n;const r=t[2].default,s=tr(r,t,t[1],null);return{c(){e=$("a"),s&&s.c(),b(e,"href",t[0]),b(e,"target","_blank"),b(e,"rel","noreferrer"),b(e,"class","text-blue-600 hover:underline")},m(i,o){A(i,e,o),s&&s.m(e,null),n=!0},p(i,[o]){s&&s.p&&(!n||o&2)&&rr(s,r,i,i[1],n?nr(r,i[1],o,null):sr(i[1]),null),(!n||o&1)&&b(e,"href",i[0])},i(i){n||(P(s,i),n=!0)},o(i){q(s,i),n=!1},d(i){i&&w(e),s&&s.d(i)}}}function Ao(t,e,n){let{$$slots:r={},$$scope:s}=e,{href:i}=e;return t.$$set=o=>{"href"in o&&n(0,i=o.href),"$$scope"in o&&n(1,s=o.$$scope)},[i,s,r]}class Lt extends Ke{constructor(e){super(),Ye(this,e,Ao,ko,ze,{href:0})}}function Co(t){let e;return{c(){e=F(`self-hosted remote storage
  `)},m(n,r){A(n,e,r)},d(n){n&&w(e)}}}function Eo(t){let e;return{c(){e=F("scrypt")},m(n,r){A(n,e,r)},d(n){n&&w(e)}}}function So(t){let e;return{c(){e=F("salt")},m(n,r){A(n,e,r)},d(n){n&&w(e)}}}function xo(t){let e;return{c(){e=F("AES")},m(n,r){A(n,e,r)},d(n){n&&w(e)}}}function To(t){let e;return{c(){e=F("HMAC-SHA256")},m(n,r){A(n,e,r)},d(n){n&&w(e)}}}function $o(t){let e,n;return{c(){e=F("source code @ "),n=F(vo)},m(r,s){A(r,e,s),A(r,n,s)},p:X,d(r){r&&w(e),r&&w(n)}}}function Oo(t){let e,n,r,s,i,o,a,l,u,c,f,d,p,m,h,x,C,O,R,y,E,_,D,N,ee,Ee,W,Ae,je,ye,Re,he,fe,Le,I,B,H,_e,le,be,de,Fe,Me,Te,$e,Ue,Be,xe,M,k,Z,V,ve,ge,Ne,we,pe,Ie,Ze,Oe,gt,g,Y,T,te,Pe;return Ee=new Lt({props:{href:"https://github.com/derivepass/derivepass-storage#readme",$$slots:{default:[Co]},$$scope:{ctx:t}}}),de=new Lt({props:{href:"https://en.wikipedia.org/wiki/Scrypt",$$slots:{default:[Eo]},$$scope:{ctx:t}}}),xe=new Lt({props:{href:"https://en.wikipedia.org/wiki/Salt_(cryptography)",$$slots:{default:[So]},$$scope:{ctx:t}}}),ve=new Lt({props:{href:"https://en.wikipedia.org/wiki/Advanced_Encryption_Standard",$$slots:{default:[xo]},$$scope:{ctx:t}}}),pe=new Lt({props:{href:"https://en.wikipedia.org/wiki/HMAC",$$slots:{default:[To]},$$scope:{ctx:t}}}),Y=new Lt({props:{href:wo,$$slots:{default:[$o]},$$scope:{ctx:t}}}),{c(){e=$("container"),n=$("img"),s=U(),i=$("container"),o=$("h1"),o.textContent="DerivePass",a=U(),l=$("h2"),l.textContent="Compute secure passwords without storing them anywhere.",u=U(),c=$("a"),c.textContent="Start",f=U(),d=$("p"),d.textContent=`Most websites require a password on Sign Up.
  Using the same password everywhere is insecure.
  Using individual secure passwords and remembering all of them - impossible!`,p=U(),m=$("p"),m.innerHTML=`<b>DerivePass</b> is here to help with the task!
  Choose the Master Password once and use it to generate an <b>unlimited</b>
  number of secure website passwords.`,h=U(),x=$("p"),x.innerHTML=`Unlike traditional password managers, <b>DerivePass</b> never uploads
  neither the Master Password nor website passwords to the cloud. The only
  information that is stored is <b>encrypted</b> website domain names and
  usernames.`,C=U(),O=$("hr"),R=U(),y=$("h3"),y.textContent="Privacy",E=U(),_=$("p"),D=F(`Your privacy is important to us. Your data is stored only locally
  `),N=$("b"),N.textContent="on your computer",ee=F(`, by default, unless you manually decide to use
  `),ue(Ee.$$.fragment),W=F(`.
  We `),Ae=$("b"),Ae.textContent="never",je=F(` store unencrypted website domain names, usernames,
  or passwords. `),ye=$("b"),ye.textContent="No tracking",Re=F(" of any kind is used on this website."),he=U(),fe=$("hr"),Le=U(),I=$("h3"),I.textContent="Security",B=U(),H=$("h4"),H.textContent="(Technical Details)",_e=U(),le=$("p"),be=F(`The
  `),ue(de.$$.fragment),Fe=F(`
  algorithm is used for deriving application passwords and
  encryption/authentication keys. Due to the strong cryptographic properties
  of scrypt, the compromise of any single application password does not
  compromise other passwords or the Master Password itself.`),Me=U(),Te=$("p"),$e=F(`An application's domain name (website), username, and revision are used for
  generating unique and secure passwords. In particular,
  `),Ue=$("code"),Ue.textContent="domain/username(#revision)",Be=F(`
  is used as a
  `),ue(xe.$$.fragment),M=F(`
  parameter of scrypt. Thus every revision increment will result in a
  completely different generated password. This is convenient for changing the
  password whenever it is required or just rotating them on a schedule.`),k=U(),Z=$("p"),V=F(`Every bit of information that is stored locally and/or remotely (through
  optional synchronization) is encrypted with an
  `),ue(ve.$$.fragment),ge=F(`
  key generated from the Master Password via the scrypt algorithm, using
  `),Ne=$("code"),Ne.textContent="derivepass/aes",we=F(`
  as a salt. The data is further passed to the
  `),ue(pe.$$.fragment),Ie=F(`
  algorithm to ensure the data integrity.`),Ze=U(),Oe=$("footer"),gt=$("p"),gt.textContent=`Copyright ${t[0]}, Fedor Indutny`,g=U(),ue(Y.$$.fragment),Ls(n.src,r=ti)||b(n,"src",r),b(n,"alt","Big Logotype"),b(n,"class","grow max-w-xs lg:max-w-full"),b(o,"class","text-4xl font-semibold mb-4"),b(l,"class","text-xl mb-4"),b(c,"href","/login"),b(c,"class","inline-block px-4 py-2 rounded bg-blue-600 hover:bg-blue-700 active:bg-blue-800 text-white text-xl"),b(i,"class","grow basis-96 mb-4"),b(e,"class","flex flex-row-reverse flex-wrap justify-center items-center text-center sm:text-start"),b(d,"class","my-2"),b(m,"class","my-2"),b(x,"class","my-2"),b(O,"class","my-4"),b(y,"class","my-4 text-3xl text-semibold"),b(fe,"class","my-4"),b(I,"class","my-4 text-3xl text-semibold"),b(H,"class","my-2 text-lg"),b(le,"class","my-2"),b(Ue,"class","border border-slate-200 bg-slate-100 px-1"),b(Te,"class","my-2"),b(Ne,"class","border border-slate-200 bg-slate-100 px-1"),b(Z,"class","my-2"),b(Oe,"class","text-xs text-right")},m(S,J){A(S,e,J),v(e,n),v(e,s),v(e,i),v(i,o),v(i,a),v(i,l),v(i,u),v(i,c),A(S,f,J),A(S,d,J),A(S,p,J),A(S,m,J),A(S,h,J),A(S,x,J),A(S,C,J),A(S,O,J),A(S,R,J),A(S,y,J),A(S,E,J),A(S,_,J),v(_,D),v(_,N),v(_,ee),oe(Ee,_,null),v(_,W),v(_,Ae),v(_,je),v(_,ye),v(_,Re),A(S,he,J),A(S,fe,J),A(S,Le,J),A(S,I,J),A(S,B,J),A(S,H,J),A(S,_e,J),A(S,le,J),v(le,be),oe(de,le,null),v(le,Fe),A(S,Me,J),A(S,Te,J),v(Te,$e),v(Te,Ue),v(Te,Be),oe(xe,Te,null),v(Te,M),A(S,k,J),A(S,Z,J),v(Z,V),oe(ve,Z,null),v(Z,ge),v(Z,Ne),v(Z,we),oe(pe,Z,null),v(Z,Ie),A(S,Ze,J),A(S,Oe,J),v(Oe,gt),v(Oe,g),oe(Y,Oe,null),T=!0,te||(Pe=Kt(Fr.call(null,c)),te=!0)},p(S,[J]){const Xe={};J&2&&(Xe.$$scope={dirty:J,ctx:S}),Ee.$set(Xe);const rt={};J&2&&(rt.$$scope={dirty:J,ctx:S}),de.$set(rt);const nn={};J&2&&(nn.$$scope={dirty:J,ctx:S}),xe.$set(nn);const St={};J&2&&(St.$$scope={dirty:J,ctx:S}),ve.$set(St);const kn={};J&2&&(kn.$$scope={dirty:J,ctx:S}),pe.$set(kn);const Jr={};J&2&&(Jr.$$scope={dirty:J,ctx:S}),Y.$set(Jr)},i(S){T||(P(Ee.$$.fragment,S),P(de.$$.fragment,S),P(xe.$$.fragment,S),P(ve.$$.fragment,S),P(pe.$$.fragment,S),P(Y.$$.fragment,S),T=!0)},o(S){q(Ee.$$.fragment,S),q(de.$$.fragment,S),q(xe.$$.fragment,S),q(ve.$$.fragment,S),q(pe.$$.fragment,S),q(Y.$$.fragment,S),T=!1},d(S){S&&w(e),S&&w(f),S&&w(d),S&&w(p),S&&w(m),S&&w(h),S&&w(x),S&&w(C),S&&w(O),S&&w(R),S&&w(y),S&&w(E),S&&w(_),ae(Ee),S&&w(he),S&&w(fe),S&&w(Le),S&&w(I),S&&w(B),S&&w(H),S&&w(_e),S&&w(le),ae(de),S&&w(Me),S&&w(Te),ae(xe),S&&w(k),S&&w(Z),ae(ve),ae(pe),S&&w(Ze),S&&w(Oe),ae(Y),te=!1,Pe()}}}function No(t){return[new Date().getFullYear()]}class _r extends Ke{constructor(e){super(),Ye(this,e,No,Oo,ze,{})}}const ni={},ri={};function Io(t,e){return Object.keys(t).some(r=>e(t[r]))}function ar(t,e){return Object.keys(t||{}).reduce((r,s)=>Object.assign(Object.assign({},r),{[s]:e(t[s])}),{})}function ie(t){return Object.prototype.toString.call(t)==="[object Object]"}function Ge(t){return Object.keys(t||{}).reduce((e,n)=>Object.assign(Object.assign({},e),{[n]:ie(t[n])?Ge(t[n]):Array.isArray(t[n])?[...t[n]]:t[n]}),{})}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function jo(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function Ro(t){return function(e){if(ie(e)){const n=et(e,t);return jo(n,["key"])}return t}}function et(t,e){return ar(t,n=>ie(n)?et(n,e):Array.isArray(n)?n.map(Ro(e)):e)}function Nt(...t){const e=t.pop(),n=t.shift();if(typeof n=="string")return n;const r=Ge(n);if(t.length===0)return r;for(const s of t){if(!s)continue;if(typeof s=="string")return s;let i=e(r,s);if(typeof i<"u")return i;const o=Array.from(new Set(Object.keys(r).concat(Object.keys(s))));for(const a of o)if(i=e(r[a],s[a]),typeof i<"u")r[a]=i;else if(ie(s[a])&&ie(r[a]))r[a]=Nt(r[a],s[a],e);else if(Array.isArray(s[a]))r[a]=s[a].map((l,u)=>{if(!ie(l))return l;const c=Array.isArray(r[a])?r[a][u]:r[a];return Nt(c,l,e)});else if(ie(s[a])){const l=et(Ge(s[a]),void 0);r[a]=Nt(l,s[a],e)}else typeof s[a]<"u"&&(r[a]=s[a])}return r}function Lo(t,e){if(!(ie(t)&&ie(e))){if(Array.isArray(e)){if(e.some(ie))return;const n=Array.isArray(t)?t:[];return e.map((r,s)=>{var i;return(i=n[s])!==null&&i!==void 0?i:r})}if(typeof t<"u")return t}}function as(...t){return Nt(...t,Lo)}function si(...t){return Nt(...t,()=>{})}function ft(t,e,n){const r=i=>String.prototype.split.call(e,i).filter(Boolean).reduce((o,a)=>o!=null?o[a]:o,t),s=r(/[,[\]]+?/)||r(/[,[\].]+?/);return s===void 0||s===t?n:s}function tn(t,e,n){t&&(t=Ge(t)),ie(t)||(t={});const r=Array.isArray(e)?e:e.match(/[^.[\]]+/g)||[],s=r[r.length-1];if(!s)return t;let i=t;for(let o=0;o<r.length-1;o++){const a=r[o];if(!i[a]||!ie(i[a])&&!Array.isArray(i[a])){const l=r[o+1];isNaN(Number(l))?i[a]={}:i[a]=[]}i=i[a]}return i[s]=n(i[s]),t}function ke(t,e,n){return tn(t,e,()=>n)}function ln(t,e){if(!t||Object(t)!==t)return;typeof t<"u"&&(t=Ge(t));const n=Array.isArray(e)?e:e.toString().match(/[^.[\]]+/g)||[],r=n.length===1?t:ft(t,n.slice(0,-1).join("."));return Array.isArray(r)?r.splice(Number(n[n.length-1]),1):r==null||delete r[n[n.length-1]],t}function hn(t,e){return Io(t,n=>ie(n)?hn(n,e):Array.isArray(n)?n.length===0||n.every(r=>typeof r=="string")?e(n):n.some(r=>ie(r)?hn(r,e):e(r)):e(n))}function Ht(t){var e;return((e=t)===null||e===void 0?void 0:e.nodeName)==="INPUT"}function Mo(t){var e;return((e=t)===null||e===void 0?void 0:e.nodeName)==="TEXTAREA"}function Vt(t){var e;return((e=t)===null||e===void 0?void 0:e.nodeName)==="SELECT"}function lr(t){var e;return((e=t)===null||e===void 0?void 0:e.nodeName)==="FIELDSET"}function qe(t){return Ht(t)||Mo(t)||Vt(t)}function ls(t){return t.nodeType===Node.ELEMENT_NODE}function De(t,e){return e!=null?e:qe(t)?t.name:""}function yr(t){let e=t;for(;e&&e.nodeName!=="FORM";){if(e.hasAttribute("data-felte-ignore"))return!0;e=e.parentElement}return!1}function Zo(t,e){if(!(ie(t)||ie(e))){if(t===null||t==="")return e;if(e===null||e===""||!e)return t;if(!(!t||!e)){if(Array.isArray(t)){if(!Array.isArray(e))return[...t,e];const n=[],r=Math.max(e.length,t.length);for(let s=0;s<r;s++){let i=t[s],o=e[s];!ie(i)&&!ie(o)?(Array.isArray(i)||(i=[i]),Array.isArray(o)||(o=[o]),n.push(...i,...o)):n.push(Ut([i!=null?i:{},o!=null?o:{}]))}return n.filter(Boolean)}return Array.isArray(e)||(e=[e]),[t,...e].reduce((n,r)=>n.concat(r),[]).filter(Boolean)}}}function Ut(t){return Nt(...t,Zo)}function Po(t,e){return e?(Array.isArray(e)?e:[e]).map(r=>r(t)):[]}function Ar(t,e){return e?Array.isArray(e)?e.reduce((n,r)=>r(n),t):e(t):t}function Ur(t=8){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";let n="";for(let r=0;r<t;r++)n+=e.charAt(Math.floor(Math.random()*e.length));return n}function Fn(t,e,{onInit:n,onEnd:r}={}){let s;return(...i)=>{s||n==null||n(),s&&clearTimeout(s),s=setTimeout(()=>{t.apply(this,i),s=void 0,r==null||r()},e)}}function Cr(t){if(qe(t))return[t];if(t.childElementCount===0)return[];const e=new Set;for(const n of t.children){if(qe(n)&&e.add(n),lr(n))for(const r of n.elements)qe(r)&&e.add(r);n.childElementCount>0&&Cr(n).forEach(r=>e.add(r))}return Array.from(e)}function ii(t){for(const e of t.elements)!qe(e)&&!lr(e)||t.hasAttribute("data-felte-keep-on-remove")&&!e.hasAttribute("data-felte-keep-on-remove")&&(e.dataset.felteKeepOnRemove=t.dataset.felteKeepOnRemove)}function oi(t){return t.type.match(/^(number|range)$/)?t.value?+t.value:void 0:t.value}function us(t){var e;let n={},r={};for(const s of t.elements){if(lr(s)&&ii(s),!qe(s)||!s.name)continue;const i=De(s);if(Ht(s)){if(s.type==="checkbox"){if(typeof ft(n,i)>"u"){if(Array.from(t.querySelectorAll(`[name="${s.name}"]`)).filter(l=>qe(l)?i===De(l):!1).length===1){n=ke(n,i,s.checked),r=ke(r,i,!1);continue}n=ke(n,i,s.checked?[s.value]:[]),r=ke(r,i,!1);continue}Array.isArray(ft(n,i))&&s.checked&&(n=tn(n,i,a=>[...a,s.value]));continue}if(s.type==="radio"){if(ft(n,i))continue;n=ke(n,i,s.checked?s.value:void 0),r=ke(r,i,!1);continue}if(s.type==="file"){n=ke(n,i,s.multiple?Array.from(s.files||[]):(e=s.files)===null||e===void 0?void 0:e[0]),r=ke(r,i,!1);continue}}else if(Vt(s)){if(!s.multiple)n=ke(n,i,s.value);else{const l=Array.from(s.options).filter(u=>u.selected).map(u=>u.value);n=ke(n,i,l)}r=ke(r,i,!1);continue}const o=oi(s);n=ke(n,i,o),r=ke(r,i,!1)}return{defaultData:n,defaultTouched:r}}function Do(t,e){var n;if(!qe(t))return;const r=e;if(Ht(t)){if(t.type==="checkbox"){const s=r;if(typeof s>"u"||typeof s=="boolean"){t.checked=!!s;return}Array.isArray(s)&&(s.includes(t.value)?t.checked=!0:t.checked=!1);return}if(t.type==="radio"){const s=r;t.value===s?t.checked=!0:t.checked=!1;return}if(t.type==="file"){t.files=null,t.value="";return}}else if(Vt(t)){if(t.multiple){if(Array.isArray(r)){t.value=String((n=r[0])!==null&&n!==void 0?n:"");const i=r.map(o=>String(o));for(const o of t.options)i.includes(o.value)?o.selected=!0:o.selected=!1}}else{t.value=String(r!=null?r:"");for(const i of t.options)i.value===String(r)?i.selected=!0:i.selected=!1}return}t.value=String(r!=null?r:"")}function xn(t,e){for(const n of t.elements){if(lr(n)&&ii(n),!qe(n)||!n.name)continue;const r=De(n);Do(n,ft(e,r))}}function cs(t){const e=t.config;if(t.stage==="SETUP"){if(!e.__felteReporterSvelteId){const n=Ur(21);e.__felteReporterSvelteId=n,ni[n]=t.errors,ri[n]=t.warnings}return{}}return t.form.hasAttribute("data-felte-reporter-svelte-id")||(t.form.dataset.felteReporterSvelteId=e.__felteReporterSvelteId),{onSubmitError(){const n=t&&t.form.querySelector('[aria-invalid="true"]:not([type="hidden"])');n&&n.focus()}}}function Fo(t){return!t||"preventFocusOnError"in t?e=>cs(e):cs(t)}const qo=t=>({messages:t&4}),ds=t=>({messages:t[2]}),Uo=t=>({messages:t&4}),fs=t=>({messages:t[2]});function Wo(t){let e;const n=t[9].placeholder,r=tr(n,t,t[8],ds);return{c(){r&&r.c()},m(s,i){r&&r.m(s,i),e=!0},p(s,i){r&&r.p&&(!e||i&260)&&rr(r,n,s,s[8],e?nr(n,s[8],i,qo):sr(s[8]),ds)},i(s){e||(P(r,s),e=!0)},o(s){q(r,s),e=!1},d(s){r&&r.d(s)}}}function zo(t){let e;const n=t[9].default,r=tr(n,t,t[8],fs);return{c(){r&&r.c()},m(s,i){r&&r.m(s,i),e=!0},p(s,i){r&&r.p&&(!e||i&260)&&rr(r,n,s,s[8],e?nr(n,s[8],i,Uo):sr(s[8]),fs)},i(s){e||(P(r,s),e=!0)},o(s){q(r,s),e=!1},d(s){r&&r.d(s)}}}function Bo(t){let e,n,r,s,i,o;const a=[zo,Wo],l=[];function u(c,f){return!c[3].placeholder||c[2]?0:1}return r=u(t),s=l[r]=a[r](t),{c(){e=$("div"),n=U(),s.c(),i=jt(),Fs(e,"display","none")},m(c,f){A(c,e,f),t[10](e),A(c,n,f),l[r].m(c,f),A(c,i,f),o=!0},p(c,[f]){let d=r;r=u(c),r===d?l[r].p(c,f):(tt(),q(l[d],1,1,()=>{l[d]=null}),nt(),s=l[r],s?s.p(c,f):(s=l[r]=a[r](c),s.c()),P(s,1),s.m(i.parentNode,i))},i(c){o||(P(s),o=!0)},o(c){q(s),o=!1},d(c){c&&w(e),t[10](null),c&&w(n),l[r].d(c),c&&w(i)}}}function Ho(t,e,n){let r,s,i=X,o=()=>(i(),i=Lr(d,C=>n(7,s=C)),d);t.$$.on_destroy.push(()=>i());let{$$slots:a={},$$scope:l}=e;const u=ji(a);let{level:c="error"}=e,{for:f}=e,d,p,m;function h(){return m.closest("form")}Wi(()=>{n(6,p=De(m,f));const O=h();o(O?c==="error"?n(0,d=ni[O.dataset.felteReporterSvelteId]):n(0,d=ri[O.dataset.felteReporterSvelteId]):n(0,d=at({})))});function x(C){Ot[C?"unshift":"push"](()=>{m=C,n(1,m)})}return t.$$set=C=>{"level"in C&&n(4,c=C.level),"for"in C&&n(5,f=C.for),"$$scope"in C&&n(8,l=C.$$scope)},t.$$.update=()=>{t.$$.dirty&192&&n(2,r=p&&ft(s,p))},[d,m,r,u,c,f,p,s,l,a,x]}class Vo extends Ke{constructor(e){super(),Ye(this,e,Ho,Bo,ze,{level:4,for:5})}}const Jo=Vo;function ps(t){let e,n,r;return{c(){e=$("p"),n=$("small"),r=F(t[4]),b(e,"class","text-gray-500")},m(s,i){A(s,e,i),v(e,n),v(n,r)},p(s,i){i&16&&ot(r,s[4])},d(s){s&&w(e)}}}function ms(t){let e,n;return e=new Jo({props:{for:t[1],$$slots:{placeholder:[Ko,({messages:r})=>({9:r}),({messages:r})=>r?512:0],default:[Yo,({messages:r})=>({9:r}),({messages:r})=>r?512:0]},$$scope:{ctx:t}}}),{c(){ue(e.$$.fragment)},m(r,s){oe(e,r,s),n=!0},p(r,s){const i={};s&2&&(i.for=r[1]),s&1536&&(i.$$scope={dirty:s,ctx:r}),e.$set(i)},i(r){n||(P(e.$$.fragment,r),n=!0)},o(r){q(e.$$.fragment,r),n=!1},d(r){ae(e,r)}}}function Yo(t){let e,n=t[9]+"",r;return{c(){e=$("p"),r=F(n),b(e,"class","text-red-500 my-2")},m(s,i){A(s,e,i),v(e,r)},p(s,i){i&512&&n!==(n=s[9]+"")&&ot(r,n)},d(s){s&&w(e)}}}function Ko(t){let e;return{c(){e=$("span"),b(e,"slot","placeholder")},m(n,r){A(n,e,r)},p:X,d(n){n&&w(e)}}}function Xo(t){let e,n,r,s,i,o,a,l,u,c,f,d=t[4]&&ps(t),p=t[1]!==void 0&&ms(t);return{c(){e=$("section"),n=$("label"),r=$("p"),s=F(t[3]),i=U(),o=$("input"),a=U(),d&&d.c(),l=U(),p&&p.c(),b(r,"class","mb-2"),b(o,"class","w-full p-2 rounded border outline-2 aria-[invalid]:outline aria-[invalid]:outline-red-500"),b(o,"name",t[1]),b(o,"type",t[2]),b(o,"autocomplete","off"),b(o,"autocorrect","off"),b(o,"autocapitalize","none"),o.required=t[5],o.disabled=t[6],b(o,"aria-required",t[5]),b(o,"placeholder",t[7]),o.value=t[0],b(e,"class","mb-2")},m(m,h){A(m,e,h),v(e,n),v(n,r),v(r,s),v(n,i),v(n,o),v(e,a),d&&d.m(e,null),v(e,l),p&&p.m(e,null),u=!0,c||(f=We(o,"input",t[8]),c=!0)},p(m,[h]){(!u||h&8)&&ot(s,m[3]),(!u||h&2)&&b(o,"name",m[1]),(!u||h&4)&&b(o,"type",m[2]),(!u||h&32)&&(o.required=m[5]),(!u||h&64)&&(o.disabled=m[6]),(!u||h&32)&&b(o,"aria-required",m[5]),(!u||h&128)&&b(o,"placeholder",m[7]),(!u||h&1&&o.value!==m[0])&&(o.value=m[0]),m[4]?d?d.p(m,h):(d=ps(m),d.c(),d.m(e,l)):d&&(d.d(1),d=null),m[1]!==void 0?p?(p.p(m,h),h&2&&P(p,1)):(p=ms(m),p.c(),P(p,1),p.m(e,null)):p&&(tt(),q(p,1,1,()=>{p=null}),nt())},i(m){u||(P(p),u=!0)},o(m){q(p),u=!1},d(m){m&&w(e),d&&d.d(),p&&p.d(),c=!1,f()}}}function Go(t,e,n){let{name:r=void 0}=e,{type:s="text"}=e,{label:i}=e,{hint:o=void 0}=e,{required:a=!1}=e,{disabled:l=!1}=e,{placeholder:u=void 0}=e,{value:c=void 0}=e;function f(d){s==="number"?n(0,c=parseInt(d.currentTarget.value,10)):n(0,c=d.currentTarget.value)}return t.$$set=d=>{"name"in d&&n(1,r=d.name),"type"in d&&n(2,s=d.type),"label"in d&&n(3,i=d.label),"hint"in d&&n(4,o=d.hint),"required"in d&&n(5,a=d.required),"disabled"in d&&n(6,l=d.disabled),"placeholder"in d&&n(7,u=d.placeholder),"value"in d&&n(0,c=d.value)},[c,r,s,i,o,a,l,u,f]}class ut extends Ke{constructor(e){super(),Ye(this,e,Go,Xo,ze,{name:1,type:2,label:3,hint:4,required:5,disabled:6,placeholder:7,value:0})}}function Qo(t){let e,n;return{c(){e=Kr("svg"),n=Kr("path"),b(n,"d","M4.233 0a4.233 4.233 0 0 0-2.986 1.247l.742.742a3.175 3.175 0 0 1 2.244-.93 3.175 3.175 0 0 1 2.245.93l.748-.748A4.233 4.233 0 0 0 4.233 0Z"),Fs(n,"fill","white"),b(e,"xmlns","http://www.w3.org/2000/svg"),b(e,"class","inline-block animate-spin"),b(e,"width",t[0]),b(e,"height",t[0]),b(e,"viewBox","0 0 8.467 8.467")},m(r,s){A(r,e,s),v(e,n)},p(r,[s]){s&1&&b(e,"width",r[0]),s&1&&b(e,"height",r[0])},i:X,o:X,d(r){r&&w(e)}}}function ea(t,e,n){let{size:r=16}=e;return t.$$set=s=>{"size"in s&&n(0,r=s.size)},[r]}class ai extends Ke{constructor(e){super(),Ye(this,e,ea,Qo,ze,{size:0})}}function ta(){return new Worker("/assets/worker.d696367f.js")}const li=new ta,ui=new Array;li.addEventListener("message",t=>{var n;const e=t.data;(n=ui.shift())==null||n(e)});function ci(t){return new Promise(e=>{ui.push(e),li.postMessage(t)})}async function na(t,e){const n=await ci({type:"computePassword",keys:t,app:e});if(n.type!=="computePassword")throw new Error("Invalid response");return n.result}async function ra(t){const e=await ci({type:"computeKeys",master:t});if(e.type!=="computeKeys")throw new Error("Invalid response");return e.result}function sa(t){let e;return{c(){e=F("Decrypt Storage")},m(n,r){A(n,e,r)},i:X,o:X,d(n){n&&w(e)}}}function ia(t){let e,n,r;return e=new ai({}),{c(){ue(e.$$.fragment),n=F(`
      Decrypting Storage`)},m(s,i){oe(e,s,i),A(s,n,i),r=!0},i(s){r||(P(e.$$.fragment,s),r=!0)},o(s){q(e.$$.fragment,s),r=!1},d(s){ae(e,s),s&&w(n)}}}function oa(t){let e,n,r,s,i,o,a,l,u,c,f;function d(C){t[3](C)}let p={type:"password",label:"Enter your Master Password",hint:"Used for decrypting storage and computing passwords",disabled:t[1]};t[0]!==void 0&&(p.value=t[0]),n=new ut({props:p}),Ot.push(()=>an(n,"value",d));const m=[ia,sa],h=[];function x(C,O){return C[1]?0:1}return o=x(t),a=h[o]=m[o](t),{c(){e=$("form"),ue(n.$$.fragment),s=U(),i=$("button"),a.c(),b(i,"class","px-4 py-2 rounded bg-blue-600 hover:bg-blue-700 active:bg-blue-800 text-white disabled:bg-blue-400 flex gap-2 items-center"),b(i,"type","submit"),i.disabled=l=!t[0]||t[1],b(e,"autocomplete","off")},m(C,O){A(C,e,O),oe(n,e,null),v(e,s),v(e,i),h[o].m(i,null),u=!0,c||(f=We(e,"submit",Qe(t[2])),c=!0)},p(C,[O]){const R={};O&2&&(R.disabled=C[1]),!r&&O&1&&(r=!0,R.value=C[0],on(()=>r=!1)),n.$set(R);let y=o;o=x(C),o!==y&&(tt(),q(h[y],1,1,()=>{h[y]=null}),nt(),a=h[o],a||(a=h[o]=m[o](C),a.c()),P(a,1),a.m(i,null)),(!u||O&3&&l!==(l=!C[0]||C[1]))&&(i.disabled=l)},i(C){u||(P(n.$$.fragment,C),P(a),u=!0)},o(C){q(n.$$.fragment,C),q(a),u=!1},d(C){C&&w(e),ae(n),h[o].d(),c=!1,f()}}}function aa(t,e,n){let r;st(t,lt,l=>n(4,r=l));let s="",i=!1;async function o(){n(1,i=!0),dn(lt,r=await ra(s),r),n(1,i=!1),Bt("/applications")}function a(l){s=l,n(0,s)}return[s,i,o,a]}class la extends Ke{constructor(e){super(),Ye(this,e,aa,oa,ze,{})}}function ua(t,e,n){let r;return st(t,lt,s=>n(0,r=s)),dn(lt,r=void 0,r),mn("/login"),[]}class ca extends Ke{constructor(e){super(),Ye(this,e,ua,null,ze,{})}}function da(t,...e){const n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function Tt(t){let e;return da(t,n=>e=n)(),e}class fa extends Error{constructor(e,n){super(e),this.name="FelteSubmitError",this.response=n}}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function di(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function bt(t,e){return ar(t,n=>ie(n)?bt(n,e):Array.isArray(n)?n.length===0||n.every(r=>typeof r=="string")?e:n.map(r=>{const s=bt(r,e);return di(s,["key"])}):e)}function Ct(t){return t?ar(t,e=>ie(e)?Ct(e):Array.isArray(e)?e.length===0||e.every(n=>typeof n=="string")?e:e.map(n=>{if(!ie(n))return n;const r=Ct(n);return r.key||(r.key=Ur()),r}):e):{}}function un(t){return t?ar(t,e=>ie(e)?Ct(e):Array.isArray(e)?e.length===0||e.every(n=>typeof n=="string")?e:e.map(n=>{if(!ie(n))return n;const r=Ct(n);return di(r,["key"])}):e):{}}function pa(){class t extends CustomEvent{constructor(s){super("feltesuccess",{detail:s})}}class e extends CustomEvent{constructor(s){super("felteerror",{detail:s,cancelable:!0})}setErrors(s){this.preventDefault(),this.errors=s}}class n extends Event{constructor(){super("feltesubmit",{cancelable:!0})}handleSubmit(s){this.onSubmit=s}handleError(s){this.onError=s}handleSuccess(s){this.onSuccess=s}}return{createErrorEvent:r=>new e(r),createSubmitEvent:()=>new n,createSuccessEvent:r=>new t(r)}}function ma(t){if(!!t)return async function(){let n=new FormData(t);const r=new URL(t.action),s=t.method.toLowerCase()==="get"?"get":r.searchParams.get("_method")||t.method;let i=t.enctype;t.querySelector('input[type="file"]')&&(i="multipart/form-data"),(s==="get"||i==="application/x-www-form-urlencoded")&&(n=new URLSearchParams(n));let o;s==="get"?(n.forEach((l,u)=>{r.searchParams.append(u,l)}),o={method:s,headers:{Accept:"application/json"}}):o={method:s,body:n,headers:Object.assign(Object.assign({},i!=="multipart/form-data"&&{"Content-Type":i}),{Accept:"application/json"})};const a=await window.fetch(r.toString(),o);if(a.ok)return a;throw new fa("An error occurred while submitting the form",a)}}function Tn(t,e,n,r){return tn(t,e,s=>(typeof s<"u"&&!Array.isArray(s)||(s||(s=[]),typeof r>"u"?s.push(n):s.splice(r,0,n)),s))}function ha(t,e,n,r){return tn(t,e,s=>(!s||!Array.isArray(s)||([s[n],s[r]]=[s[r],s[n]]),s))}function _a(t,e,n,r){return tn(t,e,s=>(!s||!Array.isArray(s)||s.splice(r,0,s.splice(n,1)[0]),s))}function hs(t){return typeof t=="function"}function xt(t){return(n,r)=>{if(typeof n=="string"){const s=n;t(i=>{const o=hs(r)?r(ft(i,s)):r;return ke(i,s,o)})}else t(s=>hs(n)?n(s):n)}}function ya({stores:t,config:e,validateErrors:n,validateWarnings:r,_getCurrentExtenders:s}){var i;let o,a=Ct((i=e.initialValues)!==null&&i!==void 0?i:{});const{data:l,touched:u,errors:c,warnings:f,isDirty:d,isSubmitting:p,interacted:m}=t,h=xt(l.update),x=xt(u.update),C=xt(c.update),O=xt(f.update);function R(I){h(B=>{const H=I(B);return o&&xn(o,H),H})}const y=(I,B,H)=>{xt(R)(I,B),typeof I=="string"&&H&&x(I,!0)};function E(I,B,H){const _e=ie(B)?bt(B,!1):!1,le=ie(_e)?et(_e,[]):[];B=ie(B)?Object.assign(Object.assign({},B),{key:Ur()}):B,c.update(be=>Tn(be,I,le,H)),f.update(be=>Tn(be,I,le,H)),u.update(be=>Tn(be,I,_e,H)),l.update(be=>{const de=Tn(be,I,B,H);return setTimeout(()=>o&&xn(o,de)),de})}function _(I){c.update(I),f.update(I),u.update(I),l.update(B=>{const H=I(B);return setTimeout(()=>o&&xn(o,H)),H})}function D(I){_(B=>ln(B,I))}function N(I,B,H){_(_e=>ha(_e,I,B,H))}function ee(I,B,H){_(_e=>_a(_e,I,B,H))}function Ee(I){const B=ft(a,I),H=ie(B)?bt(B,!1):!1,_e=ie(H)?et(H,[]):[];l.update(le=>{const be=ke(le,I,B);return o&&xn(o,be),be}),u.update(le=>ke(le,I,H)),c.update(le=>ke(le,I,_e)),f.update(le=>ke(le,I,_e))}const W=xt(p.update),Ae=xt(d.update),je=xt(m.update);async function ye(){const I=Tt(l);u.set(bt(I,!0)),m.set(null);const B=await n(I);return await r(I),B}function Re(){y(Ge(a)),x(I=>et(I,!1)),m.set(null),d.set(!1)}function he(I){return async function(H){var _e,le,be,de,Fe,Me,Te;const{createErrorEvent:$e,createSubmitEvent:Ue,createSuccessEvent:Be}=pa(),xe=Ue();o==null||o.dispatchEvent(xe);const M=(le=(_e=xe.onError)!==null&&_e!==void 0?_e:I==null?void 0:I.onError)!==null&&le!==void 0?le:e.onError,k=(de=(be=xe.onSuccess)!==null&&be!==void 0?be:I==null?void 0:I.onSuccess)!==null&&de!==void 0?de:e.onSuccess,Z=(Te=(Me=(Fe=xe.onSubmit)!==null&&Fe!==void 0?Fe:I==null?void 0:I.onSubmit)!==null&&Me!==void 0?Me:e.onSubmit)!==null&&Te!==void 0?Te:ma(o);if(!Z||(H==null||H.preventDefault(),xe.defaultPrevented))return;p.set(!0),m.set(null);const V=un(Tt(l)),ve=await n(V,I==null?void 0:I.validate),ge=await r(V,I==null?void 0:I.warn);if(ge&&f.set(si(et(V,[]),ge)),u.set(bt(V,!0)),ve&&(u.set(bt(ve,!0)),hn(ve,pe=>Array.isArray(pe)?pe.length>=1:!!pe))){await new Promise(pe=>setTimeout(pe)),s().forEach(pe=>{var Ie;return(Ie=pe.onSubmitError)===null||Ie===void 0?void 0:Ie.call(pe,{data:V,errors:ve})}),p.set(!1);return}const Ne={setFields:y,setData:h,setTouched:x,setErrors:C,setWarnings:O,unsetField:D,addField:E,resetField:Ee,reset:Re,setInitialValues:fe.setInitialValues,moveField:ee,swapFields:N,form:o,controls:o&&Array.from(o.elements).filter(qe),config:Object.assign(Object.assign({},e),I)};try{const we=await Z(V,Ne);o==null||o.dispatchEvent(Be(Object.assign({response:we},Ne))),await(k==null?void 0:k(we,Ne))}catch(we){const pe=$e(Object.assign({error:we},Ne));if(o==null||o.dispatchEvent(pe),!M&&!pe.defaultPrevented)throw we;if(!M&&!pe.errors)return;const Ie=pe.errors||await(M==null?void 0:M(we,Ne));Ie&&(u.set(bt(Ie,!0)),c.set(Ie),await new Promise(Ze=>setTimeout(Ze)),s().forEach(Ze=>{var Oe;return(Oe=Ze.onSubmitError)===null||Oe===void 0?void 0:Oe.call(Ze,{data:V,errors:Tt(c)})}))}finally{p.set(!1)}}}const fe={setData:h,setFields:y,setTouched:x,setErrors:C,setWarnings:O,setIsSubmitting:W,setIsDirty:Ae,setInteracted:je,validate:ye,reset:Re,unsetField:D,resetField:Ee,addField:E,swapFields:N,moveField:ee,createSubmitHandler:he,handleSubmit:he(),setInitialValues:I=>{a=Ct(I)}};return{public:fe,private:{_setFormNode(I){o=I},_getInitialValues:()=>a}}}function ga({helpers:t,stores:e,config:n,extender:r,createSubmitHandler:s,handleSubmit:i,_setFormNode:o,_getInitialValues:a,_setCurrentExtenders:l,_getCurrentExtenders:u}){const{setFields:c,setTouched:f,reset:d,setInitialValues:p}=t,{addValidator:m,addTransformer:h,validate:x}=t,{data:C,errors:O,warnings:R,touched:y,isSubmitting:E,isDirty:_,interacted:D,isValid:N,isValidating:ee}=e;function Ee(W){W.requestSubmit||(W.requestSubmit=i);function Ae(M){return function(k){return k({form:W,stage:M,controls:Array.from(W.elements).filter(qe),data:C,errors:O,warnings:R,touched:y,isValid:N,isValidating:ee,isSubmitting:E,isDirty:_,interacted:D,config:n,addValidator:m,addTransformer:h,setFields:c,validate:x,reset:d,createSubmitHandler:s,handleSubmit:i})}}l(r.map(Ae("MOUNT"))),W.noValidate=!!n.validate;const{defaultData:je,defaultTouched:ye}=us(W);o(W),p(si(Ge(je),a())),c(a()),y.set(ye);function Re(M){const k=De(M),Z=Array.from(W.querySelectorAll(`[name="${M.name}"]`)).filter(V=>qe(V)?k===De(V):!1);if(Z.length!==0)return Z.length===1?C.update(V=>ke(V,De(M),M.checked)):C.update(V=>ke(V,De(M),Z.filter(Ht).filter(ve=>ve.checked).map(ve=>ve.value)))}function he(M){const k=W.querySelectorAll(`[name="${M.name}"]`),Z=Array.from(k).find(V=>Ht(V)&&V.checked);C.update(V=>ke(V,De(M),Z==null?void 0:Z.value))}function fe(M){var k;const Z=Array.from((k=M.files)!==null&&k!==void 0?k:[]);C.update(V=>ke(V,De(M),M.multiple?Z:Z[0]))}function Le(M){if(!M.multiple)C.update(k=>ke(k,De(M),M.value));else{const k=Array.from(M.options).filter(Z=>Z.selected).map(Z=>Z.value);C.update(Z=>ke(Z,De(M),k))}}function I(M){const k=M.target;if(!k||!qe(k)||Vt(k)||yr(k)||["checkbox","radio","file"].includes(k.type)||!k.name)return;_.set(!0);const Z=oi(k);D.set(k.name),C.update(V=>ke(V,De(k),Z))}function B(M){const k=M.target;if(!(!k||!qe(k)||yr(k))&&!!k.name)if(f(De(k),!0),D.set(k.name),(Vt(k)||["checkbox","radio","file","hidden"].includes(k.type))&&_.set(!0),k.type==="hidden"&&C.update(Z=>ke(Z,De(k),k.value)),Vt(k))Le(k);else if(Ht(k))k.type==="checkbox"?Re(k):k.type==="radio"?he(k):k.type==="file"&&fe(k);else return}function H(M){const k=M.target;!k||!qe(k)||yr(k)||!k.name||(f(De(k),!0),D.set(k.name))}function _e(M){M.preventDefault(),d()}const le={childList:!0,subtree:!0};function be(M){let k=Tt(C),Z=Tt(y),V=Tt(O),ve=Tt(R);for(const ge of M.reverse()){if(ge.hasAttribute("data-felte-keep-on-remove")&&ge.dataset.felteKeepOnRemove!=="false")continue;const Ne=/.*(\[[0-9]+\]|\.[0-9]+)\.[^.]+$/;let we=De(ge);const pe=Tt(y);if(Ne.test(we)){const Ze=we.split(".").slice(0,-1).join("."),Oe=ft(pe,Ze);ie(Oe)&&Object.keys(Oe).length<=1&&(we=Ze)}k=ln(k,we),Z=ln(Z,we),V=ln(V,we),ve=ln(ve,we)}C.set(k),y.set(Z),O.set(V),R.set(ve)}const de=Fn(()=>{u().forEach(Z=>{var V;return(V=Z.destroy)===null||V===void 0?void 0:V.call(Z)}),l(r.map(Ae("UPDATE")));const{defaultData:M,defaultTouched:k}=us(W);C.update(Z=>as(Z,M)),y.update(Z=>as(Z,k))},0);let Fe=[];const Me=Fn(()=>{u().forEach(M=>{var k;return(k=M.destroy)===null||k===void 0?void 0:k.call(M)}),l(r.map(Ae("UPDATE"))),be(Fe),Fe=[]},0);function Te(M){!Array.from(M.addedNodes).some(Z=>ls(Z)?qe(Z)?!0:Cr(Z).length>0:!1)||de()}function $e(M){for(const k of M.removedNodes){if(!ls(k))continue;const Z=Cr(k);Z.length!==0&&(Fe.push(...Z),Me())}}function Ue(M){for(const k of M)k.type==="childList"&&(k.addedNodes.length>0&&Te(k),k.removedNodes.length>0&&$e(k))}const Be=new MutationObserver(Ue);Be.observe(W,le),W.addEventListener("input",I),W.addEventListener("change",B),W.addEventListener("focusout",H),W.addEventListener("submit",i),W.addEventListener("reset",_e);const xe=O.subscribe(M=>{for(const k of W.elements){if(!qe(k)||!k.name)continue;const Z=ft(M,De(k)),V=Array.isArray(Z)?Z.join(`
`):typeof Z=="string"?Z:void 0;V!==k.dataset.felteValidationMessage&&(V?(k.dataset.felteValidationMessage=V,k.setAttribute("aria-invalid","true")):(delete k.dataset.felteValidationMessage,k.removeAttribute("aria-invalid")))}});return{destroy(){Be.disconnect(),W.removeEventListener("input",I),W.removeEventListener("change",B),W.removeEventListener("focusout",H),W.removeEventListener("submit",i),W.removeEventListener("reset",_e),xe(),u().forEach(M=>{var k;return(k=M.destroy)===null||k===void 0?void 0:k.call(M)})}}}return{form:Ee}}function ba(t){const e={aborted:!1,priority:t};return{signal:e,abort(){e.aborted=!0}}}function va(t,e){if(ie(t))return!e||ie(e)&&Object.keys(e).length===0?et(t,null):void 0;if(Array.isArray(t)){if(t.some(ie))return;const n=Array.isArray(e)?e:[];return t.map((r,s)=>{const i=n[s];return Array.isArray(i)&&i.length===0?null:r&&i||null})}return Array.isArray(e)&&e.length===0?null:Array.isArray(e)?t?e:null:t&&e?[e]:null}function wa(t,e){if(ie(t))return!e||ie(e)&&Object.keys(e).length===0?et(t,null):void 0;if(Array.isArray(t)){if(t.some(ie))return;const n=Array.isArray(e)?e:[];return t.map((r,s)=>{const i=n[s];return Array.isArray(i)&&i.length===0?null:i||null})}return Array.isArray(e)&&e.length===0?null:Array.isArray(e)?e:e?[e]:null}function ka([t,e]){return Nt(e,t,va)}function Aa([t,e]){return Nt(e,t,wa)}function Ca(t){return function(n,r,s){const i=Array.isArray(n)?n:[n],o=new Array(i.length),a=t(s),l=a.set,u=a.subscribe;let c;function f(){c=i.map((p,m)=>p.subscribe(h=>{o[m]=h,l(r(o))}))}function d(){c==null||c.forEach(p=>p())}return a.subscribe=function(m){const h=u(m);return()=>{h()}},[a,f,d]}}function Ea(t,e){var n,r,s,i,o,a,l,u,c;const f=Ca(t),d=e.initialValues=e.initialValues?Ct(Ar(Ge(e.initialValues),e.transform)):{},p=bt(un(d),!1),m=t(p),h=t(0),[x,C,O]=f([m,h],([g,Y])=>hn(g,te=>!!te)&&Y>=1,!1);delete x.set,delete x.update;function R(g){let Y;return async function(te,Pe,S,J=!1){if(!S||!te)return;let Xe=Pe&&Object.keys(Pe).length>0?Pe:et(te,[]);const rt=ba(J);if((!(Y!=null&&Y.signal.priority)||J)&&(Y==null||Y.abort(),Y=rt),Y.signal.priority&&!J)return;h.update(St=>St+1);const nn=Po(te,S);return nn.forEach(async St=>{const kn=await St;rt.signal.aborted||(Xe=Ut([Xe,kn]),g.set(Xe))}),await Promise.all(nn),Y=void 0,h.update(St=>St-1),Xe}}let y=et(p,[]);const E=t(d),_=et(p,[]),D=t(_),N=t(Ge(_)),[ee,Ee,W]=f([D,N],Ut,Ge(_)),Ae=et(p,[]),je=t(Ae),ye=t(Ge(Ae)),[Re,he,fe]=f([je,ye],Ut,Ge(Ae)),[Le,I,B]=f([ee,m],ka,Ge(_)),[H,_e,le]=f([Re,m],Aa,Ge(Ae));let be=!1;const[de,Fe,Me]=f(ee,([g])=>{var Y;return be?!hn(g,T=>Array.isArray(T)?T.length>=1:!!T):(be=!0,!e.validate&&!(!((Y=e.debounced)===null||Y===void 0)&&Y.validate))},!e.validate&&!(!((n=e.debounced)===null||n===void 0)&&n.validate));delete de.set,delete de.update;const Te=t(!1),$e=t(!1),Ue=t(null),Be=R(D),xe=R(je),M=R(N),k=R(ye),Z=Fn(M,(o=(s=(r=e.debounced)===null||r===void 0?void 0:r.validateTimeout)!==null&&s!==void 0?s:(i=e.debounced)===null||i===void 0?void 0:i.timeout)!==null&&o!==void 0?o:300,{onInit:()=>{h.update(g=>g+1)},onEnd:()=>{h.update(g=>g-1)}}),V=Fn(k,(c=(l=(a=e.debounced)===null||a===void 0?void 0:a.warnTimeout)!==null&&l!==void 0?l:(u=e.debounced)===null||u===void 0?void 0:u.timeout)!==null&&c!==void 0?c:300);async function ve(g,Y){var T;const te=un(g),Pe=Be(te,y,Y!=null?Y:e.validate,!0);if(Y)return Pe;const S=M(te,y,(T=e.debounced)===null||T===void 0?void 0:T.validate,!0);return Ut(await Promise.all([Pe,S]))}async function ge(g,Y){var T;const te=un(g),Pe=xe(te,y,Y!=null?Y:e.warn,!0);if(Y)return Pe;const S=k(te,y,(T=e.debounced)===null||T===void 0?void 0:T.warn,!0);return Ut(await Promise.all([Pe,S]))}let Ne=_,we=Ae;function pe(){const g=E.subscribe(S=>{var J,Xe;const rt=un(S);Be(rt,y,e.validate),xe(rt,y,e.warn),Z(rt,y,(J=e.debounced)===null||J===void 0?void 0:J.validate),V(rt,y,(Xe=e.debounced)===null||Xe===void 0?void 0:Xe.warn)}),Y=m.subscribe(S=>{y=et(S,[])}),T=ee.subscribe(S=>{Ne=S}),te=Re.subscribe(S=>{we=S});Ee(),Fe(),he(),I(),_e(),C();function Pe(){g(),B(),W(),fe(),le(),Me(),O(),Y(),T(),te()}return Pe}function Ie(g){D.set(g(Ne)),N.set({})}function Ze(g){je.set(g(we)),ye.set({})}function Oe(g){Ie(()=>g)}function gt(g){Ze(()=>g)}return Le.set=Oe,Le.update=Ie,H.set=gt,H.update=Ze,{data:E,errors:Le,warnings:H,touched:m,isValid:de,isSubmitting:Te,isDirty:$e,isValidating:x,interacted:Ue,validateErrors:ve,validateWarnings:ge,cleanup:e.preventStoreStart?()=>{}:pe(),start:pe}}function Sa(t,e){var n,r;(n=t.extend)!==null&&n!==void 0||(t.extend=[]),(r=t.debounced)!==null&&r!==void 0||(t.debounced={}),t.validate&&!Array.isArray(t.validate)&&(t.validate=[t.validate]),t.debounced.validate&&!Array.isArray(t.debounced.validate)&&(t.debounced.validate=[t.debounced.validate]),t.transform&&!Array.isArray(t.transform)&&(t.transform=[t.transform]),t.warn&&!Array.isArray(t.warn)&&(t.warn=[t.warn]),t.debounced.warn&&!Array.isArray(t.debounced.warn)&&(t.debounced.warn=[t.debounced.warn]);function s(he,{debounced:fe,level:Le}={debounced:!1,level:"error"}){var I;const B=Le==="error"?"validate":"warn";(I=t.debounced)!==null&&I!==void 0||(t.debounced={});const H=fe?t.debounced:t;H[B]?H[B]=[...H[B],he]:H[B]=[he]}function i(he){t.transform?t.transform=[...t.transform,he]:t.transform=[he]}const o=Array.isArray(t.extend)?t.extend:[t.extend];let a=[];const l=()=>a,u=he=>{a=he},{isSubmitting:c,isValidating:f,data:d,errors:p,warnings:m,touched:h,isValid:x,isDirty:C,cleanup:O,start:R,validateErrors:y,validateWarnings:E,interacted:_}=Ea(e.storeFactory,t),D=d.update,N=d.set,ee=he=>D(fe=>Ct(Ar(he(fe),t.transform))),Ee=he=>N(Ct(Ar(he,t.transform)));d.update=ee,d.set=Ee;const W=ya({extender:o,config:t,addValidator:s,addTransformer:i,validateErrors:y,validateWarnings:E,_getCurrentExtenders:l,stores:{data:d,errors:p,warnings:m,touched:h,isValid:x,isValidating:f,isSubmitting:c,isDirty:C,interacted:_}}),{createSubmitHandler:Ae,handleSubmit:je}=W.public;a=o.map(he=>he({stage:"SETUP",errors:p,warnings:m,touched:h,data:d,isDirty:C,isValid:x,isValidating:f,isSubmitting:c,interacted:_,config:t,addValidator:s,addTransformer:i,setFields:W.public.setFields,reset:W.public.reset,validate:W.public.validate,handleSubmit:je,createSubmitHandler:Ae}));const ye=Object.assign({config:t,stores:{data:d,touched:h,errors:p,warnings:m,isSubmitting:c,isValidating:f,isValid:x,isDirty:C,interacted:_},createSubmitHandler:Ae,handleSubmit:je,helpers:Object.assign(Object.assign({},W.public),{addTransformer:i,addValidator:s}),extender:o,_getCurrentExtenders:l,_setCurrentExtenders:u},W.private),{form:Re}=ga(ye);return Object.assign({data:d,errors:p,warnings:m,touched:h,isValid:x,isSubmitting:c,isValidating:f,isDirty:C,interacted:_,form:Re,cleanup:O,startStores:R},W.public)}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function xa(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function fi(t){var e=Sa(t!=null?t:{},{storeFactory:at}),n=e.cleanup;e.startStores;var r=xa(e,["cleanup","startStores"]);return Zr(n),r}var Er={exports:{}},gr,_s;function Ta(){if(_s)return gr;_s=1;var t=1e3,e=t*60,n=e*60,r=n*24,s=r*7,i=r*365.25;gr=function(c,f){f=f||{};var d=typeof c;if(d==="string"&&c.length>0)return o(c);if(d==="number"&&isFinite(c))return f.long?l(c):a(c);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(c))};function o(c){if(c=String(c),!(c.length>100)){var f=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(c);if(!!f){var d=parseFloat(f[1]),p=(f[2]||"ms").toLowerCase();switch(p){case"years":case"year":case"yrs":case"yr":case"y":return d*i;case"weeks":case"week":case"w":return d*s;case"days":case"day":case"d":return d*r;case"hours":case"hour":case"hrs":case"hr":case"h":return d*n;case"minutes":case"minute":case"mins":case"min":case"m":return d*e;case"seconds":case"second":case"secs":case"sec":case"s":return d*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return d;default:return}}}}function a(c){var f=Math.abs(c);return f>=r?Math.round(c/r)+"d":f>=n?Math.round(c/n)+"h":f>=e?Math.round(c/e)+"m":f>=t?Math.round(c/t)+"s":c+"ms"}function l(c){var f=Math.abs(c);return f>=r?u(c,f,r,"day"):f>=n?u(c,f,n,"hour"):f>=e?u(c,f,e,"minute"):f>=t?u(c,f,t,"second"):c+" ms"}function u(c,f,d,p){var m=f>=d*1.5;return Math.round(c/d)+" "+p+(m?"s":"")}return gr}function $a(t){n.debug=n,n.default=n,n.coerce=l,n.disable=i,n.enable=s,n.enabled=o,n.humanize=Ta(),n.destroy=u,Object.keys(t).forEach(c=>{n[c]=t[c]}),n.names=[],n.skips=[],n.formatters={};function e(c){let f=0;for(let d=0;d<c.length;d++)f=(f<<5)-f+c.charCodeAt(d),f|=0;return n.colors[Math.abs(f)%n.colors.length]}n.selectColor=e;function n(c){let f,d=null,p,m;function h(...x){if(!h.enabled)return;const C=h,O=Number(new Date),R=O-(f||O);C.diff=R,C.prev=f,C.curr=O,f=O,x[0]=n.coerce(x[0]),typeof x[0]!="string"&&x.unshift("%O");let y=0;x[0]=x[0].replace(/%([a-zA-Z%])/g,(_,D)=>{if(_==="%%")return"%";y++;const N=n.formatters[D];if(typeof N=="function"){const ee=x[y];_=N.call(C,ee),x.splice(y,1),y--}return _}),n.formatArgs.call(C,x),(C.log||n.log).apply(C,x)}return h.namespace=c,h.useColors=n.useColors(),h.color=n.selectColor(c),h.extend=r,h.destroy=n.destroy,Object.defineProperty(h,"enabled",{enumerable:!0,configurable:!1,get:()=>d!==null?d:(p!==n.namespaces&&(p=n.namespaces,m=n.enabled(c)),m),set:x=>{d=x}}),typeof n.init=="function"&&n.init(h),h}function r(c,f){const d=n(this.namespace+(typeof f>"u"?":":f)+c);return d.log=this.log,d}function s(c){n.save(c),n.namespaces=c,n.names=[],n.skips=[];let f;const d=(typeof c=="string"?c:"").split(/[\s,]+/),p=d.length;for(f=0;f<p;f++)!d[f]||(c=d[f].replace(/\*/g,".*?"),c[0]==="-"?n.skips.push(new RegExp("^"+c.slice(1)+"$")):n.names.push(new RegExp("^"+c+"$")))}function i(){const c=[...n.names.map(a),...n.skips.map(a).map(f=>"-"+f)].join(",");return n.enable(""),c}function o(c){if(c[c.length-1]==="*")return!0;let f,d;for(f=0,d=n.skips.length;f<d;f++)if(n.skips[f].test(c))return!1;for(f=0,d=n.names.length;f<d;f++)if(n.names[f].test(c))return!0;return!1}function a(c){return c.toString().substring(2,c.toString().length-2).replace(/\.\*\?$/,"*")}function l(c){return c instanceof Error?c.stack||c.message:c}function u(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return n.enable(n.load()),n}var Oa=$a;(function(t,e){e.formatArgs=r,e.save=s,e.load=i,e.useColors=n,e.storage=o(),e.destroy=(()=>{let l=!1;return()=>{l||(l=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function n(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function r(l){if(l[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+l[0]+(this.useColors?"%c ":" ")+"+"+t.exports.humanize(this.diff),!this.useColors)return;const u="color: "+this.color;l.splice(1,0,u,"color: inherit");let c=0,f=0;l[0].replace(/%[a-zA-Z%]/g,d=>{d!=="%%"&&(c++,d==="%c"&&(f=c))}),l.splice(f,0,u)}e.log=console.debug||console.log||(()=>{});function s(l){try{l?e.storage.setItem("debug",l):e.storage.removeItem("debug")}catch{}}function i(){let l;try{l=e.storage.getItem("debug")}catch{}return!l&&typeof process<"u"&&"env"in process&&(l=process.env.DEBUG),l}function o(){try{return localStorage}catch{}}t.exports=Oa(e);const{formatters:a}=t.exports;a.j=function(l){try{return JSON.stringify(l)}catch(u){return"[UnexpectedJSONParseError]: "+u.message}}})(Er,Er.exports);const Wr=Er.exports;var Na=La,ct=[],ys="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var $n=0,Ia=ys.length;$n<Ia;++$n)ct[$n]=ys[$n];function ja(t){return ct[t>>18&63]+ct[t>>12&63]+ct[t>>6&63]+ct[t&63]}function Ra(t,e,n){for(var r,s=[],i=e;i<n;i+=3)r=(t[i]<<16&16711680)+(t[i+1]<<8&65280)+(t[i+2]&255),s.push(ja(r));return s.join("")}function La(t){for(var e,n=t.length,r=n%3,s=[],i=16383,o=0,a=n-r;o<a;o+=i)s.push(Ra(t,o,o+i>a?a:o+i));return r===1?(e=t[n-1],s.push(ct[e>>2]+ct[e<<4&63]+"==")):r===2&&(e=(t[n-2]<<8)+t[n-1],s.push(ct[e>>10]+ct[e>>4&63]+ct[e<<2&63]+"=")),s.join("")}const Ma=new TextEncoder;function Za(t){return Na(Ma.encode(t))}var me;(function(t){t.assertEqual=s=>s;function e(s){}t.assertIs=e;function n(s){throw new Error}t.assertNever=n,t.arrayToEnum=s=>{const i={};for(const o of s)i[o]=o;return i},t.getValidEnumValues=s=>{const i=t.objectKeys(s).filter(a=>typeof s[s[a]]!="number"),o={};for(const a of i)o[a]=s[a];return t.objectValues(o)},t.objectValues=s=>t.objectKeys(s).map(function(i){return s[i]}),t.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const i=[];for(const o in s)Object.prototype.hasOwnProperty.call(s,o)&&i.push(o);return i},t.find=(s,i)=>{for(const o of s)if(i(o))return o},t.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&isFinite(s)&&Math.floor(s)===s;function r(s,i=" | "){return s.map(o=>typeof o=="string"?`'${o}'`:o).join(i)}t.joinValues=r,t.jsonStringifyReplacer=(s,i)=>typeof i=="bigint"?i.toString():i})(me||(me={}));const L=me.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),$t=t=>{switch(typeof t){case"undefined":return L.undefined;case"string":return L.string;case"number":return isNaN(t)?L.nan:L.number;case"boolean":return L.boolean;case"function":return L.function;case"bigint":return L.bigint;case"object":return Array.isArray(t)?L.array:t===null?L.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?L.promise:typeof Map<"u"&&t instanceof Map?L.map:typeof Set<"u"&&t instanceof Set?L.set:typeof Date<"u"&&t instanceof Date?L.date:L.object;default:return L.unknown}},j=me.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of"]),Pa=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class At extends Error{constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){const n=e||function(i){return i.message},r={_errors:[]},s=i=>{for(const o of i.issues)if(o.code==="invalid_union")o.unionErrors.map(s);else if(o.code==="invalid_return_type")s(o.returnTypeError);else if(o.code==="invalid_arguments")s(o.argumentsError);else if(o.path.length===0)r._errors.push(n(o));else{let a=r,l=0;for(;l<o.path.length;){const u=o.path[l];l===o.path.length-1?(a[u]=a[u]||{_errors:[]},a[u]._errors.push(n(o))):a[u]=a[u]||{_errors:[]},a=a[u],l++}}};return s(this),r}toString(){return this.message}get message(){return JSON.stringify(this.issues,me.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},r=[];for(const s of this.issues)s.path.length>0?(n[s.path[0]]=n[s.path[0]]||[],n[s.path[0]].push(e(s))):r.push(e(s));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}At.create=t=>new At(t);const _n=(t,e)=>{let n;switch(t.code){case j.invalid_type:t.received===L.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case j.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,me.jsonStringifyReplacer)}`;break;case j.unrecognized_keys:n=`Unrecognized key(s) in object: ${me.joinValues(t.keys,", ")}`;break;case j.invalid_union:n="Invalid input";break;case j.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${me.joinValues(t.options)}`;break;case j.invalid_enum_value:n=`Invalid enum value. Expected ${me.joinValues(t.options)}, received '${t.received}'`;break;case j.invalid_arguments:n="Invalid function arguments";break;case j.invalid_return_type:n="Invalid function return type";break;case j.invalid_date:n="Invalid date";break;case j.invalid_string:typeof t.validation=="object"?"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:me.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case j.too_small:t.type==="array"?n=`Array must contain ${t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be greater than ${t.inclusive?"or equal to ":""}${t.minimum}`:t.type==="date"?n=`Date must be greater than ${t.inclusive?"or equal to ":""}${new Date(t.minimum)}`:n="Invalid input";break;case j.too_big:t.type==="array"?n=`Array must contain ${t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be less than ${t.inclusive?"or equal to ":""}${t.maximum}`:t.type==="date"?n=`Date must be smaller than ${t.inclusive?"or equal to ":""}${new Date(t.maximum)}`:n="Invalid input";break;case j.custom:n="Invalid input";break;case j.invalid_intersection_types:n="Intersection results could not be merged";break;case j.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;default:n=e.defaultError,me.assertNever(t)}return{message:n}};let pi=_n;function Da(t){pi=t}function qn(){return pi}const Un=t=>{const{data:e,path:n,errorMaps:r,issueData:s}=t,i=[...n,...s.path||[]],o={...s,path:i};let a="";const l=r.filter(u=>!!u).slice().reverse();for(const u of l)a=u(o,{data:e,defaultError:a}).message;return{...s,path:i,message:s.message||a}},Fa=[];function z(t,e){const n=Un({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,qn(),_n].filter(r=>!!r)});t.common.issues.push(n)}class Ve{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const s of n){if(s.status==="aborted")return Q;s.status==="dirty"&&e.dirty(),r.push(s.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){const r=[];for(const s of n)r.push({key:await s.key,value:await s.value});return Ve.mergeObjectSync(e,r)}static mergeObjectSync(e,n){const r={};for(const s of n){const{key:i,value:o}=s;if(i.status==="aborted"||o.status==="aborted")return Q;i.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),(typeof o.value<"u"||s.alwaysSet)&&(r[i.value]=o.value)}return{status:e.value,value:r}}}const Q=Object.freeze({status:"aborted"}),qa=t=>({status:"dirty",value:t}),Je=t=>({status:"valid",value:t}),Sr=t=>t.status==="aborted",xr=t=>t.status==="dirty",Wn=t=>t.status==="valid",Tr=t=>typeof Promise!==void 0&&t instanceof Promise;var ce;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(ce||(ce={}));class mt{constructor(e,n,r,s){this.parent=e,this.data=n,this._path=r,this._key=s}get path(){return this._path.concat(this._key)}}const gs=(t,e)=>{if(Wn(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,error:new At(t.common.issues)}};function se(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:r,description:s}=t;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:s}:{errorMap:(o,a)=>o.code!=="invalid_type"?{message:a.defaultError}:typeof a.data>"u"?{message:r!=null?r:a.defaultError}:{message:n!=null?n:a.defaultError},description:s}}class re{constructor(e){this.spa=this.safeParseAsync,this.superRefine=this._refinement,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.default=this.default.bind(this),this.describe=this.describe.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return $t(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:$t(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Ve,ctx:{common:e.parent.common,data:e.data,parsedType:$t(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(Tr(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){var r;const s={common:{issues:[],async:(r=n==null?void 0:n.async)!==null&&r!==void 0?r:!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:$t(e)},i=this._parseSync({data:e,path:s.path,parent:s});return gs(s,i)}async parseAsync(e,n){const r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:$t(e)},s=this._parse({data:e,path:[],parent:r}),i=await(Tr(s)?s:Promise.resolve(s));return gs(r,i)}refine(e,n){const r=s=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(s):n;return this._refinement((s,i)=>{const o=e(s),a=()=>i.addIssue({code:j.custom,...r(s)});return typeof Promise<"u"&&o instanceof Promise?o.then(l=>l?!0:(a(),!1)):o?!0:(a(),!1)})}refinement(e,n){return this._refinement((r,s)=>e(r)?!0:(s.addIssue(typeof n=="function"?n(r,s):n),!1))}_refinement(e){return new yt({schema:this,typeName:G.ZodEffects,effect:{type:"refinement",refinement:e}})}optional(){return pt.create(this)}nullable(){return Ft.create(this)}nullish(){return this.optional().nullable()}array(){return ht.create(this)}promise(){return en.create(this)}or(e){return yn.create([this,e])}and(e){return gn.create(this,e)}transform(e){return new yt({schema:this,typeName:G.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new zr({innerType:this,defaultValue:n,typeName:G.ZodDefault})}brand(){return new hi({typeName:G.ZodBranded,type:this,...se(void 0)})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const Ua=/^c[^\s-]{8,}$/i,Wa=/^([a-f0-9]{8}-[a-f0-9]{4}-[1-5][a-f0-9]{3}-[a-f0-9]{4}-[a-f0-9]{12}|00000000-0000-0000-0000-000000000000)$/i,za=/^(([^<>()[\]\.,;:\s@\"]+(\.[^<>()[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()[\]\.,;:\s@\"]+\.)+[^<>()[\]\.,;:\s@\"]{2,})$/i;class It extends re{constructor(){super(...arguments),this._regex=(e,n,r)=>this.refinement(s=>e.test(s),{validation:n,code:j.invalid_string,...ce.errToObj(r)}),this.nonempty=e=>this.min(1,ce.errToObj(e)),this.trim=()=>new It({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}_parse(e){if(this._getType(e)!==L.string){const i=this._getOrReturnCtx(e);return z(i,{code:j.invalid_type,expected:L.string,received:i.parsedType}),Q}const r=new Ve;let s;for(const i of this._def.checks)if(i.kind==="min")e.data.length<i.value&&(s=this._getOrReturnCtx(e,s),z(s,{code:j.too_small,minimum:i.value,type:"string",inclusive:!0,message:i.message}),r.dirty());else if(i.kind==="max")e.data.length>i.value&&(s=this._getOrReturnCtx(e,s),z(s,{code:j.too_big,maximum:i.value,type:"string",inclusive:!0,message:i.message}),r.dirty());else if(i.kind==="email")za.test(e.data)||(s=this._getOrReturnCtx(e,s),z(s,{validation:"email",code:j.invalid_string,message:i.message}),r.dirty());else if(i.kind==="uuid")Wa.test(e.data)||(s=this._getOrReturnCtx(e,s),z(s,{validation:"uuid",code:j.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid")Ua.test(e.data)||(s=this._getOrReturnCtx(e,s),z(s,{validation:"cuid",code:j.invalid_string,message:i.message}),r.dirty());else if(i.kind==="url")try{new URL(e.data)}catch{s=this._getOrReturnCtx(e,s),z(s,{validation:"url",code:j.invalid_string,message:i.message}),r.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(e.data)||(s=this._getOrReturnCtx(e,s),z(s,{validation:"regex",code:j.invalid_string,message:i.message}),r.dirty())):i.kind==="trim"?e.data=e.data.trim():i.kind==="startsWith"?e.data.startsWith(i.value)||(s=this._getOrReturnCtx(e,s),z(s,{code:j.invalid_string,validation:{startsWith:i.value},message:i.message}),r.dirty()):i.kind==="endsWith"?e.data.endsWith(i.value)||(s=this._getOrReturnCtx(e,s),z(s,{code:j.invalid_string,validation:{endsWith:i.value},message:i.message}),r.dirty()):me.assertNever(i);return{status:r.value,value:e.data}}_addCheck(e){return new It({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...ce.errToObj(e)})}url(e){return this._addCheck({kind:"url",...ce.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...ce.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...ce.errToObj(e)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...ce.errToObj(n)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...ce.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...ce.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...ce.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...ce.errToObj(n)})}length(e,n){return this.min(e,n).max(e,n)}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}It.create=t=>new It({checks:[],typeName:G.ZodString,...se(t)});function Ba(t,e){const n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,s=n>r?n:r,i=parseInt(t.toFixed(s).replace(".","")),o=parseInt(e.toFixed(s).replace(".",""));return i%o/Math.pow(10,s)}class Pt extends re{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._getType(e)!==L.number){const i=this._getOrReturnCtx(e);return z(i,{code:j.invalid_type,expected:L.number,received:i.parsedType}),Q}let r;const s=new Ve;for(const i of this._def.checks)i.kind==="int"?me.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),z(r,{code:j.invalid_type,expected:"integer",received:"float",message:i.message}),s.dirty()):i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(r=this._getOrReturnCtx(e,r),z(r,{code:j.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(r=this._getOrReturnCtx(e,r),z(r,{code:j.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="multipleOf"?Ba(e.data,i.value)!==0&&(r=this._getOrReturnCtx(e,r),z(r,{code:j.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):me.assertNever(i);return{status:s.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,ce.toString(n))}gt(e,n){return this.setLimit("min",e,!1,ce.toString(n))}lte(e,n){return this.setLimit("max",e,!0,ce.toString(n))}lt(e,n){return this.setLimit("max",e,!1,ce.toString(n))}setLimit(e,n,r,s){return new Pt({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:ce.toString(s)}]})}_addCheck(e){return new Pt({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:ce.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:ce.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:ce.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:ce.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:ce.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:ce.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int")}}Pt.create=t=>new Pt({checks:[],typeName:G.ZodNumber,...se(t)});class zn extends re{_parse(e){if(this._getType(e)!==L.bigint){const r=this._getOrReturnCtx(e);return z(r,{code:j.invalid_type,expected:L.bigint,received:r.parsedType}),Q}return Je(e.data)}}zn.create=t=>new zn({typeName:G.ZodBigInt,...se(t)});class Bn extends re{_parse(e){if(this._getType(e)!==L.boolean){const r=this._getOrReturnCtx(e);return z(r,{code:j.invalid_type,expected:L.boolean,received:r.parsedType}),Q}return Je(e.data)}}Bn.create=t=>new Bn({typeName:G.ZodBoolean,...se(t)});class Gt extends re{_parse(e){if(this._getType(e)!==L.date){const i=this._getOrReturnCtx(e);return z(i,{code:j.invalid_type,expected:L.date,received:i.parsedType}),Q}if(isNaN(e.data.getTime())){const i=this._getOrReturnCtx(e);return z(i,{code:j.invalid_date}),Q}const r=new Ve;let s;for(const i of this._def.checks)i.kind==="min"?e.data.getTime()<i.value&&(s=this._getOrReturnCtx(e,s),z(s,{code:j.too_small,message:i.message,inclusive:!0,minimum:i.value,type:"date"}),r.dirty()):i.kind==="max"?e.data.getTime()>i.value&&(s=this._getOrReturnCtx(e,s),z(s,{code:j.too_big,message:i.message,inclusive:!0,maximum:i.value,type:"date"}),r.dirty()):me.assertNever(i);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Gt({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:ce.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:ce.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}Gt.create=t=>new Gt({checks:[],typeName:G.ZodDate,...se(t)});class Hn extends re{_parse(e){if(this._getType(e)!==L.undefined){const r=this._getOrReturnCtx(e);return z(r,{code:j.invalid_type,expected:L.undefined,received:r.parsedType}),Q}return Je(e.data)}}Hn.create=t=>new Hn({typeName:G.ZodUndefined,...se(t)});class Vn extends re{_parse(e){if(this._getType(e)!==L.null){const r=this._getOrReturnCtx(e);return z(r,{code:j.invalid_type,expected:L.null,received:r.parsedType}),Q}return Je(e.data)}}Vn.create=t=>new Vn({typeName:G.ZodNull,...se(t)});class Qt extends re{constructor(){super(...arguments),this._any=!0}_parse(e){return Je(e.data)}}Qt.create=t=>new Qt({typeName:G.ZodAny,...se(t)});class Mt extends re{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Je(e.data)}}Mt.create=t=>new Mt({typeName:G.ZodUnknown,...se(t)});class Et extends re{_parse(e){const n=this._getOrReturnCtx(e);return z(n,{code:j.invalid_type,expected:L.never,received:n.parsedType}),Q}}Et.create=t=>new Et({typeName:G.ZodNever,...se(t)});class Jn extends re{_parse(e){if(this._getType(e)!==L.undefined){const r=this._getOrReturnCtx(e);return z(r,{code:j.invalid_type,expected:L.void,received:r.parsedType}),Q}return Je(e.data)}}Jn.create=t=>new Jn({typeName:G.ZodVoid,...se(t)});class ht extends re{_parse(e){const{ctx:n,status:r}=this._processInputParams(e),s=this._def;if(n.parsedType!==L.array)return z(n,{code:j.invalid_type,expected:L.array,received:n.parsedType}),Q;if(s.minLength!==null&&n.data.length<s.minLength.value&&(z(n,{code:j.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,message:s.minLength.message}),r.dirty()),s.maxLength!==null&&n.data.length>s.maxLength.value&&(z(n,{code:j.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,message:s.maxLength.message}),r.dirty()),n.common.async)return Promise.all(n.data.map((o,a)=>s.type._parseAsync(new mt(n,o,n.path,a)))).then(o=>Ve.mergeArray(r,o));const i=n.data.map((o,a)=>s.type._parseSync(new mt(n,o,n.path,a)));return Ve.mergeArray(r,i)}get element(){return this._def.type}min(e,n){return new ht({...this._def,minLength:{value:e,message:ce.toString(n)}})}max(e,n){return new ht({...this._def,maxLength:{value:e,message:ce.toString(n)}})}length(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}ht.create=(t,e)=>new ht({type:t,minLength:null,maxLength:null,typeName:G.ZodArray,...se(e)});var Yn;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(Yn||(Yn={}));const bs=t=>e=>new Se({...t,shape:()=>({...t.shape(),...e})});function Wt(t){if(t instanceof Se){const e={};for(const n in t.shape){const r=t.shape[n];e[n]=pt.create(Wt(r))}return new Se({...t._def,shape:()=>e})}else return t instanceof ht?ht.create(Wt(t.element)):t instanceof pt?pt.create(Wt(t.unwrap())):t instanceof Ft?Ft.create(Wt(t.unwrap())):t instanceof _t?_t.create(t.items.map(e=>Wt(e))):t}class Se extends re{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=bs(this._def),this.extend=bs(this._def)}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=me.objectKeys(e);return this._cached={shape:e,keys:n}}_parse(e){if(this._getType(e)!==L.object){const u=this._getOrReturnCtx(e);return z(u,{code:j.invalid_type,expected:L.object,received:u.parsedType}),Q}const{status:r,ctx:s}=this._processInputParams(e),{shape:i,keys:o}=this._getCached(),a=[];if(!(this._def.catchall instanceof Et&&this._def.unknownKeys==="strip"))for(const u in s.data)o.includes(u)||a.push(u);const l=[];for(const u of o){const c=i[u],f=s.data[u];l.push({key:{status:"valid",value:u},value:c._parse(new mt(s,f,s.path,u)),alwaysSet:u in s.data})}if(this._def.catchall instanceof Et){const u=this._def.unknownKeys;if(u==="passthrough")for(const c of a)l.push({key:{status:"valid",value:c},value:{status:"valid",value:s.data[c]}});else if(u==="strict")a.length>0&&(z(s,{code:j.unrecognized_keys,keys:a}),r.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const c of a){const f=s.data[c];l.push({key:{status:"valid",value:c},value:u._parse(new mt(s,f,s.path,c)),alwaysSet:c in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const u=[];for(const c of l){const f=await c.key;u.push({key:f,value:await c.value,alwaysSet:c.alwaysSet})}return u}).then(u=>Ve.mergeObjectSync(r,u)):Ve.mergeObjectSync(r,l)}get shape(){return this._def.shape()}strict(e){return ce.errToObj,new Se({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,r)=>{var s,i,o,a;const l=(o=(i=(s=this._def).errorMap)===null||i===void 0?void 0:i.call(s,n,r).message)!==null&&o!==void 0?o:r.defaultError;return n.code==="unrecognized_keys"?{message:(a=ce.errToObj(e).message)!==null&&a!==void 0?a:l}:{message:l}}}:{}})}strip(){return new Se({...this._def,unknownKeys:"strip"})}passthrough(){return new Se({...this._def,unknownKeys:"passthrough"})}setKey(e,n){return this.augment({[e]:n})}merge(e){return new Se({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>Yn.mergeShapes(this._def.shape(),e._def.shape()),typeName:G.ZodObject})}catchall(e){return new Se({...this._def,catchall:e})}pick(e){const n={};return me.objectKeys(e).map(r=>{this.shape[r]&&(n[r]=this.shape[r])}),new Se({...this._def,shape:()=>n})}omit(e){const n={};return me.objectKeys(this.shape).map(r=>{me.objectKeys(e).indexOf(r)===-1&&(n[r]=this.shape[r])}),new Se({...this._def,shape:()=>n})}deepPartial(){return Wt(this)}partial(e){const n={};if(e)return me.objectKeys(this.shape).map(r=>{me.objectKeys(e).indexOf(r)===-1?n[r]=this.shape[r]:n[r]=this.shape[r].optional()}),new Se({...this._def,shape:()=>n});for(const r in this.shape){const s=this.shape[r];n[r]=s.optional()}return new Se({...this._def,shape:()=>n})}required(){const e={};for(const n in this.shape){let s=this.shape[n];for(;s instanceof pt;)s=s._def.innerType;e[n]=s}return new Se({...this._def,shape:()=>e})}keyof(){return mi(me.objectKeys(this.shape))}}Se.create=(t,e)=>new Se({shape:()=>t,unknownKeys:"strip",catchall:Et.create(),typeName:G.ZodObject,...se(e)});Se.strictCreate=(t,e)=>new Se({shape:()=>t,unknownKeys:"strict",catchall:Et.create(),typeName:G.ZodObject,...se(e)});Se.lazycreate=(t,e)=>new Se({shape:t,unknownKeys:"strip",catchall:Et.create(),typeName:G.ZodObject,...se(e)});class yn extends re{_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.options;function s(i){for(const a of i)if(a.result.status==="valid")return a.result;for(const a of i)if(a.result.status==="dirty")return n.common.issues.push(...a.ctx.common.issues),a.result;const o=i.map(a=>new At(a.ctx.common.issues));return z(n,{code:j.invalid_union,unionErrors:o}),Q}if(n.common.async)return Promise.all(r.map(async i=>{const o={...n,common:{...n.common,issues:[]},parent:null};return{result:await i._parseAsync({data:n.data,path:n.path,parent:o}),ctx:o}})).then(s);{let i;const o=[];for(const l of r){const u={...n,common:{...n.common,issues:[]},parent:null},c=l._parseSync({data:n.data,path:n.path,parent:u});if(c.status==="valid")return c;c.status==="dirty"&&!i&&(i={result:c,ctx:u}),u.common.issues.length&&o.push(u.common.issues)}if(i)return n.common.issues.push(...i.ctx.common.issues),i.result;const a=o.map(l=>new At(l));return z(n,{code:j.invalid_union,unionErrors:a}),Q}}get options(){return this._def.options}}yn.create=(t,e)=>new yn({options:t,typeName:G.ZodUnion,...se(e)});class ur extends re{_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==L.object)return z(n,{code:j.invalid_type,expected:L.object,received:n.parsedType}),Q;const r=this.discriminator,s=n.data[r],i=this.options.get(s);return i?n.common.async?i._parseAsync({data:n.data,path:n.path,parent:n}):i._parseSync({data:n.data,path:n.path,parent:n}):(z(n,{code:j.invalid_union_discriminator,options:this.validDiscriminatorValues,path:[r]}),Q)}get discriminator(){return this._def.discriminator}get validDiscriminatorValues(){return Array.from(this.options.keys())}get options(){return this._def.options}static create(e,n,r){const s=new Map;try{n.forEach(i=>{const o=i.shape[e].value;s.set(o,i)})}catch{throw new Error("The discriminator value could not be extracted from all the provided schemas")}if(s.size!==n.length)throw new Error("Some of the discriminator values are not unique");return new ur({typeName:G.ZodDiscriminatedUnion,discriminator:e,options:s,...se(r)})}}function $r(t,e){const n=$t(t),r=$t(e);if(t===e)return{valid:!0,data:t};if(n===L.object&&r===L.object){const s=me.objectKeys(e),i=me.objectKeys(t).filter(a=>s.indexOf(a)!==-1),o={...t,...e};for(const a of i){const l=$r(t[a],e[a]);if(!l.valid)return{valid:!1};o[a]=l.data}return{valid:!0,data:o}}else if(n===L.array&&r===L.array){if(t.length!==e.length)return{valid:!1};const s=[];for(let i=0;i<t.length;i++){const o=t[i],a=e[i],l=$r(o,a);if(!l.valid)return{valid:!1};s.push(l.data)}return{valid:!0,data:s}}else return n===L.date&&r===L.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class gn extends re{_parse(e){const{status:n,ctx:r}=this._processInputParams(e),s=(i,o)=>{if(Sr(i)||Sr(o))return Q;const a=$r(i.value,o.value);return a.valid?((xr(i)||xr(o))&&n.dirty(),{status:n.value,value:a.data}):(z(r,{code:j.invalid_intersection_types}),Q)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([i,o])=>s(i,o)):s(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}gn.create=(t,e,n)=>new gn({left:t,right:e,typeName:G.ZodIntersection,...se(n)});class _t extends re{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==L.array)return z(r,{code:j.invalid_type,expected:L.array,received:r.parsedType}),Q;if(r.data.length<this._def.items.length)return z(r,{code:j.too_small,minimum:this._def.items.length,inclusive:!0,type:"array"}),Q;!this._def.rest&&r.data.length>this._def.items.length&&(z(r,{code:j.too_big,maximum:this._def.items.length,inclusive:!0,type:"array"}),n.dirty());const i=r.data.map((o,a)=>{const l=this._def.items[a]||this._def.rest;return l?l._parse(new mt(r,o,r.path,a)):null}).filter(o=>!!o);return r.common.async?Promise.all(i).then(o=>Ve.mergeArray(n,o)):Ve.mergeArray(n,i)}get items(){return this._def.items}rest(e){return new _t({...this._def,rest:e})}}_t.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new _t({items:t,typeName:G.ZodTuple,rest:null,...se(e)})};class bn extends re{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==L.object)return z(r,{code:j.invalid_type,expected:L.object,received:r.parsedType}),Q;const s=[],i=this._def.keyType,o=this._def.valueType;for(const a in r.data)s.push({key:i._parse(new mt(r,a,r.path,a)),value:o._parse(new mt(r,r.data[a],r.path,a))});return r.common.async?Ve.mergeObjectAsync(n,s):Ve.mergeObjectSync(n,s)}get element(){return this._def.valueType}static create(e,n,r){return n instanceof re?new bn({keyType:e,valueType:n,typeName:G.ZodRecord,...se(r)}):new bn({keyType:It.create(),valueType:e,typeName:G.ZodRecord,...se(n)})}}class Kn extends re{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==L.map)return z(r,{code:j.invalid_type,expected:L.map,received:r.parsedType}),Q;const s=this._def.keyType,i=this._def.valueType,o=[...r.data.entries()].map(([a,l],u)=>({key:s._parse(new mt(r,a,r.path,[u,"key"])),value:i._parse(new mt(r,l,r.path,[u,"value"]))}));if(r.common.async){const a=new Map;return Promise.resolve().then(async()=>{for(const l of o){const u=await l.key,c=await l.value;if(u.status==="aborted"||c.status==="aborted")return Q;(u.status==="dirty"||c.status==="dirty")&&n.dirty(),a.set(u.value,c.value)}return{status:n.value,value:a}})}else{const a=new Map;for(const l of o){const u=l.key,c=l.value;if(u.status==="aborted"||c.status==="aborted")return Q;(u.status==="dirty"||c.status==="dirty")&&n.dirty(),a.set(u.value,c.value)}return{status:n.value,value:a}}}}Kn.create=(t,e,n)=>new Kn({valueType:e,keyType:t,typeName:G.ZodMap,...se(n)});class Dt extends re{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==L.set)return z(r,{code:j.invalid_type,expected:L.set,received:r.parsedType}),Q;const s=this._def;s.minSize!==null&&r.data.size<s.minSize.value&&(z(r,{code:j.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,message:s.minSize.message}),n.dirty()),s.maxSize!==null&&r.data.size>s.maxSize.value&&(z(r,{code:j.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,message:s.maxSize.message}),n.dirty());const i=this._def.valueType;function o(l){const u=new Set;for(const c of l){if(c.status==="aborted")return Q;c.status==="dirty"&&n.dirty(),u.add(c.value)}return{status:n.value,value:u}}const a=[...r.data.values()].map((l,u)=>i._parse(new mt(r,l,r.path,u)));return r.common.async?Promise.all(a).then(l=>o(l)):o(a)}min(e,n){return new Dt({...this._def,minSize:{value:e,message:ce.toString(n)}})}max(e,n){return new Dt({...this._def,maxSize:{value:e,message:ce.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}Dt.create=(t,e)=>new Dt({valueType:t,minSize:null,maxSize:null,typeName:G.ZodSet,...se(e)});class Jt extends re{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==L.function)return z(n,{code:j.invalid_type,expected:L.function,received:n.parsedType}),Q;function r(a,l){return Un({data:a,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,qn(),_n].filter(u=>!!u),issueData:{code:j.invalid_arguments,argumentsError:l}})}function s(a,l){return Un({data:a,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,qn(),_n].filter(u=>!!u),issueData:{code:j.invalid_return_type,returnTypeError:l}})}const i={errorMap:n.common.contextualErrorMap},o=n.data;return this._def.returns instanceof en?Je(async(...a)=>{const l=new At([]),u=await this._def.args.parseAsync(a,i).catch(d=>{throw l.addIssue(r(a,d)),l}),c=await o(...u);return await this._def.returns._def.type.parseAsync(c,i).catch(d=>{throw l.addIssue(s(c,d)),l})}):Je((...a)=>{const l=this._def.args.safeParse(a,i);if(!l.success)throw new At([r(a,l.error)]);const u=o(...l.data),c=this._def.returns.safeParse(u,i);if(!c.success)throw new At([s(u,c.error)]);return c.data})}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new Jt({...this._def,args:_t.create(e).rest(Mt.create())})}returns(e){return new Jt({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,n,r){return new Jt({args:e||_t.create([]).rest(Mt.create()),returns:n||Mt.create(),typeName:G.ZodFunction,...se(r)})}}class Xn extends re{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}Xn.create=(t,e)=>new Xn({getter:t,typeName:G.ZodLazy,...se(e)});class Gn extends re{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return z(n,{code:j.invalid_literal,expected:this._def.value}),Q}return{status:"valid",value:e.data}}get value(){return this._def.value}}Gn.create=(t,e)=>new Gn({value:t,typeName:G.ZodLiteral,...se(e)});function mi(t,e){return new cr({values:t,typeName:G.ZodEnum,...se(e)})}class cr extends re{_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),r=this._def.values;return z(n,{expected:me.joinValues(r),received:n.parsedType,code:j.invalid_type}),Q}if(this._def.values.indexOf(e.data)===-1){const n=this._getOrReturnCtx(e),r=this._def.values;return z(n,{received:n.data,code:j.invalid_enum_value,options:r}),Q}return Je(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}}cr.create=mi;class Qn extends re{_parse(e){const n=me.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==L.string&&r.parsedType!==L.number){const s=me.objectValues(n);return z(r,{expected:me.joinValues(s),received:r.parsedType,code:j.invalid_type}),Q}if(n.indexOf(e.data)===-1){const s=me.objectValues(n);return z(r,{received:r.data,code:j.invalid_enum_value,options:s}),Q}return Je(e.data)}get enum(){return this._def.values}}Qn.create=(t,e)=>new Qn({values:t,typeName:G.ZodNativeEnum,...se(e)});class en extends re{_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==L.promise&&n.common.async===!1)return z(n,{code:j.invalid_type,expected:L.promise,received:n.parsedType}),Q;const r=n.parsedType===L.promise?n.data:Promise.resolve(n.data);return Je(r.then(s=>this._def.type.parseAsync(s,{path:n.path,errorMap:n.common.contextualErrorMap})))}}en.create=(t,e)=>new en({type:t,typeName:G.ZodPromise,...se(e)});class yt extends re{innerType(){return this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),s=this._def.effect||null;if(s.type==="preprocess"){const o=s.transform(r.data);return r.common.async?Promise.resolve(o).then(a=>this._def.schema._parseAsync({data:a,path:r.path,parent:r})):this._def.schema._parseSync({data:o,path:r.path,parent:r})}const i={addIssue:o=>{z(r,o),o.fatal?n.abort():n.dirty()},get path(){return r.path}};if(i.addIssue=i.addIssue.bind(i),s.type==="refinement"){const o=a=>{const l=s.refinement(a,i);if(r.common.async)return Promise.resolve(l);if(l instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return a};if(r.common.async===!1){const a=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?Q:(a.status==="dirty"&&n.dirty(),o(a.value),{status:n.value,value:a.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(a=>a.status==="aborted"?Q:(a.status==="dirty"&&n.dirty(),o(a.value).then(()=>({status:n.value,value:a.value}))))}if(s.type==="transform")if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!Wn(o))return o;const a=s.transform(o.value,i);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:a}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>Wn(o)?Promise.resolve(s.transform(o.value,i)).then(a=>({status:n.value,value:a})):o);me.assertNever(s)}}yt.create=(t,e,n)=>new yt({schema:t,typeName:G.ZodEffects,effect:e,...se(n)});yt.createWithPreprocess=(t,e,n)=>new yt({schema:e,effect:{type:"preprocess",transform:t},typeName:G.ZodEffects,...se(n)});class pt extends re{_parse(e){return this._getType(e)===L.undefined?Je(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}pt.create=(t,e)=>new pt({innerType:t,typeName:G.ZodOptional,...se(e)});class Ft extends re{_parse(e){return this._getType(e)===L.null?Je(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Ft.create=(t,e)=>new Ft({innerType:t,typeName:G.ZodNullable,...se(e)});class zr extends re{_parse(e){const{ctx:n}=this._processInputParams(e);let r=n.data;return n.parsedType===L.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}zr.create=(t,e)=>new pt({innerType:t,typeName:G.ZodOptional,...se(e)});class er extends re{_parse(e){if(this._getType(e)!==L.nan){const r=this._getOrReturnCtx(e);return z(r,{code:j.invalid_type,expected:L.nan,received:r.parsedType}),Q}return{status:"valid",value:e.data}}}er.create=t=>new er({typeName:G.ZodNaN,...se(t)});const Ha=Symbol("zod_brand");class hi extends re{_parse(e){const{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}const _i=(t,e={},n)=>t?Qt.create().superRefine((r,s)=>{if(!t(r)){const i=typeof e=="function"?e(r):e,o=typeof i=="string"?{message:i}:i;s.addIssue({code:"custom",...o,fatal:n})}}):Qt.create(),Va={object:Se.lazycreate};var G;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded"})(G||(G={}));const Ja=(t,e={message:`Input not instance of ${t.name}`})=>_i(n=>n instanceof t,e,!0),yi=It.create,gi=Pt.create,Ya=er.create,Ka=zn.create,bi=Bn.create,Xa=Gt.create,Ga=Hn.create,Qa=Vn.create,el=Qt.create,tl=Mt.create,nl=Et.create,rl=Jn.create,sl=ht.create,il=Se.create,ol=Se.strictCreate,al=yn.create,ll=ur.create,ul=gn.create,cl=_t.create,dl=bn.create,fl=Kn.create,pl=Dt.create,ml=Jt.create,hl=Xn.create,_l=Gn.create,yl=cr.create,gl=Qn.create,bl=en.create,vs=yt.create,vl=pt.create,wl=Ft.create,kl=yt.createWithPreprocess,Al=()=>yi().optional(),Cl=()=>gi().optional(),El=()=>bi().optional(),Sl=Q;var K=Object.freeze({__proto__:null,getParsedType:$t,ZodParsedType:L,defaultErrorMap:_n,setErrorMap:Da,getErrorMap:qn,makeIssue:Un,EMPTY_PATH:Fa,addIssueToContext:z,ParseStatus:Ve,INVALID:Q,DIRTY:qa,OK:Je,isAborted:Sr,isDirty:xr,isValid:Wn,isAsync:Tr,ZodType:re,ZodString:It,ZodNumber:Pt,ZodBigInt:zn,ZodBoolean:Bn,ZodDate:Gt,ZodUndefined:Hn,ZodNull:Vn,ZodAny:Qt,ZodUnknown:Mt,ZodNever:Et,ZodVoid:Jn,ZodArray:ht,get objectUtil(){return Yn},ZodObject:Se,ZodUnion:yn,ZodDiscriminatedUnion:ur,ZodIntersection:gn,ZodTuple:_t,ZodRecord:bn,ZodMap:Kn,ZodSet:Dt,ZodFunction:Jt,ZodLazy:Xn,ZodLiteral:Gn,ZodEnum:cr,ZodNativeEnum:Qn,ZodPromise:en,ZodEffects:yt,ZodTransformer:yt,ZodOptional:pt,ZodNullable:Ft,ZodDefault:zr,ZodNaN:er,BRAND:Ha,ZodBranded:hi,custom:_i,Schema:re,ZodSchema:re,late:Va,get ZodFirstPartyTypeKind(){return G},any:el,array:sl,bigint:Ka,boolean:bi,date:Xa,discriminatedUnion:ll,effect:vs,enum:yl,function:ml,instanceof:Ja,intersection:ul,lazy:hl,literal:_l,map:fl,nan:Ya,nativeEnum:gl,never:nl,null:Qa,nullable:wl,number:gi,object:il,oboolean:El,onumber:Cl,optional:vl,ostring:Al,preprocess:kl,promise:bl,record:dl,set:pl,strictObject:ol,string:yi,transformer:vs,tuple:cl,undefined:Ga,union:al,unknown:tl,void:rl,NEVER:Sl,ZodIssueCode:j,quotelessJson:Pa,ZodError:At});function xl(t){if(/\s/.test(t))throw new Error("Can't contain whitespace");return t=t.replace(/(\w)-(\w)/g,(e,n,r)=>{const s=n.charCodeAt(0),i=r.charCodeAt(0);if(n.length!==1||s>255)throw new Error(`Invalid starting character in range "${e}"`);if(r.length!==1||i>255)throw new Error(`Invalid ending character in range "${e}"`);if(s>i)throw new Error(`Invalid range "${e}"`);let o="";for(let a=s;a<=i;a++)o+=String.fromCharCode(a);return o}),t.replace(/[^\\]-|[^\\]-\W|^-\W|^-\w?/,e=>{throw new Error(`Unterminated range "${e}"`)}),t=t.replace(/\\(.)/g,"$1"),Array.from(new Set(t.split(""))).sort()}function ws(t){try{return xl(t),!0}catch{return!1}}const Br=1,dr=K.object({domain:K.string().trim().min(1,"Domain name can't be empty").refine(t=>!/[A-Z]/.test(t),"Domain name must be lower case").refine(t=>t!=="derivepass",'"derivepass" domain is reserved').refine(t=>!/^(www|\w+:\/\/)/.test(t),"Domain name should not start with `www.`, `http://`, or any `schema://`"),login:K.string().trim().min(1,"Username can't be empty"),revision:K.number().positive("Revision must be a positive number"),allowedChars:K.string().trim().min(1,"Allowed characters can't be empty").refine(ws,"Allowed characters contain invalid range"),requiredChars:K.string().trim().refine(ws,"Allowed characters contain invalid range"),passwordLen:K.number().positive()}),Hr=K.object({id:K.string().min(1),version:K.literal(Br)});Hr.and(dr);const vi=Hr.and(K.object({encrypted:K.string(),modifiedAt:K.number(),removed:K.optional(K.boolean())})),Tl=Hr.and(K.object({encrypted:K.string(),removed:K.optional(K.boolean())}));vi.and(K.object({decrypted:K.optional(dr)}));const $l=K.object({host:K.string(),token:K.string(),lastModifiedAt:K.number(),lastSyncedAt:K.number(),localLastModifiedAt:K.number()}),Ol=K.object({token:K.string()}),Nl=K.object({objects:K.array(K.object({id:K.string(),data:K.string(),modifiedAt:K.number()}))}),Il=K.object({modifiedAt:K.number()}),jl=K.object({uuid:K.string(),changedAt:K.number(),removed:K.boolean(),domain:K.string(),login:K.string(),revision:K.string(),options:K.string()}),Rl=K.object({allowed:K.string().trim(),required:K.string().trim(),maxLength:K.number().or(K.string())}),He=Wr("dp:stores:remoteSync"),Or=`${ei}remote-state`,Rt=at(),wi=at(0);let On;function ki(){On!==void 0&&clearTimeout(On),On=setTimeout(()=>{On=void 0,fr()},Qs)}async function Ll({host:t,username:e,password:n}){const r=Za(`${e}:${n}`),s=await fetch(`https://${t}/user/token`,{method:"PUT",headers:{authorization:`Basic ${r}`,accept:"application/json"}});if(!s.ok)throw new Error("Request failed");const{token:i}=Ol.parse(await s.json()),o={host:t,token:i,lastModifiedAt:0,localLastModifiedAt:0,lastSyncedAt:0};Rt.set(o),fr()}function Nr(t){return{authorization:`Bearer ${t.token}`,accept:"application/json","content-type":"application/json"}}async function Ai(t){let e=!0;if(Rt.update(n=>{if(n!==t)return n;e=!1}),!(t===void 0||e))try{await fetch(`https://${t.host}/user/token`,{method:"DELETE",headers:Nr(t),body:JSON.stringify({token:t.token})})}catch(n){He("failed to delete old token",n)}}function fr(){He("trigger sync"),wi.update(t=>t+1)}async function ks(t,e){if((e.status===401||e.status===403)&&await Ai(t),!e.ok){const n=await e.text();throw new Error(`Failed to send request: ${n}`)}}async function Ml(t,e){const n=new Map;if(t===void 0)return{updated:n};const r=`https://${t.host}/objects`,s=await fetch(`${r}?since=${t.lastModifiedAt}`,{headers:Nr(t)});await ks(t,s);const{objects:i}=Nl.parse(await s.json());He("got %d remote objects since %j",i.length,t.lastModifiedAt,i);const o=new Map(e.map(d=>[d.id,d]));let a=t.lastModifiedAt;for(const{id:d,data:p,modifiedAt:m}of i){a=Math.max(a,m),o.delete(d);let h;try{h=Tl.parse(JSON.parse(p))}catch(x){He("failed to parse remote application",p,x);continue}n.set(h.id,h)}const l=new Array;let u=t.localLastModifiedAt;const c=Array.from(o.values()).sort((d,p)=>d.modifiedAt-p.modifiedAt);for(const d of c)d.modifiedAt<=t.localLastModifiedAt||(u=Math.max(u,d.modifiedAt),l.push({id:d.id,version:d.version,encrypted:d.encrypted,removed:d.removed}));if(l.length>0){He("uploading %d new objects since %j",l.length,t.localLastModifiedAt);const d=await fetch(r,{method:"PUT",headers:Nr(t),body:JSON.stringify({objects:l.map(m=>({id:m.id,data:m}))})});await ks(t,d),a=Il.parse(await d.json()).modifiedAt}const f={...t,lastModifiedAt:a,localLastModifiedAt:u,lastSyncedAt:Date.now()};return Rt.update(d=>d!==t?d:f),{updated:n}}function Zl(t,e,n,{updated:r}){if(r.size===0){He("no changes, not applying results");return}e.update(s=>{const{localLastModifiedAt:i}=t;let o=i;const a=s.map(l=>{const u=r.get(l.id);return r.delete(l.id),l.modifiedAt>i?(He("app %j modified in flight",l.id),l):u===void 0?l:(o=n.next(),He("updated app %j",l.id),{...l,encrypted:u.encrypted,modifiedAt:o})});for(const l of r.values())o=n.next(),He("added app %j",l.id),a.push({...l,modifiedAt:o});return Rt.update(l=>{if(l===t)return{...l,localLastModifiedAt:o}}),a})}function Pl(t,e){let n;Rt.subscribe(i=>n=i);const r=ir([t,wi],([i])=>i);let s=0;r.subscribe(async i=>{if(ki(),n===void 0){He("no remote state, not sync");return}if(++s!==1){He("%d syncs already running",s);return}He("starting sync");try{const o=await Ml(n,i);Zl(n,t,e,o)}catch(o){He("failed to run sync or apply sync results",o)}--s!==0&&(s=0,He("re-triggering sync"),fr())})}const As=localStorage.getItem(Or);if(As)try{Rt.set($l.parse(JSON.parse(As)))}catch(t){He("Failed to update remote state store",t)}ki();Rt.subscribe(async t=>{if(t===void 0){localStorage.removeItem(Or);return}localStorage.setItem(Or,JSON.stringify(t))});function Dl(t){let e,n,r,s,i,o,a,l,u,c,f,d,p,m,h,x,C,O,R,y;s=new ut({props:{required:!0,name:"host",label:"Storage server hostname",placeholder:"storage.example.com"}}),s.$on("input",t[4]),s.$on("change",t[5]),s.$on("focus",t[6]),s.$on("blur",t[7]),o=new ut({props:{required:!0,name:"username",label:"Username",placeholder:"me@my.server"}}),o.$on("input",t[8]),o.$on("change",t[9]),o.$on("focus",t[10]),o.$on("blur",t[11]),l=new ut({props:{required:!0,name:"password",type:"password",label:"Password"}}),l.$on("input",t[12]),l.$on("change",t[13]),l.$on("focus",t[14]),l.$on("blur",t[15]);let E=t[0]!==void 0&&Cs(t);return x=new Lt({props:{href:"https://github.com/derivepass/derivepass-storage#readme",$$slots:{default:[ql]},$$scope:{ctx:t}}}),{c(){e=$("h2"),e.textContent="Setup Synchronization",n=U(),r=$("form"),ue(s.$$.fragment),i=U(),ue(o.$$.fragment),a=U(),ue(l.$$.fragment),u=U(),E&&E.c(),c=U(),f=$("button"),f.textContent="Login",d=U(),p=$("p"),m=$("small"),h=F(`See
      `),ue(x.$$.fragment),C=F(`
      for instructions on running your own storage server.`),b(e,"class","text-3xl mb-4"),b(f,"type","submit"),b(f,"class","px-4 py-2 rounded bg-blue-600 hover:bg-blue-700 active:bg-blue-800 text-white disabled:bg-blue-400"),b(p,"class","mt-4")},m(_,D){A(_,e,D),A(_,n,D),A(_,r,D),oe(s,r,null),v(r,i),oe(o,r,null),v(r,a),oe(l,r,null),v(r,u),E&&E.m(r,null),v(r,c),v(r,f),A(_,d,D),A(_,p,D),v(p,m),v(m,h),oe(x,m,null),v(m,C),O=!0,R||(y=Kt(t[2].call(null,r)),R=!0)},p(_,D){_[0]!==void 0?E?E.p(_,D):(E=Cs(_),E.c(),E.m(r,c)):E&&(E.d(1),E=null);const N={};D&65536&&(N.$$scope={dirty:D,ctx:_}),x.$set(N)},i(_){O||(P(s.$$.fragment,_),P(o.$$.fragment,_),P(l.$$.fragment,_),P(x.$$.fragment,_),O=!0)},o(_){q(s.$$.fragment,_),q(o.$$.fragment,_),q(l.$$.fragment,_),q(x.$$.fragment,_),O=!1},d(_){_&&w(e),_&&w(n),_&&w(r),ae(s),ae(o),ae(l),E&&E.d(),_&&w(d),_&&w(p),ae(x),R=!1,y()}}}function Fl(t){let e,n,r,s,i,o,a,l,u,c;function f(m,h){return m[1].lastSyncedAt?Wl:Ul}let d=f(t),p=d(t);return{c(){e=$("h2"),e.textContent="Synchronization",n=U(),r=$("p"),p.c(),s=U(),i=$("section"),o=$("button"),o.textContent="Sync Now",a=U(),l=$("button"),l.textContent="Unlink",b(e,"class","text-3xl mb-4"),b(r,"class","my-2"),b(o,"type","button"),b(o,"class","px-4 py-2 rounded bg-blue-600 hover:bg-blue-700 active:bg-blue-800 text-white disabled:bg-blue-400"),b(l,"type","reset"),b(l,"class","px-4 py-2 rounded bg-red-500 hover:bg-red-600 text-white disabled:bg-red-400"),b(i,"class","mt-4 flex gap-1")},m(m,h){A(m,e,h),A(m,n,h),A(m,r,h),p.m(r,null),A(m,s,h),A(m,i,h),v(i,o),v(i,a),v(i,l),u||(c=[We(o,"click",Qe(fr)),We(l,"click",Qe(t[3]))],u=!0)},p(m,h){d===(d=f(m))&&p?p.p(m,h):(p.d(1),p=d(m),p&&(p.c(),p.m(r,null)))},i:X,o:X,d(m){m&&w(e),m&&w(n),m&&w(r),p.d(),m&&w(s),m&&w(i),u=!1,it(c)}}}function Cs(t){let e,n;return{c(){e=$("p"),n=F(t[0]),b(e,"class","my-2 text-red-500")},m(r,s){A(r,e,s),v(e,n)},p(r,s){s&1&&ot(n,r[0])},d(r){r&&w(e)}}}function ql(t){let e;return{c(){e=F("derivepass-storage")},m(n,r){A(n,e,r)},d(n){n&&w(e)}}}function Ul(t){let e,n,r=t[1].host+"",s,i;return{c(){e=F("Awaiting initial sync with "),n=$("b"),s=F(r),i=F(".")},m(o,a){A(o,e,a),A(o,n,a),v(n,s),A(o,i,a)},p(o,a){a&2&&r!==(r=o[1].host+"")&&ot(s,r)},d(o){o&&w(e),o&&w(n),o&&w(i)}}}function Wl(t){let e,n,r=t[1].host+"",s,i,o,a,l,u=new Date(t[1].lastSyncedAt).toLocaleString()+"",c,f;return{c(){e=F("Last synchronized with "),n=$("b"),s=F(r),i=U(),o=$("br"),a=F(`
      on `),l=$("b"),c=F(u),f=F(".")},m(d,p){A(d,e,p),A(d,n,p),v(n,s),A(d,i,p),A(d,o,p),A(d,a,p),A(d,l,p),v(l,c),A(d,f,p)},p(d,p){p&2&&r!==(r=d[1].host+"")&&ot(s,r),p&2&&u!==(u=new Date(d[1].lastSyncedAt).toLocaleString()+"")&&ot(c,u)},d(d){d&&w(e),d&&w(n),d&&w(i),d&&w(o),d&&w(a),d&&w(l),d&&w(f)}}}function zl(t){let e,n,r,s;const i=[Fl,Dl],o=[];function a(l,u){return l[1]?0:1}return e=a(t),n=o[e]=i[e](t),{c(){n.c(),r=jt()},m(l,u){o[e].m(l,u),A(l,r,u),s=!0},p(l,[u]){let c=e;e=a(l),e===c?o[e].p(l,u):(tt(),q(o[c],1,1,()=>{o[c]=null}),nt(),n=o[e],n?n.p(l,u):(n=o[e]=i[e](l),n.c()),P(n,1),n.m(r.parentNode,r))},i(l){s||(P(n),s=!0)},o(l){q(n),s=!1},d(l){o[e].d(l),l&&w(r)}}}function Bl(t,e,n){var R;let r;st(t,Rt,y=>n(1,r=y));let s;const{form:i}=fi({initialValues:{host:(R=r==null?void 0:r.host)!=null?R:"",username:"",password:""},async onSubmit(y){return n(0,s=void 0),Ll(y)},onError(){n(0,s="Invalid credentials or unreachable server")}}),o=()=>Ai(r);function a(y){ne.call(this,t,y)}function l(y){ne.call(this,t,y)}function u(y){ne.call(this,t,y)}function c(y){ne.call(this,t,y)}function f(y){ne.call(this,t,y)}function d(y){ne.call(this,t,y)}function p(y){ne.call(this,t,y)}function m(y){ne.call(this,t,y)}function h(y){ne.call(this,t,y)}function x(y){ne.call(this,t,y)}function C(y){ne.call(this,t,y)}function O(y){ne.call(this,t,y)}return[s,r,i,o,a,l,u,c,f,d,p,m,h,x,C,O]}class Hl extends Ke{constructor(e){super(),Ye(this,e,Bl,zl,ze,{})}}function Vl(t){let e,n,r,s,i,o,a,l;return{c(){e=$("a"),n=$("h3"),r=F(t[1]),s=U(),i=F(t[2]),b(n,"class","text-lg font-semibold"),b(e,"href",o="/applications/"+t[0]),b(e,"class","px-4 text-blue-600 py-8 rounded border my-4 flex flex-col hover:bg-gray-100")},m(u,c){A(u,e,c),v(e,n),v(n,r),v(e,s),v(e,i),a||(l=Kt(Fr.call(null,e)),a=!0)},p(u,[c]){c&2&&ot(r,u[1]),c&4&&ot(i,u[2]),c&1&&o!==(o="/applications/"+u[0])&&b(e,"href",o)},i:X,o:X,d(u){u&&w(e),a=!1,l()}}}function Jl(t,e,n){let{id:r}=e,{domain:s}=e,{login:i}=e;return t.$$set=o=>{"id"in o&&n(0,r=o.id),"domain"in o&&n(1,s=o.domain),"login"in o&&n(2,i=o.login)},[r,s,i]}class Yl extends Ke{constructor(e){super(),Ye(this,e,Jl,Vl,ze,{id:0,domain:1,login:2})}}let Ci=(t=21)=>crypto.getRandomValues(new Uint8Array(t)).reduce((e,n)=>(n&=63,n<36?e+=n.toString(36):n<62?e+=(n-26).toString(36).toUpperCase():n>62?e+="-":e+="_",e),"");const Kl=new TextEncoder,Ir=new TextDecoder,Xl=16;function Ei({aes:t,hmac:e},n){const r=Kl.encode(JSON.stringify(n)),s=new Uint8Array(Xl);return window.crypto.getRandomValues(s),go(po(t,e,s,r))}function Gl({aes:t,hmac:e},n){const r=JSON.parse(Ir.decode(Ks(t,e,wr(n))));return dr.parse(r)}function Nn({aes:t,hmac:e},n){return n.startsWith("v1:")?Ir.decode(Ks(t,e,wr(n.slice(3)))):Ir.decode(mo(t,wr(n)))}const Vr={allowedChars:"a-zA-Z0-9_.",requiredChars:"",passwordLen:24},Ql=new Map([["avid.com",{options:{requiredChars:"@"}}],["davidstea.com",{options:{requiredChars:"@"}}],["easyjet.com",{options:{passwordLen:20}}],["facebook.com",{alias:["fb.com"]}],["hrblock.com",{options:{requiredChars:"$"}}],["italki.com",{options:{passwordLen:20}}],["google.com",{alias:["accounts.google.com","gmail.com","youtube.com"]}],["live.com",{alias:["signup.live.com"],options:{requiredChars:"@"}}],["nic.ru",{options:{allowedChars:"a-zA-Z0-9"}}],["nintendo.com",{alias:["accounts.nintendo.com"],options:{requiredChars:"@",passwordLen:20}}],["nyumlc.org",{options:{passwordLen:20}}],["parcelpending.com",{options:{requiredChars:"$@"}}],["paypal.com",{options:{requiredChars:"@",passwordLen:20}}],["pokemon.com",{options:{requiredChars:"@"}}],["redislabs.com",{options:{requiredChars:"$"}}],["rentcafe.com",{options:{requiredChars:"@"}}],["spectrum.net",{options:{passwordLen:20}}],["teladoc.com",{options:{requiredChars:"#"}}],["yahoo.com",{alias:["login.yahoo.com"]}],["ybr.com",{options:{requiredChars:"@",passwordLen:20}}]]),Si=new Map;for(const[t,{alias:e=[],options:n={}}]of Ql)for(const r of[t,...e])Si.set(r,{domain:t,options:{...Vr,...n}});function eu({allowedChars:t,requiredChars:e,passwordLen:n},r=Vr){return t===r.allowedChars&&e===r.requiredChars&&n===r.passwordLen}const tu=Wr("dp:localSync"),Es=`${ei}i:`;function nu(t){var s,i;const e=new Array,n=at(0);for(let o=0;o<localStorage.length;o++){const a=(s=localStorage.key(o))!=null?s:"";if(!!a.startsWith(Es))try{const l=JSON.parse((i=localStorage.getItem(a))!=null?i:""),u=vi.parse(l);n.update(c=>Math.max(c,u.modifiedAt)),e.push(u)}catch{}}tu("loaded %d apps",e.length),t.set(e);const r=new Map;return t.subscribe(o=>{const a=new Array;for(const{decrypted:l,...u}of o){const c=u,f=r.get(u.id);if(r.set(u.id,u.modifiedAt),f===void 0){a.push(c);continue}f!==c.modifiedAt&&a.push(c)}for(const l of a)localStorage.setItem(`${Es}${l.id}`,JSON.stringify(l))}),{lastModifiedAt:{subscribe:n.subscribe,next(){let o=Date.now();return n.update(a=>(o=Math.max(o,a+1),o)),o}}}}const ru=Wr("dp:migrator"),su="derivepass/production/";function iu(t){lt.subscribe(e=>{var r,s;if(e===void 0)return;let n=0;for(let i=0;i<localStorage.length;i++){const o=(r=localStorage.key(i))!=null?r:"";if(!!o.startsWith(su))try{const a=JSON.parse((s=localStorage.getItem(o))!=null?s:""),{changedAt:l,domain:u,login:c,revision:f,options:d,removed:p}=jl.parse(a);if(p)continue;const m=Nn(e,u),h=Nn(e,c),x=Nn(e,f),C=Rl.parse(JSON.parse(Nn(e,d))),O=parseInt(x,10);if(O<1||isNaN(O))throw new Error("Negative or NaN revision");const{allowed:R,required:y,maxLength:E}=C,_=typeof E=="number"?E:parseInt(E,10);if(_<1||isNaN(_))throw new Error("Negative or NaN passwordLen");const D=Ei(e,{domain:m,login:h,revision:O,allowedChars:R,requiredChars:y,passwordLen:_});t.update(N=>[...N,{id:Ci(),version:Br,encrypted:D,modifiedAt:l}]),localStorage.removeItem(o),n++}catch{}}ru("migrated %d records",n)})}const Zt=at([]),{lastModifiedAt:jr}=nu(Zt);Pl(Zt,jr);iu(Zt);lt.subscribe(t=>{Zt.update(e=>e.map(({decrypted:n,encrypted:r,...s})=>{let i;if(s.removed)return{encrypted:"",...s};if(t!==void 0)try{i=Gl(t,r)}catch{}return{decrypted:i,encrypted:r,...s}}))});const cn={subscribe:ir(Zt,t=>t.slice().sort((e,n)=>n.modifiedAt-e.modifiedAt).map(e=>{if(!(e.removed||e.decrypted===void 0))return{id:e.id,version:e.version,...e.decrypted}}).filter(e=>e!==void 0)).subscribe,getTemplate(){return{id:Ci(),version:Br,domain:"",login:"",revision:1,...Vr}},deleteById(t){Zt.update(e=>e.map(n=>n.id===t?{id:n.id,version:n.version,encrypted:"",removed:!0,modifiedAt:jr.next()}:n))},save(t,{id:e,version:n,...r}){const s=Ei(t,r),i={id:e,version:n,decrypted:r,encrypted:s,modifiedAt:jr.next()};Zt.update(o=>{let a=!1;const l=o.map(u=>u.id===i.id?(a=!0,i):u);return a?l:[...o,i]})}};function Ss(t,e,n){const r=t.slice();return r[6]=e[n],r}function xs(t,e){let n,r,s;return r=new Yl({props:{id:e[6].id,domain:e[6].domain,login:e[6].login}}),{key:t,first:null,c(){n=jt(),ue(r.$$.fragment),this.first=n},m(i,o){A(i,n,o),oe(r,i,o),s=!0},p(i,o){e=i;const a={};o&2&&(a.id=e[6].id),o&2&&(a.domain=e[6].domain),o&2&&(a.login=e[6].login),r.$set(a)},i(i){s||(P(r.$$.fragment,i),s=!0)},o(i){q(r.$$.fragment,i),s=!1},d(i){i&&w(n),ae(r,i)}}}function ou(t){let e,n,r,s,i,o=[],a=new Map,l,u,c,f,d=t[1];const p=m=>m[6].id;for(let m=0;m<d.length;m+=1){let h=Ss(t,d,m),x=p(h);a.set(x,o[m]=xs(x,h))}return{c(){e=$("form"),n=$("input"),r=U(),s=$("input"),i=U();for(let m=0;m<o.length;m+=1)o[m].c();l=jt(),b(n,"class","grow px-4 py-2 min-w-0 rounded-l border focus:outline-none"),b(n,"type","text"),b(n,"autocomplete","off"),b(n,"placeholder","Filter applications"),b(s,"class","shrink px-4 py-2 rounded-r border-y border-blue-600 hover:border-blue-700 active:border-blue-800 bg-blue-600 hover:bg-blue-700 active:bg-blue-800 text-white"),b(s,"type","button"),s.value="Add application",b(e,"class","flex items-center rounded focus-within:ring"),b(e,"autocomplete","off")},m(m,h){A(m,e,h),v(e,n),Xr(n,t[0]),v(e,r),v(e,s),A(m,i,h);for(let x=0;x<o.length;x+=1)o[x].m(m,h);A(m,l,h),u=!0,c||(f=[We(n,"input",t[5]),We(s,"click",Qe(t[2])),We(e,"submit",Qe(au))],c=!0)},p(m,[h]){h&1&&n.value!==m[0]&&Xr(n,m[0]),h&2&&(d=m[1],tt(),o=Xi(o,h,p,1,m,d,a,l.parentNode,Ki,xs,l,Ss),nt())},i(m){if(!u){for(let h=0;h<d.length;h+=1)P(o[h]);u=!0}},o(m){for(let h=0;h<o.length;h+=1)q(o[h]);u=!1},d(m){m&&w(e),m&&w(i);for(let h=0;h<o.length;h+=1)o[h].d(m);m&&w(l),c=!1,it(f)}}}function au(){}function lu(t,e,n){let r,s,i;st(t,cn,u=>n(4,i=u));let o="";function a(){Bt("/applications/new")}function l(){o=this.value,n(0,o)}return t.$$.update=()=>{t.$$.dirty&1&&n(3,r=o.toLowerCase()),t.$$.dirty&24&&n(1,s=i.filter(({domain:u,login:c})=>`${u}/${c}`.toLowerCase().includes(r)))},[o,s,a,r,i,l]}class uu extends Ke{constructor(e){super(),Ye(this,e,lu,ou,ze,{})}}function cu(t){function e(n){return n.issues.reduce((r,s)=>s.path?tn(r,s.path.join("."),i=>!i||!Array.isArray(i)?[s.message]:[...i,s.message]):r,{})}return async function(r){try{await t.parseAsync(r)}catch(s){return e(s)}}}function du({schema:t,level:e="error"}){return function(r){if(r.stage!=="SETUP")return{};const s=cu(t);return r.addValidator(s,{level:e}),{}}}function fu(t){let e,n,r=t[2].domain+"",s,i,o=t[2].login+"",a;return{c(){e=$("h2"),n=$("b"),s=F(r),i=F("/"),a=F(o),b(e,"class","text-2xl")},m(l,u){A(l,e,u),v(e,n),v(n,s),v(e,i),v(e,a)},p(l,u){u[0]&4&&r!==(r=l[2].domain+"")&&ot(s,r),u[0]&4&&o!==(o=l[2].login+"")&&ot(a,o)},d(l){l&&w(e)}}}function pu(t){let e;return{c(){e=$("h2"),e.textContent="New Application",b(e,"class","text-2xl")},m(n,r){A(n,e,r)},p:X,d(n){n&&w(e)}}}function mu(t){let e;return{c(){e=F("Copied")},m(n,r){A(n,e,r)},i:X,o:X,d(n){n&&w(e)}}}function hu(t){let e;return{c(){e=F("Copy password")},m(n,r){A(n,e,r)},i:X,o:X,d(n){n&&w(e)}}}function _u(t){let e,n,r,s;return n=new ai({}),{c(){e=$("div"),ue(n.$$.fragment),r=F(" Computing..."),b(e,"class","flex gap-2 items-center")},m(i,o){A(i,e,o),oe(n,e,null),v(e,r),s=!0},i(i){s||(P(n.$$.fragment,i),s=!0)},o(i){q(n.$$.fragment,i),s=!1},d(i){i&&w(e),ae(n)}}}function yu(t){let e;return{c(){e=F("Compute password")},m(n,r){A(n,e,r)},i:X,o:X,d(n){n&&w(e)}}}function Ts(t){let e,n,r,s,i,o,a,l,u=!t[0]&&$s();return{c(){e=$("section"),n=$("p"),n.innerHTML="<b>Recommended</b> configuration is available for this domain.",r=U(),u&&u.c(),s=U(),i=$("p"),o=$("button"),o.textContent="Use",b(o,"type","button"),b(o,"class","px-4 py-2 rounded bg-yellow-400 hover:bg-yellow-500 active:bg-yellow-600 text-black"),b(i,"class","mt-2"),b(e,"class","px-4 py-2 mb-2 rounded bg-yellow-100 text-yellow-800")},m(c,f){A(c,e,f),v(e,n),v(e,r),u&&u.m(e,null),v(e,s),v(e,i),v(i,o),a||(l=We(o,"click",Qe(t[23])),a=!0)},p(c,f){c[0]?u&&(u.d(1),u=null):u||(u=$s(),u.c(),u.m(e,s))},d(c){c&&w(e),u&&u.d(),a=!1,l()}}}function $s(t){let e;return{c(){e=$("p"),e.innerHTML=`<b>Warning</b>: Changing configuration of an existing app will change
          the password. Consider computing and copying current password
          before making a change.`,b(e,"class","mt-2 text-red-600")},m(n,r){A(n,e,r)},d(n){n&&w(e)}}}function Os(t){let e,n,r,s;function i(l,u){return l[8]===l[4].Initial?bu:gu}let o=i(t),a=o(t);return{c(){e=$("button"),a.c(),b(e,"type","button"),b(e,"class","px-4 py-2 last:rounded-r bg-red-500 hover:bg-red-600 text-white disabled:bg-red-400"),e.disabled=n=t[8]===t[4].Safety},m(l,u){A(l,e,u),a.m(e,null),r||(s=We(e,"click",Qe(t[19])),r=!0)},p(l,u){o!==(o=i(l))&&(a.d(1),a=o(l),a&&(a.c(),a.m(e,null))),u[0]&272&&n!==(n=l[8]===l[4].Safety)&&(e.disabled=n)},d(l){l&&w(e),a.d(),r=!1,s()}}}function gu(t){let e;return{c(){e=F("Confirm Deletion")},m(n,r){A(n,e,r)},d(n){n&&w(e)}}}function bu(t){let e;return{c(){e=F("Delete")},m(n,r){A(n,e,r)},d(n){n&&w(e)}}}function vu(t){let e,n,r,s,i,o,a,l,u,c,f,d,p,m,h,x,C,O,R,y,E,_,D,N,ee,Ee,W,Ae,je,ye,Re,he,fe,Le,I,B,H,_e,le,be,de,Fe,Me,Te,$e,Ue,Be;function xe(T,te){return T[0]?pu:fu}let M=xe(t),k=M(t);const Z=[yu,_u,hu,mu],V=[];function ve(T,te){return T[7]===T[3].Initial?0:T[7]===T[3].Computing?1:T[7]===T[3].Computed?2:3}s=ve(t),i=V[s]=Z[s](t);let ge=t[1]&&(!t[9]||!t[10])&&Ts(t);function Ne(T){t[25](T)}let we={name:"domain",label:"Domain name",placeholder:"fosstodon.org",hint:"Examples: bookwyrm.social, proton.me, etc"};t[2].domain!==void 0&&(we.value=t[2].domain),h=new ut({props:we}),Ot.push(()=>an(h,"value",Ne)),h.$on("input",t[26]),h.$on("change",t[27]),h.$on("focus",t[28]),h.$on("blur",t[29]),O=new ut({props:{name:"login",type:"email",label:"Username",placeholder:"my@email.com",hint:"Examples: my_user_name, derivepass82"}}),O.$on("input",t[30]),O.$on("change",t[31]),O.$on("focus",t[32]),O.$on("blur",t[33]),y=new ut({props:{name:"revision",type:"number",label:"Revision",hint:"Increment this by one to change the password"}}),y.$on("input",t[34]),y.$on("change",t[35]),y.$on("focus",t[36]),y.$on("blur",t[37]);function pe(T){t[38](T)}let Ie={name:"allowedChars",label:"Allowed characters",hint:"Characters that can be present in the password"};t[2].allowedChars!==void 0&&(Ie.value=t[2].allowedChars),W=new ut({props:Ie}),Ot.push(()=>an(W,"value",pe)),W.$on("input",t[39]),W.$on("change",t[40]),W.$on("focus",t[41]),W.$on("blur",t[42]);function Ze(T){t[43](T)}let Oe={name:"requiredChars",label:"Required characters",hint:"Characters that must be present in the password"};t[2].requiredChars!==void 0&&(Oe.value=t[2].requiredChars),ye=new ut({props:Oe}),Ot.push(()=>an(ye,"value",Ze)),ye.$on("input",t[44]),ye.$on("change",t[45]),ye.$on("focus",t[46]),ye.$on("blur",t[47]);function gt(T){t[48](T)}let g={name:"passwordLen",type:"number",label:"Password length"};t[2].passwordLen!==void 0&&(g.value=t[2].passwordLen),fe=new ut({props:g}),Ot.push(()=>an(fe,"value",gt)),fe.$on("input",t[49]),fe.$on("change",t[50]),fe.$on("focus",t[51]),fe.$on("blur",t[52]);let Y=!t[0]&&Os(t);return{c(){k.c(),e=U(),n=$("section"),r=$("button"),i.c(),a=U(),l=$("button"),l.textContent="Edit",u=U(),c=$("button"),f=F("Back"),d=U(),p=$("form"),ge&&ge.c(),m=U(),ue(h.$$.fragment),C=U(),ue(O.$$.fragment),R=U(),ue(y.$$.fragment),E=U(),_=$("button"),_.textContent="Extra",D=U(),N=$("section"),ee=$("p"),ee.textContent="Most applications don't require editing options below.",Ee=U(),ue(W.$$.fragment),je=U(),ue(ye.$$.fragment),he=U(),ue(fe.$$.fragment),I=U(),B=$("section"),H=$("button"),_e=F("Save"),be=U(),de=$("button"),Fe=F("Reset"),Te=U(),Y&&Y.c(),r.disabled=o=!t[12]||t[7]===t[3].Computing,b(r,"class","px-4 py-2 rounded bg-blue-600 hover:bg-blue-700 active:bg-blue-800 text-white disabled:bg-blue-400"),b(l,"class","text-blue-600 hover:text-blue-700 hover:underline"),b(c,"class","text-blue-600 hover:text-blue-700 hover:enabled:underline disabled:text-gray-400"),c.disabled=t[11],b(n,"class","mt-2 mb-4 flex gap-4 content-center"),b(_,"type","button"),b(_,"class","my-2 px-4 py-2 rounded border border-red-500 hover:border-red-600 text-red-500 hover:text-red-600"),b(ee,"class","text-red-500 my-2"),b(N,"class","my-2"),Cn(N,"hidden",!t[6]),b(H,"type","submit"),H.disabled=le=t[12]&&!t[11],b(H,"class","px-4 py-2 rounded-l bg-blue-600 hover:bg-blue-700 active:bg-blue-800 text-white disabled:bg-blue-400"),b(de,"type","reset"),de.disabled=Me=!t[11],b(de,"class","px-4 py-2 last:rounded-r bg-gray-500 hover:bg-gray-600 text-white disabled:bg-gray-400"),b(B,"class","flex my-2"),Cn(p,"hidden",!t[5])},m(T,te){k.m(T,te),A(T,e,te),A(T,n,te),v(n,r),V[s].m(r,null),v(n,a),v(n,l),v(n,u),v(n,c),v(c,f),A(T,d,te),A(T,p,te),ge&&ge.m(p,null),v(p,m),oe(h,p,null),v(p,C),oe(O,p,null),v(p,R),oe(y,p,null),v(p,E),v(p,_),v(p,D),v(p,N),v(N,ee),v(N,Ee),oe(W,N,null),v(N,je),oe(ye,N,null),v(N,he),oe(fe,N,null),v(p,I),v(p,B),v(B,H),v(H,_e),v(B,be),v(B,de),v(de,Fe),v(B,Te),Y&&Y.m(B,null),$e=!0,Ue||(Be=[We(r,"click",Qe(t[13])),We(l,"click",Qe(t[20])),We(c,"click",Qe(t[21])),We(_,"click",Qe(t[22])),We(de,"click",Qe(t[16])),Kt(t[14].call(null,p))],Ue=!0)},p(T,te){M===(M=xe(T))&&k?k.p(T,te):(k.d(1),k=M(T),k&&(k.c(),k.m(e.parentNode,e)));let Pe=s;s=ve(T),s!==Pe&&(tt(),q(V[Pe],1,1,()=>{V[Pe]=null}),nt(),i=V[s],i||(i=V[s]=Z[s](T),i.c()),P(i,1),i.m(r,null)),(!$e||te[0]&4232&&o!==(o=!T[12]||T[7]===T[3].Computing))&&(r.disabled=o),(!$e||te[0]&2048)&&(c.disabled=T[11]),T[1]&&(!T[9]||!T[10])?ge?ge.p(T,te):(ge=Ts(T),ge.c(),ge.m(p,m)):ge&&(ge.d(1),ge=null);const S={};!x&&te[0]&4&&(x=!0,S.value=T[2].domain,on(()=>x=!1)),h.$set(S);const J={};!Ae&&te[0]&4&&(Ae=!0,J.value=T[2].allowedChars,on(()=>Ae=!1)),W.$set(J);const Xe={};!Re&&te[0]&4&&(Re=!0,Xe.value=T[2].requiredChars,on(()=>Re=!1)),ye.$set(Xe);const rt={};!Le&&te[0]&4&&(Le=!0,rt.value=T[2].passwordLen,on(()=>Le=!1)),fe.$set(rt),(!$e||te[0]&64)&&Cn(N,"hidden",!T[6]),(!$e||te[0]&6144&&le!==(le=T[12]&&!T[11]))&&(H.disabled=le),(!$e||te[0]&2048&&Me!==(Me=!T[11]))&&(de.disabled=Me),T[0]?Y&&(Y.d(1),Y=null):Y?Y.p(T,te):(Y=Os(T),Y.c(),Y.m(B,null)),(!$e||te[0]&32)&&Cn(p,"hidden",!T[5])},i(T){$e||(P(i),P(h.$$.fragment,T),P(O.$$.fragment,T),P(y.$$.fragment,T),P(W.$$.fragment,T),P(ye.$$.fragment,T),P(fe.$$.fragment,T),$e=!0)},o(T){q(i),q(h.$$.fragment,T),q(O.$$.fragment,T),q(y.$$.fragment,T),q(W.$$.fragment,T),q(ye.$$.fragment,T),q(fe.$$.fragment,T),$e=!1},d(T){k.d(T),T&&w(e),T&&w(n),V[s].d(),T&&w(d),T&&w(p),ge&&ge.d(),ae(h),ae(O),ae(y),ae(W),ae(ye),ae(fe),Y&&Y.d(),Ue=!1,it(Be)}}}function wu(t,e,n){let r,s,i,o,a,l,u;st(t,lt,g=>n(56,l=g));let{app:c}=e,{isNew:f}=e;var d;(function(g){g[g.Initial=0]="Initial",g[g.Computing=1]="Computing",g[g.Computed=2]="Computed",g[g.Copied=3]="Copied"})(d||(d={}));var p;(function(g){g[g.Initial=0]="Initial",g[g.Safety=1]="Safety",g[g.Confirming=2]="Confirming"})(p||(p={}));let m=f,h=!1,x,C=d.Initial,O=p.Initial,R,y;Zr(()=>{R!==void 0&&(clearTimeout(R),R=void 0),y!==void 0&&(clearTimeout(y),y=void 0)});async function E(){const g=l;if(g===void 0){mn("/");return}if(C===d.Initial){n(7,C=d.Computing),x=await na(g,{...c,...o}),n(7,C=d.Computed);return}navigator.clipboard.writeText(x!=null?x:""),R!==void 0&&clearTimeout(R),n(7,C=d.Copied),R=setTimeout(()=>{R=void 0,n(7,C=d.Computed)},5*kr)}const _=Us(),{form:D,data:N,reset:ee,setInitialValues:Ee,isDirty:W,isValid:Ae}=fi({initialValues:c,onSubmit(g){Ee(g),dn(W,a=!1,a),_("submit",g)},extend:[du({schema:dr}),Fo]});st(t,N,g=>n(2,o=g)),st(t,W,g=>n(11,a=g)),st(t,Ae,g=>n(12,u=g));function je(){if(O===p.Initial)n(8,O=p.Safety),y=setTimeout(()=>{y=void 0,n(8,O=p.Confirming)},5*kr);else{if(O===p.Safety)return;O===p.Confirming&&(_("delete"),n(8,O=p.Initial))}}function ye(){n(5,m=!m)}function Re(){Bt("/applications")}function he(){n(6,h=!h)}function fe(){!r||dn(N,o={...o,domain:r.domain,...r.options},o)}function Le(g){t.$$.not_equal(o.domain,g)&&(o.domain=g,N.set(o))}function I(g){ne.call(this,t,g)}function B(g){ne.call(this,t,g)}function H(g){ne.call(this,t,g)}function _e(g){ne.call(this,t,g)}function le(g){ne.call(this,t,g)}function be(g){ne.call(this,t,g)}function de(g){ne.call(this,t,g)}function Fe(g){ne.call(this,t,g)}function Me(g){ne.call(this,t,g)}function Te(g){ne.call(this,t,g)}function $e(g){ne.call(this,t,g)}function Ue(g){ne.call(this,t,g)}function Be(g){t.$$.not_equal(o.allowedChars,g)&&(o.allowedChars=g,N.set(o))}function xe(g){ne.call(this,t,g)}function M(g){ne.call(this,t,g)}function k(g){ne.call(this,t,g)}function Z(g){ne.call(this,t,g)}function V(g){t.$$.not_equal(o.requiredChars,g)&&(o.requiredChars=g,N.set(o))}function ve(g){ne.call(this,t,g)}function ge(g){ne.call(this,t,g)}function Ne(g){ne.call(this,t,g)}function we(g){ne.call(this,t,g)}function pe(g){t.$$.not_equal(o.passwordLen,g)&&(o.passwordLen=g,N.set(o))}function Ie(g){ne.call(this,t,g)}function Ze(g){ne.call(this,t,g)}function Oe(g){ne.call(this,t,g)}function gt(g){ne.call(this,t,g)}return t.$$set=g=>{"app"in g&&n(24,c=g.app),"isNew"in g&&n(0,f=g.isNew)},t.$$.update=()=>{t.$$.dirty[0]&4&&n(1,r=Si.get(o.domain)),t.$$.dirty[0]&6&&n(10,s=!r||o.domain===r.domain),t.$$.dirty[0]&6&&n(9,i=eu(o,r==null?void 0:r.options))},[f,r,o,d,p,m,h,C,O,i,s,a,u,E,D,N,ee,W,Ae,je,ye,Re,he,fe,c,Le,I,B,H,_e,le,be,de,Fe,Me,Te,$e,Ue,Be,xe,M,k,Z,V,ve,ge,Ne,we,pe,Ie,Ze,Oe,gt]}class ku extends Ke{constructor(e){super(),Ye(this,e,wu,vu,ze,{app:24,isNew:0},null,[-1,-1])}}function Au(t){let e=t[6]()+"",n;return{c(){n=F(e)},m(r,s){A(r,n,s)},p:X,i:X,o:X,d(r){r&&w(n)}}}function Cu(t){let e,n;return e=new ku({props:{isNew:t[1],app:t[0]}}),e.$on("submit",t[2]),e.$on("delete",t[3]),{c(){ue(e.$$.fragment)},m(r,s){oe(e,r,s),n=!0},p(r,s){const i={};s&2&&(i.isNew=r[1]),s&1&&(i.app=r[0]),e.$set(i)},i(r){n||(P(e.$$.fragment,r),n=!0)},o(r){q(e.$$.fragment,r),n=!1},d(r){ae(e,r)}}}function Eu(t){let e,n,r,s;const i=[Cu,Au],o=[];function a(l,u){return l[0]?0:1}return e=a(t),n=o[e]=i[e](t),{c(){n.c(),r=jt()},m(l,u){o[e].m(l,u),A(l,r,u),s=!0},p(l,[u]){let c=e;e=a(l),e===c?o[e].p(l,u):(tt(),q(o[c],1,1,()=>{o[c]=null}),nt(),n=o[e],n?n.p(l,u):(n=o[e]=i[e](l),n.c()),P(n,1),n.m(r.parentNode,r))},i(l){s||(P(n),s=!0)},o(l){q(n),s=!1},d(l){o[e].d(l),l&&w(r)}}}function Su(t,e,n){let r,s,i,o;st(t,lt,f=>n(7,i=f)),st(t,cn,f=>n(5,o=f));let{params:a}=e;function l({detail:f}){const d=i;if(d===void 0){Bt("/login");return}cn.save(d,f),r&&Bt(`/applications/${f.id}`)}function u(){s&&cn.deleteById(s.id),Bt("/applications")}const c=()=>mn("/applications");return t.$$set=f=>{"params"in f&&n(4,a=f.params)},t.$$.update=()=>{t.$$.dirty&16&&n(1,r=a.id==="new"),t.$$.dirty&50&&n(0,s=r?cn.getTemplate():o.find(f=>f.id===a.id))},[s,r,l,u,a,o,c]}class xu extends Ke{constructor(e){super(),Ye(this,e,Su,Eu,ze,{params:4})}}const Mn=[];let xi;function Ti(t){const e=t.pattern.test(xi);Ns(t,t.className,e),Ns(t,t.inactiveClassName,!e)}function Ns(t,e,n){(e||"").split(" ").forEach(r=>{!r||(t.node.classList.remove(r),n&&t.node.classList.add(r))})}or.subscribe(t=>{xi=t.location+(t.querystring?"?"+t.querystring:""),Mn.map(Ti)});function Tu(t,e){if(e&&(typeof e=="string"||typeof e=="object"&&e instanceof RegExp)?e={path:e}:e=e||{},!e.path&&t.hasAttribute("href")&&(e.path=t.getAttribute("href"),e.path&&e.path.length>1&&e.path.charAt(0)=="#"&&(e.path=e.path.substring(1))),e.className||(e.className="active"),!e.path||typeof e.path=="string"&&(e.path.length<1||e.path.charAt(0)!="/"&&e.path.charAt(0)!="*"))throw Error('Invalid value for "path" argument');const{pattern:n}=typeof e.path=="string"?Js(e.path):{pattern:e.path},r={node:t,className:e.className,inactiveClassName:e.inactiveClassName,pattern:n};return Mn.push(r),Ti(r),{destroy(){Mn.splice(Mn.indexOf(r),1)}}}function $u(t){let e,n,r,s;const i=t[2].default,o=tr(i,t,t[1],null);return{c(){e=$("a"),o&&o.c(),b(e,"href",t[0]),b(e,"class","text-zinc-500 hover:text-black")},m(a,l){A(a,e,l),o&&o.m(e,null),n=!0,r||(s=[Kt(Fr.call(null,e)),Kt(Tu.call(null,e,{className:"text-black"}))],r=!0)},p(a,[l]){o&&o.p&&(!n||l&2)&&rr(o,i,a,a[1],n?nr(i,a[1],l,null):sr(a[1]),null),(!n||l&1)&&b(e,"href",a[0])},i(a){n||(P(o,a),n=!0)},o(a){q(o,a),n=!1},d(a){a&&w(e),o&&o.d(a),r=!1,it(s)}}}function Ou(t,e,n){let{$$slots:r={},$$scope:s}=e,{href:i}=e;return t.$$set=o=>{"href"in o&&n(0,i=o.href),"$$scope"in o&&n(1,s=o.$$scope)},[i,s,r]}class Yt extends Ke{constructor(e){super(),Ye(this,e,Ou,$u,ze,{href:0})}}function Is(t){let e,n,r,s,i,o,a,l,u;return{c(){e=$("header"),n=F(`New version is available:
  `),r=$("button"),r.textContent="Reload",s=U(),i=$("button"),i.textContent="Skip",b(r,"type","submit"),b(r,"class","px-4 py-2 rounded bg-blue-600 hover:bg-blue-700 active:bg-blue-800 text-white"),b(i,"type","reset"),b(i,"class","px-4 py-2 rounded text-yellow-400 hover:text-yellow-500 hover:underline"),b(e,"class","bg-white px-4 py-2 flex items-center gap-4 border-b")},m(c,f){A(c,e,f),v(e,n),v(e,r),v(e,s),v(e,i),a=!0,l||(u=[We(r,"click",Qe(t[6])),We(i,"click",Qe(t[7]))],l=!0)},p:X,i(c){a||(pn(()=>{o||(o=Qr(e,es,{},!0)),o.run(1)}),a=!0)},o(c){o||(o=Qr(e,es,{},!1)),o.run(0),a=!1},d(c){c&&w(e),c&&o&&o.end(),l=!1,it(u)}}}function Nu(t){let e,n;return{c(){e=$("img"),Ls(e.src,n=ti)||b(e,"src",n),b(e,"width","32"),b(e,"height","32"),b(e,"alt","Logotype")},m(r,s){A(r,e,s)},p:X,d(r){r&&w(e)}}}function Iu(t){let e,n;return e=new Yt({props:{href:"/applications",$$slots:{default:[Ru]},$$scope:{ctx:t}}}),{c(){ue(e.$$.fragment)},m(r,s){oe(e,r,s),n=!0},i(r){n||(P(e.$$.fragment,r),n=!0)},o(r){q(e.$$.fragment,r),n=!1},d(r){ae(e,r)}}}function ju(t){let e,n;return e=new Yt({props:{href:"/login",$$slots:{default:[Lu]},$$scope:{ctx:t}}}),{c(){ue(e.$$.fragment)},m(r,s){oe(e,r,s),n=!0},i(r){n||(P(e.$$.fragment,r),n=!0)},o(r){q(e.$$.fragment,r),n=!1},d(r){ae(e,r)}}}function Ru(t){let e;return{c(){e=F("Applications")},m(n,r){A(n,e,r)},d(n){n&&w(e)}}}function Lu(t){let e;return{c(){e=F("Master Password")},m(n,r){A(n,e,r)},d(n){n&&w(e)}}}function Mu(t){let e;return{c(){e=F("Sync")},m(n,r){A(n,e,r)},d(n){n&&w(e)}}}function Zu(t){let e;return{c(){e=F("About")},m(n,r){A(n,e,r)},d(n){n&&w(e)}}}function js(t){let e,n;return e=new Yt({props:{href:"/logout",$$slots:{default:[Pu]},$$scope:{ctx:t}}}),{c(){ue(e.$$.fragment)},m(r,s){oe(e,r,s),n=!0},i(r){n||(P(e.$$.fragment,r),n=!0)},o(r){q(e.$$.fragment,r),n=!1},d(r){ae(e,r)}}}function Pu(t){let e;return{c(){e=F("Logout")},m(n,r){A(n,e,r)},d(n){n&&w(e)}}}function Du(t){let e,n,r=t[10].message+"",s;return{c(){e=$("b"),n=F("Failed to initalize cryptography: "),s=F(r),b(e,"class","text-red-500")},m(i,o){A(i,e,o),v(e,n),v(e,s)},p:X,i:X,o:X,d(i){i&&w(e)}}}function Fu(t){let e,n;return e=new oo({props:{routes:t[4]}}),e.$on("conditionsFailed",t[5]),{c(){ue(e.$$.fragment)},m(r,s){oe(e,r,s),n=!0},p:X,i(r){n||(P(e.$$.fragment,r),n=!0)},o(r){q(e.$$.fragment,r),n=!1},d(r){ae(e,r)}}}function qu(t){return{c:X,m:X,p:X,i:X,o:X,d:X}}function Uu(t){let e,n,r,s,i,o,a,l,u,c,f,d,p,m,h=t[1]&&Is(t);r=new Yt({props:{href:"/",$$slots:{default:[Nu]},$$scope:{ctx:t}}});const x=[ju,Iu],C=[];function O(E,_){return E[0]===void 0?0:1}i=O(t),o=C[i]=x[i](t),l=new Yt({props:{href:"/sync",$$slots:{default:[Mu]},$$scope:{ctx:t}}}),c=new Yt({props:{href:"/about",$$slots:{default:[Zu]},$$scope:{ctx:t}}});let R=t[0]!==void 0&&js(t),y={ctx:t,current:null,token:null,hasCatch:!0,pending:qu,then:Fu,catch:Du,error:10,blocks:[,,,]};return Ji(bo,y),{c(){h&&h.c(),e=U(),n=$("nav"),ue(r.$$.fragment),s=U(),o.c(),a=U(),ue(l.$$.fragment),u=U(),ue(c.$$.fragment),f=U(),R&&R.c(),d=U(),p=$("div"),y.block.c(),b(n,"class","flex gap-4 items-center p-4"),b(p,"class","container mx-auto max-w-screen-md p-4")},m(E,_){h&&h.m(E,_),A(E,e,_),A(E,n,_),oe(r,n,null),v(n,s),C[i].m(n,null),v(n,a),oe(l,n,null),v(n,u),oe(c,n,null),v(n,f),R&&R.m(n,null),A(E,d,_),A(E,p,_),y.block.m(p,y.anchor=null),y.mount=()=>p,y.anchor=null,m=!0},p(E,[_]){t=E,t[1]?h?(h.p(t,_),_&2&&P(h,1)):(h=Is(t),h.c(),P(h,1),h.m(e.parentNode,e)):h&&(tt(),q(h,1,1,()=>{h=null}),nt());const D={};_&2048&&(D.$$scope={dirty:_,ctx:t}),r.$set(D);let N=i;i=O(t),i!==N&&(tt(),q(C[N],1,1,()=>{C[N]=null}),nt(),o=C[i],o||(o=C[i]=x[i](t),o.c()),P(o,1),o.m(n,a));const ee={};_&2048&&(ee.$$scope={dirty:_,ctx:t}),l.$set(ee);const Ee={};_&2048&&(Ee.$$scope={dirty:_,ctx:t}),c.$set(Ee),t[0]!==void 0?R?_&1&&P(R,1):(R=js(t),R.c(),P(R,1),R.m(n,null)):R&&(tt(),q(R,1,1,()=>{R=null}),nt()),Yi(y,t,_)},i(E){m||(P(h),P(r.$$.fragment,E),P(o),P(l.$$.fragment,E),P(c.$$.fragment,E),P(R),P(y.block),m=!0)},o(E){q(h),q(r.$$.fragment,E),q(o),q(l.$$.fragment,E),q(c.$$.fragment,E),q(R);for(let _=0;_<3;_+=1){const D=y.blocks[_];q(D)}m=!1},d(E){h&&h.d(E),E&&w(e),E&&w(n),ae(r),C[i].d(),ae(l),ae(c),R&&R.d(),E&&w(d),E&&w(p),y.block.d(),y.token=null,y=null}}}function Wu(t,e,n){let r,s;st(t,lt,p=>n(0,r=p));const{needRefresh:i,updateServiceWorker:o}=fo({onRegistered(p){!p||setInterval(()=>p.update(),Qs)}});st(t,i,p=>n(1,s=p));const a=()=>r!==void 0,u={"/":_r,"/about":_r,"/sync":Hl,"/login":hr({component:la,conditions:[()=>r===void 0]}),"/applications":hr({component:uu,conditions:[a]}),"/applications/:id":hr({component:xu,conditions:[a]}),"/logout":ca,"/*":_r};function c(){mn(r===void 0?"/login":"/applications")}return[r,s,i,o,u,c,()=>o(),()=>dn(i,s=!1,s)]}class zu extends Ke{constructor(e){super(),Ye(this,e,Wu,Uu,ze,{})}}const $i=document.getElementById("app");if(!$i)throw new Error("#app not found");new zu({target:$i});
//# sourceMappingURL=index.600fe710.js.map
