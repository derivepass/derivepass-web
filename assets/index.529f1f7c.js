(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerpolicy&&(i.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?i.credentials="include":s.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function X(){}function Nr(t,e){for(const n in e)t[n]=e[n];return t}function mi(t){return t&&typeof t=="object"&&typeof t.then=="function"}function ws(t){return t()}function zr(){return Object.create(null)}function mt(t){t.forEach(ws)}function Hn(t){return typeof t=="function"}function Re(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}let pn;function ks(t,e){return pn||(pn=document.createElement("a")),pn.href=e,t===pn.href}function hi(t){return Object.keys(t).length===0}function $r(t,...e){if(t==null)return X;const n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function nt(t,e,n){t.$$.on_destroy.push($r(e,n))}function Yn(t,e,n,r){if(t){const s=As(t,e,n,r);return t[0](s)}}function As(t,e,n,r){return t[1]&&r?Nr(n.ctx.slice(),t[1](r(e))):n.ctx}function Vn(t,e,n,r){if(t[2]&&r){const s=t[2](r(n));if(e.dirty===void 0)return s;if(typeof s=="object"){const i=[],o=Math.max(e.dirty.length,s.length);for(let a=0;a<o;a+=1)i[a]=e.dirty[a]|s[a];return i}return e.dirty|s}return e.dirty}function Jn(t,e,n,r,s,i){if(s){const o=As(e,n,r,i);t.p(o,s)}}function Kn(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let r=0;r<n;r++)e[r]=-1;return e}return-1}function yi(t){const e={};for(const n in t)e[n]=!0;return e}function Ir(t,e,n){return t.set(n),e}function Ht(t){return t&&Hn(t.destroy)?t.destroy:X}function E(t,e){t.appendChild(e)}function C(t,e,n){t.insertBefore(e,n||null)}function w(t){t.parentNode&&t.parentNode.removeChild(t)}function N(t){return document.createElement(t)}function Wr(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function q(t){return document.createTextNode(t)}function F(){return q(" ")}function Tt(){return q("")}function Je(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function tt(t){return function(e){return e.preventDefault(),t.call(this,e)}}function b(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function _i(t){return Array.from(t.childNodes)}function st(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function Br(t,e){t.value=e==null?"":e}function Cs(t,e,n,r){n===null?t.style.removeProperty(e):t.style.setProperty(e,n,r?"important":"")}function mn(t,e,n){t.classList[n?"add":"remove"](e)}function gi(t,e,{bubbles:n=!1,cancelable:r=!1}={}){const s=document.createEvent("CustomEvent");return s.initCustomEvent(t,n,r,e),s}function On(t,e){return new t(e)}let rn;function yt(t){rn=t}function dn(){if(!rn)throw new Error("Function called outside component initialization");return rn}function bi(t){dn().$$.on_mount.push(t)}function vi(t){dn().$$.after_update.push(t)}function jr(t){dn().$$.on_destroy.push(t)}function Es(){const t=dn();return(e,n,{cancelable:r=!1}={})=>{const s=t.$$.callbacks[e];if(s){const i=gi(e,n,{cancelable:r});return s.slice().forEach(o=>{o.call(t,i)}),!i.defaultPrevented}return!0}}function ee(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach(r=>r.call(this,e))}const Qt=[],Nn=[],An=[],pr=[],Ss=Promise.resolve();let mr=!1;function xs(){mr||(mr=!0,Ss.then(Lr))}function Mr(){return xs(),Ss}function hr(t){An.push(t)}function wi(t){pr.push(t)}const ar=new Set;let hn=0;function Lr(){const t=rn;do{for(;hn<Qt.length;){const e=Qt[hn];hn++,yt(e),ki(e.$$)}for(yt(null),Qt.length=0,hn=0;Nn.length;)Nn.pop()();for(let e=0;e<An.length;e+=1){const n=An[e];ar.has(n)||(ar.add(n),n())}An.length=0}while(Qt.length);for(;pr.length;)pr.pop()();mr=!1,ar.clear(),yt(t)}function ki(t){if(t.fragment!==null){t.update(),mt(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(hr)}}const Cn=new Set;let It;function Ke(){It={r:0,c:[],p:It}}function Xe(){It.r||mt(It.c),It=It.p}function L(t,e){t&&t.i&&(Cn.delete(t),t.i(e))}function P(t,e,n,r){if(t&&t.o){if(Cn.has(t))return;Cn.add(t),It.c.push(()=>{Cn.delete(t),r&&(n&&t.d(1),r())}),t.o(e)}else r&&r()}function Ai(t,e){const n=e.token={};function r(s,i,o,a){if(e.token!==n)return;e.resolved=a;let l=e.ctx;o!==void 0&&(l=l.slice(),l[o]=a);const c=s&&(e.current=s)(l);let u=!1;e.block&&(e.blocks?e.blocks.forEach((f,d)=>{d!==i&&f&&(Ke(),P(f,1,1,()=>{e.blocks[d]===f&&(e.blocks[d]=null)}),Xe())}):e.block.d(1),c.c(),L(c,1),c.m(e.mount(),e.anchor),u=!0),e.block=c,e.blocks&&(e.blocks[i]=c),u&&Lr()}if(mi(t)){const s=dn();if(t.then(i=>{yt(s),r(e.then,1,e.value,i),yt(null)},i=>{if(yt(s),r(e.catch,2,e.error,i),yt(null),!e.hasCatch)throw i}),e.current!==e.pending)return r(e.pending,0),!0}else{if(e.current!==e.then)return r(e.then,1,e.value,t),!0;e.resolved=t}}function Ci(t,e,n){const r=e.slice(),{resolved:s}=t;t.current===t.then&&(r[t.value]=s),t.current===t.catch&&(r[t.error]=s),t.block.p(r,n)}function Ei(t,e){P(t,1,1,()=>{e.delete(t.key)})}function Si(t,e,n,r,s,i,o,a,l,c,u,f){let d=t.length,m=i.length,p=d;const y={};for(;p--;)y[t[p].key]=p;const v=[],g=new Map,I=new Map;for(p=m;p--;){const k=f(s,i,p),D=n(k);let Z=o.get(D);Z?r&&Z.p(k,e):(Z=c(D,k),Z.c()),g.set(D,v[p]=Z),D in y&&I.set(D,Math.abs(p-y[D]))}const R=new Set,_=new Set;function j(k){L(k,1),k.m(a,u),o.set(k.key,k),u=k.first,m--}for(;d&&m;){const k=v[m-1],D=t[d-1],Z=k.key,J=D.key;k===D?(u=k.first,d--,m--):g.has(J)?!o.has(Z)||R.has(Z)?j(k):_.has(J)?d--:I.get(Z)>I.get(J)?(_.add(Z),j(k)):(R.add(J),d--):(l(D,o),d--)}for(;d--;){const k=t[d];g.has(k.key)||l(k,o)}for(;m;)j(v[m-1]);return v}function Ts(t,e){const n={},r={},s={$$scope:1};let i=t.length;for(;i--;){const o=t[i],a=e[i];if(a){for(const l in o)l in a||(r[l]=1);for(const l in a)s[l]||(n[l]=a[l],s[l]=1);t[i]=a}else for(const l in o)s[l]=1}for(const o in r)o in n||(n[o]=void 0);return n}function Os(t){return typeof t=="object"&&t!==null?t:{}}function xi(t,e,n){const r=t.$$.props[e];r!==void 0&&(t.$$.bound[r]=n,n(t.$$.ctx[r]))}function ue(t){t&&t.c()}function oe(t,e,n,r){const{fragment:s,after_update:i}=t.$$;s&&s.m(e,n),r||hr(()=>{const o=t.$$.on_mount.map(ws).filter(Hn);t.$$.on_destroy?t.$$.on_destroy.push(...o):mt(o),t.$$.on_mount=[]}),i.forEach(hr)}function ae(t,e){const n=t.$$;n.fragment!==null&&(mt(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function Ti(t,e){t.$$.dirty[0]===-1&&(Qt.push(t),xs(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function ze(t,e,n,r,s,i,o,a=[-1]){const l=rn;yt(t);const c=t.$$={fragment:null,ctx:[],props:i,update:X,not_equal:s,bound:zr(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(l?l.$$.context:[])),callbacks:zr(),dirty:a,skip_bound:!1,root:e.target||l.$$.root};o&&o(c.root);let u=!1;if(c.ctx=n?n(t,e.props||{},(f,d,...m)=>{const p=m.length?m[0]:d;return c.ctx&&s(c.ctx[f],c.ctx[f]=p)&&(!c.skip_bound&&c.bound[f]&&c.bound[f](p),u&&Ti(t,f)),d}):[],c.update(),u=!0,mt(c.before_update),c.fragment=r?r(c.ctx):!1,e.target){if(e.hydrate){const f=_i(e.target);c.fragment&&c.fragment.l(f),f.forEach(w)}else c.fragment&&c.fragment.c();e.intro&&L(t.$$.fragment),oe(t,e.target,e.anchor,e.customElement),Lr()}yt(l)}class We{$destroy(){ae(this,1),this.$destroy=X}$on(e,n){if(!Hn(n))return X;const r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(n),()=>{const s=r.indexOf(n);s!==-1&&r.splice(s,1)}}$set(e){this.$$set&&!hi(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}function lr(t){if(!t)throw Error("Parameter args is required");if(!t.component==!t.asyncComponent)throw Error("One and only one of component and asyncComponent is required");if(t.component&&(t.asyncComponent=()=>Promise.resolve(t.component)),typeof t.asyncComponent!="function")throw Error("Parameter asyncComponent must be a function");if(t.conditions){Array.isArray(t.conditions)||(t.conditions=[t.conditions]);for(let n=0;n<t.conditions.length;n++)if(!t.conditions[n]||typeof t.conditions[n]!="function")throw Error("Invalid parameter conditions["+n+"]")}return t.loadingComponent&&(t.asyncComponent.loading=t.loadingComponent,t.asyncComponent.loadingParams=t.loadingParams||void 0),{component:t.asyncComponent,userData:t.userData,conditions:t.conditions&&t.conditions.length?t.conditions:void 0,props:t.props&&Object.keys(t.props).length?t.props:{},_sveltesparouter:!0}}const Pt=[];function Ns(t,e){return{subscribe:vt(t,e).subscribe}}function vt(t,e=X){let n;const r=new Set;function s(a){if(Re(t,a)&&(t=a,n)){const l=!Pt.length;for(const c of r)c[1](),Pt.push(c,t);if(l){for(let c=0;c<Pt.length;c+=2)Pt[c][0](Pt[c+1]);Pt.length=0}}}function i(a){s(a(t))}function o(a,l=X){const c=[a,l];return r.add(c),r.size===1&&(n=e(s)||X),a(t),()=>{r.delete(c),r.size===0&&(n(),n=null)}}return{set:s,update:i,subscribe:o}}function Xn(t,e,n){const r=!Array.isArray(t),s=r?[t]:t,i=e.length<2;return Ns(n,o=>{let a=!1;const l=[];let c=0,u=X;const f=()=>{if(c)return;u();const m=e(r?l[0]:l,o);i?o(m):u=Hn(m)?m:X},d=s.map((m,p)=>$r(m,y=>{l[p]=y,c&=~(1<<p),a&&f()},()=>{c|=1<<p}));return a=!0,f(),function(){mt(d),u()}})}function $s(t,e){if(t instanceof RegExp)return{keys:!1,pattern:t};var n,r,s,i,o=[],a="",l=t.split("/");for(l[0]||l.shift();s=l.shift();)n=s[0],n==="*"?(o.push("wild"),a+="/(.*)"):n===":"?(r=s.indexOf("?",1),i=s.indexOf(".",1),o.push(s.substring(1,~r?r:~i?i:s.length)),a+=!!~r&&!~i?"(?:/([^/]+?))?":"/([^/]+?)",~i&&(a+=(~r?"?":"")+"\\"+s.substring(i))):a+="/"+s;return{keys:o,pattern:new RegExp("^"+a+(e?"(?=$|/)":"/?$"),"i")}}function Oi(t){let e,n,r;const s=[t[2]];var i=t[0];function o(a){let l={};for(let c=0;c<s.length;c+=1)l=Nr(l,s[c]);return{props:l}}return i&&(e=On(i,o()),e.$on("routeEvent",t[7])),{c(){e&&ue(e.$$.fragment),n=Tt()},m(a,l){e&&oe(e,a,l),C(a,n,l),r=!0},p(a,l){const c=l&4?Ts(s,[Os(a[2])]):{};if(i!==(i=a[0])){if(e){Ke();const u=e;P(u.$$.fragment,1,0,()=>{ae(u,1)}),Xe()}i?(e=On(i,o()),e.$on("routeEvent",a[7]),ue(e.$$.fragment),L(e.$$.fragment,1),oe(e,n.parentNode,n)):e=null}else i&&e.$set(c)},i(a){r||(e&&L(e.$$.fragment,a),r=!0)},o(a){e&&P(e.$$.fragment,a),r=!1},d(a){a&&w(n),e&&ae(e,a)}}}function Ni(t){let e,n,r;const s=[{params:t[1]},t[2]];var i=t[0];function o(a){let l={};for(let c=0;c<s.length;c+=1)l=Nr(l,s[c]);return{props:l}}return i&&(e=On(i,o()),e.$on("routeEvent",t[6])),{c(){e&&ue(e.$$.fragment),n=Tt()},m(a,l){e&&oe(e,a,l),C(a,n,l),r=!0},p(a,l){const c=l&6?Ts(s,[l&2&&{params:a[1]},l&4&&Os(a[2])]):{};if(i!==(i=a[0])){if(e){Ke();const u=e;P(u.$$.fragment,1,0,()=>{ae(u,1)}),Xe()}i?(e=On(i,o()),e.$on("routeEvent",a[6]),ue(e.$$.fragment),L(e.$$.fragment,1),oe(e,n.parentNode,n)):e=null}else i&&e.$set(c)},i(a){r||(e&&L(e.$$.fragment,a),r=!0)},o(a){e&&P(e.$$.fragment,a),r=!1},d(a){a&&w(n),e&&ae(e,a)}}}function $i(t){let e,n,r,s;const i=[Ni,Oi],o=[];function a(l,c){return l[1]?0:1}return e=a(t),n=o[e]=i[e](t),{c(){n.c(),r=Tt()},m(l,c){o[e].m(l,c),C(l,r,c),s=!0},p(l,[c]){let u=e;e=a(l),e===u?o[e].p(l,c):(Ke(),P(o[u],1,1,()=>{o[u]=null}),Xe(),n=o[e],n?n.p(l,c):(n=o[e]=i[e](l),n.c()),L(n,1),n.m(r.parentNode,r))},i(l){s||(L(n),s=!0)},o(l){P(n),s=!1},d(l){o[e].d(l),l&&w(r)}}}function Hr(){const t=window.location.href.indexOf("#/");let e=t>-1?window.location.href.substr(t+1):"/";const n=e.indexOf("?");let r="";return n>-1&&(r=e.substr(n+1),e=e.substr(0,n)),{location:e,querystring:r}}const Gn=Ns(null,function(e){e(Hr());const n=()=>{e(Hr())};return window.addEventListener("hashchange",n,!1),function(){window.removeEventListener("hashchange",n,!1)}});Xn(Gn,t=>t.location);Xn(Gn,t=>t.querystring);const Yr=vt(void 0);async function Ut(t){if(!t||t.length<1||t.charAt(0)!="/"&&t.indexOf("#/")!==0)throw Error("Invalid parameter location");await Mr(),history.replaceState({...history.state,__svelte_spa_router_scrollX:window.scrollX,__svelte_spa_router_scrollY:window.scrollY},void 0),window.location.hash=(t.charAt(0)=="#"?"":"#")+t}async function Qn(t){if(!t||t.length<1||t.charAt(0)!="/"&&t.indexOf("#/")!==0)throw Error("Invalid parameter location");await Mr();const e=(t.charAt(0)=="#"?"":"#")+t;try{const n={...history.state};delete n.__svelte_spa_router_scrollX,delete n.__svelte_spa_router_scrollY,window.history.replaceState(n,void 0,e)}catch{console.warn("Caught exception while replacing the current page. If you're running this in the Svelte REPL, please note that the `replace` method might not work in this environment.")}window.dispatchEvent(new Event("hashchange"))}function Rr(t,e){if(e=Jr(e),!t||!t.tagName||t.tagName.toLowerCase()!="a")throw Error('Action "link" can only be used with <a> tags');return Vr(t,e),{update(n){n=Jr(n),Vr(t,n)}}}function Ii(t){t?window.scrollTo(t.__svelte_spa_router_scrollX,t.__svelte_spa_router_scrollY):window.scrollTo(0,0)}function Vr(t,e){let n=e.href||t.getAttribute("href");if(n&&n.charAt(0)=="/")n="#"+n;else if(!n||n.length<2||n.slice(0,2)!="#/")throw Error('Invalid value for "href" attribute: '+n);t.setAttribute("href",n),t.addEventListener("click",r=>{r.preventDefault(),e.disabled||ji(r.currentTarget.getAttribute("href"))})}function Jr(t){return t&&typeof t=="string"?{href:t}:t||{}}function ji(t){history.replaceState({...history.state,__svelte_spa_router_scrollX:window.scrollX,__svelte_spa_router_scrollY:window.scrollY},void 0),window.location.hash=t}function Mi(t,e,n){let{routes:r={}}=e,{prefix:s=""}=e,{restoreScrollState:i=!1}=e;class o{constructor(j,k){if(!k||typeof k!="function"&&(typeof k!="object"||k._sveltesparouter!==!0))throw Error("Invalid component object");if(!j||typeof j=="string"&&(j.length<1||j.charAt(0)!="/"&&j.charAt(0)!="*")||typeof j=="object"&&!(j instanceof RegExp))throw Error('Invalid value for "path" argument - strings must start with / or *');const{pattern:D,keys:Z}=$s(j);this.path=j,typeof k=="object"&&k._sveltesparouter===!0?(this.component=k.component,this.conditions=k.conditions||[],this.userData=k.userData,this.props=k.props||{}):(this.component=()=>Promise.resolve(k),this.conditions=[],this.props={}),this._pattern=D,this._keys=Z}match(j){if(s){if(typeof s=="string")if(j.startsWith(s))j=j.substr(s.length)||"/";else return null;else if(s instanceof RegExp){const J=j.match(s);if(J&&J[0])j=j.substr(J[0].length)||"/";else return null}}const k=this._pattern.exec(j);if(k===null)return null;if(this._keys===!1)return k;const D={};let Z=0;for(;Z<this._keys.length;){try{D[this._keys[Z]]=decodeURIComponent(k[Z+1]||"")||null}catch{D[this._keys[Z]]=null}Z++}return D}async checkConditions(j){for(let k=0;k<this.conditions.length;k++)if(!await this.conditions[k](j))return!1;return!0}}const a=[];r instanceof Map?r.forEach((_,j)=>{a.push(new o(j,_))}):Object.keys(r).forEach(_=>{a.push(new o(_,r[_]))});let l=null,c=null,u={};const f=Es();async function d(_,j){await Mr(),f(_,j)}let m=null,p=null;i&&(p=_=>{_.state&&(_.state.__svelte_spa_router_scrollY||_.state.__svelte_spa_router_scrollX)?m=_.state:m=null},window.addEventListener("popstate",p),vi(()=>{Ii(m)}));let y=null,v=null;const g=Gn.subscribe(async _=>{y=_;let j=0;for(;j<a.length;){const k=a[j].match(_.location);if(!k){j++;continue}const D={route:a[j].path,location:_.location,querystring:_.querystring,userData:a[j].userData,params:k&&typeof k=="object"&&Object.keys(k).length?k:null};if(!await a[j].checkConditions(D)){n(0,l=null),v=null,d("conditionsFailed",D);return}d("routeLoading",Object.assign({},D));const Z=a[j].component;if(v!=Z){Z.loading?(n(0,l=Z.loading),v=Z,n(1,c=Z.loadingParams),n(2,u={}),d("routeLoaded",Object.assign({},D,{component:l,name:l.name,params:c}))):(n(0,l=null),v=null);const J=await Z();if(_!=y)return;n(0,l=J&&J.default||J),v=Z}k&&typeof k=="object"&&Object.keys(k).length?n(1,c=k):n(1,c=null),n(2,u=a[j].props),d("routeLoaded",Object.assign({},D,{component:l,name:l.name,params:c})).then(()=>{Yr.set(c)});return}n(0,l=null),v=null,Yr.set(void 0)});jr(()=>{g(),p&&window.removeEventListener("popstate",p)});function I(_){ee.call(this,t,_)}function R(_){ee.call(this,t,_)}return t.$$set=_=>{"routes"in _&&n(3,r=_.routes),"prefix"in _&&n(4,s=_.prefix),"restoreScrollState"in _&&n(5,i=_.restoreScrollState)},t.$$.update=()=>{t.$$.dirty&32&&(history.scrollRestoration=i?"manual":"auto")},[l,c,u,r,s,i,I,R]}class Li extends We{constructor(e){super(),ze(this,e,Mi,$i,Re,{routes:3,prefix:4,restoreScrollState:5})}}let ce,En=new Uint8Array;function Is(){return En.byteLength===0&&(En=new Uint8Array(ce.memory.buffer)),En}let Ge=0;function rt(t,e){const n=e(t.length*1);return Is().set(t,n/1),Ge=t.length,n}let Sn=new Int32Array;function St(){return Sn.byteLength===0&&(Sn=new Int32Array(ce.memory.buffer)),Sn}function er(t,e){return Is().subarray(t/1,t/1+e)}function js(t,e,n,r,s,i){try{const c=ce.__wbindgen_add_to_stack_pointer(-16),u=rt(r,ce.__wbindgen_malloc),f=Ge,d=rt(s,ce.__wbindgen_malloc),m=Ge;ce.derive(c,t,e,n,u,f,d,m,i);var o=St()[c/4+0],a=St()[c/4+1],l=er(o,a).slice();return ce.__wbindgen_free(o,a*1),l}finally{ce.__wbindgen_add_to_stack_pointer(16)}}function Ri(t,e,n,r){try{const a=ce.__wbindgen_add_to_stack_pointer(-16),l=rt(t,ce.__wbindgen_malloc),c=Ge,u=rt(e,ce.__wbindgen_malloc),f=Ge,d=rt(n,ce.__wbindgen_malloc),m=Ge,p=rt(r,ce.__wbindgen_malloc),y=Ge;ce.encrypt(a,l,c,u,f,d,m,p,y);var s=St()[a/4+0],i=St()[a/4+1],o=er(s,i).slice();return ce.__wbindgen_free(s,i*1),o}finally{ce.__wbindgen_add_to_stack_pointer(16)}}function Ms(t,e,n){try{const i=ce.__wbindgen_add_to_stack_pointer(-16),o=rt(t,ce.__wbindgen_malloc),a=Ge,l=rt(e,ce.__wbindgen_malloc),c=Ge,u=rt(n,ce.__wbindgen_malloc),f=Ge;ce.decrypt(i,o,a,l,c,u,f);var r=St()[i/4+0],s=St()[i/4+1];let d;return r!==0&&(d=er(r,s).slice(),ce.__wbindgen_free(r,s*1)),d}finally{ce.__wbindgen_add_to_stack_pointer(16)}}function Zi(t,e){try{const s=ce.__wbindgen_add_to_stack_pointer(-16),i=rt(t,ce.__wbindgen_malloc),o=Ge,a=rt(e,ce.__wbindgen_malloc),l=Ge;ce.decrypt_legacy(s,i,o,a,l);var n=St()[s/4+0],r=St()[s/4+1];let c;return n!==0&&(c=er(n,r).slice(),ce.__wbindgen_free(n,r*1)),c}finally{ce.__wbindgen_add_to_stack_pointer(16)}}async function Pi(t,e){if(typeof Response=="function"&&t instanceof Response){if(typeof WebAssembly.instantiateStreaming=="function")try{return await WebAssembly.instantiateStreaming(t,e)}catch(r){if(t.headers.get("Content-Type")!="application/wasm")console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",r);else throw r}const n=await t.arrayBuffer();return await WebAssembly.instantiate(n,e)}else{const n=await WebAssembly.instantiate(t,e);return n instanceof WebAssembly.Instance?{instance:n,module:t}:n}}function Di(){const t={};return t.wbg={},t}function Fi(t,e){return ce=t.exports,Ls.__wbindgen_wasm_module=e,Sn=new Int32Array,En=new Uint8Array,ce}async function Ls(t){typeof t>"u"&&(t="/assets/scrypt_crate_bg.wasm");const e=Di();(typeof t=="string"||typeof Request=="function"&&t instanceof Request||typeof URL=="function"&&t instanceof URL)&&(t=fetch(t));const{instance:n,module:r}=await Pi(await t,e);return Fi(n,r)}function yr(t){if(/\s/.test(t))throw new Error("Can't contain whitespace");return t=t.replace(/(\w)-(\w)/g,(e,n,r)=>{const s=n.charCodeAt(0),i=r.charCodeAt(0);if(n.length!==1||s>255)throw new Error(`Invalid starting character in range "${e}"`);if(r.length!==1||i>255)throw new Error(`Invalid ending character in range "${e}"`);if(s>i)throw new Error(`Invalid range "${e}"`);let o="";for(let a=s;a<=i;a++)o+=String.fromCharCode(a);return o}),t.replace(/[^\\]-|[^\\]-\W|^-\W|^-\w?/,e=>{throw new Error(`Unterminated range "${e}"`)}),t=t.replace(/\\(.)/g,"$1"),Array.from(new Set(t.split(""))).sort()}function Kr(t){try{return yr(t),!0}catch{return!1}}var pe;(function(t){t.assertEqual=s=>s;function e(s){}t.assertIs=e;function n(s){throw new Error}t.assertNever=n,t.arrayToEnum=s=>{const i={};for(const o of s)i[o]=o;return i},t.getValidEnumValues=s=>{const i=t.objectKeys(s).filter(a=>typeof s[s[a]]!="number"),o={};for(const a of i)o[a]=s[a];return t.objectValues(o)},t.objectValues=s=>t.objectKeys(s).map(function(i){return s[i]}),t.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const i=[];for(const o in s)Object.prototype.hasOwnProperty.call(s,o)&&i.push(o);return i},t.find=(s,i)=>{for(const o of s)if(i(o))return o},t.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&isFinite(s)&&Math.floor(s)===s;function r(s,i=" | "){return s.map(o=>typeof o=="string"?`'${o}'`:o).join(i)}t.joinValues=r,t.jsonStringifyReplacer=(s,i)=>typeof i=="bigint"?i.toString():i})(pe||(pe={}));const M=pe.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),At=t=>{switch(typeof t){case"undefined":return M.undefined;case"string":return M.string;case"number":return isNaN(t)?M.nan:M.number;case"boolean":return M.boolean;case"function":return M.function;case"bigint":return M.bigint;case"object":return Array.isArray(t)?M.array:t===null?M.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?M.promise:typeof Map<"u"&&t instanceof Map?M.map:typeof Set<"u"&&t instanceof Set?M.set:typeof Date<"u"&&t instanceof Date?M.date:M.object;default:return M.unknown}},$=pe.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of"]),Ui=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class _t extends Error{constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){const n=e||function(i){return i.message},r={_errors:[]},s=i=>{for(const o of i.issues)if(o.code==="invalid_union")o.unionErrors.map(s);else if(o.code==="invalid_return_type")s(o.returnTypeError);else if(o.code==="invalid_arguments")s(o.argumentsError);else if(o.path.length===0)r._errors.push(n(o));else{let a=r,l=0;for(;l<o.path.length;){const c=o.path[l];l===o.path.length-1?(a[c]=a[c]||{_errors:[]},a[c]._errors.push(n(o))):a[c]=a[c]||{_errors:[]},a=a[c],l++}}};return s(this),r}toString(){return this.message}get message(){return JSON.stringify(this.issues,pe.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},r=[];for(const s of this.issues)s.path.length>0?(n[s.path[0]]=n[s.path[0]]||[],n[s.path[0]].push(e(s))):r.push(e(s));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}_t.create=t=>new _t(t);const sn=(t,e)=>{let n;switch(t.code){case $.invalid_type:t.received===M.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case $.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,pe.jsonStringifyReplacer)}`;break;case $.unrecognized_keys:n=`Unrecognized key(s) in object: ${pe.joinValues(t.keys,", ")}`;break;case $.invalid_union:n="Invalid input";break;case $.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${pe.joinValues(t.options)}`;break;case $.invalid_enum_value:n=`Invalid enum value. Expected ${pe.joinValues(t.options)}, received '${t.received}'`;break;case $.invalid_arguments:n="Invalid function arguments";break;case $.invalid_return_type:n="Invalid function return type";break;case $.invalid_date:n="Invalid date";break;case $.invalid_string:typeof t.validation=="object"?"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:pe.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case $.too_small:t.type==="array"?n=`Array must contain ${t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be greater than ${t.inclusive?"or equal to ":""}${t.minimum}`:t.type==="date"?n=`Date must be greater than ${t.inclusive?"or equal to ":""}${new Date(t.minimum)}`:n="Invalid input";break;case $.too_big:t.type==="array"?n=`Array must contain ${t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be less than ${t.inclusive?"or equal to ":""}${t.maximum}`:t.type==="date"?n=`Date must be smaller than ${t.inclusive?"or equal to ":""}${new Date(t.maximum)}`:n="Invalid input";break;case $.custom:n="Invalid input";break;case $.invalid_intersection_types:n="Intersection results could not be merged";break;case $.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;default:n=e.defaultError,pe.assertNever(t)}return{message:n}};let Rs=sn;function qi(t){Rs=t}function $n(){return Rs}const In=t=>{const{data:e,path:n,errorMaps:r,issueData:s}=t,i=[...n,...s.path||[]],o={...s,path:i};let a="";const l=r.filter(c=>!!c).slice().reverse();for(const c of l)a=c(o,{data:e,defaultError:a}).message;return{...s,path:i,message:s.message||a}},zi=[];function U(t,e){const n=In({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,$n(),sn].filter(r=>!!r)});t.common.issues.push(n)}class Ue{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const s of n){if(s.status==="aborted")return G;s.status==="dirty"&&e.dirty(),r.push(s.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){const r=[];for(const s of n)r.push({key:await s.key,value:await s.value});return Ue.mergeObjectSync(e,r)}static mergeObjectSync(e,n){const r={};for(const s of n){const{key:i,value:o}=s;if(i.status==="aborted"||o.status==="aborted")return G;i.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),(typeof o.value<"u"||s.alwaysSet)&&(r[i.value]=o.value)}return{status:e.value,value:r}}}const G=Object.freeze({status:"aborted"}),Wi=t=>({status:"dirty",value:t}),qe=t=>({status:"valid",value:t}),_r=t=>t.status==="aborted",gr=t=>t.status==="dirty",jn=t=>t.status==="valid",br=t=>typeof Promise!==void 0&&t instanceof Promise;var ie;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(ie||(ie={}));class ut{constructor(e,n,r,s){this.parent=e,this.data=n,this._path=r,this._key=s}get path(){return this._path.concat(this._key)}}const Xr=(t,e)=>{if(jn(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,error:new _t(t.common.issues)}};function ne(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:r,description:s}=t;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:s}:{errorMap:(o,a)=>o.code!=="invalid_type"?{message:a.defaultError}:typeof a.data>"u"?{message:r!=null?r:a.defaultError}:{message:n!=null?n:a.defaultError},description:s}}class te{constructor(e){this.spa=this.safeParseAsync,this.superRefine=this._refinement,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.default=this.default.bind(this),this.describe=this.describe.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return At(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:At(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Ue,ctx:{common:e.parent.common,data:e.data,parsedType:At(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(br(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){var r;const s={common:{issues:[],async:(r=n==null?void 0:n.async)!==null&&r!==void 0?r:!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:At(e)},i=this._parseSync({data:e,path:s.path,parent:s});return Xr(s,i)}async parseAsync(e,n){const r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:At(e)},s=this._parse({data:e,path:[],parent:r}),i=await(br(s)?s:Promise.resolve(s));return Xr(r,i)}refine(e,n){const r=s=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(s):n;return this._refinement((s,i)=>{const o=e(s),a=()=>i.addIssue({code:$.custom,...r(s)});return typeof Promise<"u"&&o instanceof Promise?o.then(l=>l?!0:(a(),!1)):o?!0:(a(),!1)})}refinement(e,n){return this._refinement((r,s)=>e(r)?!0:(s.addIssue(typeof n=="function"?n(r,s):n),!1))}_refinement(e){return new pt({schema:this,typeName:K.ZodEffects,effect:{type:"refinement",refinement:e}})}optional(){return lt.create(this)}nullable(){return Zt.create(this)}nullish(){return this.optional().nullable()}array(){return dt.create(this)}promise(){return Jt.create(this)}or(e){return on.create([this,e])}and(e){return an.create(this,e)}transform(e){return new pt({schema:this,typeName:K.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new Zr({innerType:this,defaultValue:n,typeName:K.ZodDefault})}brand(){return new Ps({typeName:K.ZodBranded,type:this,...ne(void 0)})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const Bi=/^c[^\s-]{8,}$/i,Hi=/^([a-f0-9]{8}-[a-f0-9]{4}-[1-5][a-f0-9]{3}-[a-f0-9]{4}-[a-f0-9]{12}|00000000-0000-0000-0000-000000000000)$/i,Yi=/^(([^<>()[\]\.,;:\s@\"]+(\.[^<>()[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()[\]\.,;:\s@\"]+\.)+[^<>()[\]\.,;:\s@\"]{2,})$/i;class xt extends te{constructor(){super(...arguments),this._regex=(e,n,r)=>this.refinement(s=>e.test(s),{validation:n,code:$.invalid_string,...ie.errToObj(r)}),this.nonempty=e=>this.min(1,ie.errToObj(e)),this.trim=()=>new xt({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}_parse(e){if(this._getType(e)!==M.string){const i=this._getOrReturnCtx(e);return U(i,{code:$.invalid_type,expected:M.string,received:i.parsedType}),G}const r=new Ue;let s;for(const i of this._def.checks)if(i.kind==="min")e.data.length<i.value&&(s=this._getOrReturnCtx(e,s),U(s,{code:$.too_small,minimum:i.value,type:"string",inclusive:!0,message:i.message}),r.dirty());else if(i.kind==="max")e.data.length>i.value&&(s=this._getOrReturnCtx(e,s),U(s,{code:$.too_big,maximum:i.value,type:"string",inclusive:!0,message:i.message}),r.dirty());else if(i.kind==="email")Yi.test(e.data)||(s=this._getOrReturnCtx(e,s),U(s,{validation:"email",code:$.invalid_string,message:i.message}),r.dirty());else if(i.kind==="uuid")Hi.test(e.data)||(s=this._getOrReturnCtx(e,s),U(s,{validation:"uuid",code:$.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid")Bi.test(e.data)||(s=this._getOrReturnCtx(e,s),U(s,{validation:"cuid",code:$.invalid_string,message:i.message}),r.dirty());else if(i.kind==="url")try{new URL(e.data)}catch{s=this._getOrReturnCtx(e,s),U(s,{validation:"url",code:$.invalid_string,message:i.message}),r.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(e.data)||(s=this._getOrReturnCtx(e,s),U(s,{validation:"regex",code:$.invalid_string,message:i.message}),r.dirty())):i.kind==="trim"?e.data=e.data.trim():i.kind==="startsWith"?e.data.startsWith(i.value)||(s=this._getOrReturnCtx(e,s),U(s,{code:$.invalid_string,validation:{startsWith:i.value},message:i.message}),r.dirty()):i.kind==="endsWith"?e.data.endsWith(i.value)||(s=this._getOrReturnCtx(e,s),U(s,{code:$.invalid_string,validation:{endsWith:i.value},message:i.message}),r.dirty()):pe.assertNever(i);return{status:r.value,value:e.data}}_addCheck(e){return new xt({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...ie.errToObj(e)})}url(e){return this._addCheck({kind:"url",...ie.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...ie.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...ie.errToObj(e)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...ie.errToObj(n)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...ie.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...ie.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...ie.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...ie.errToObj(n)})}length(e,n){return this.min(e,n).max(e,n)}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}xt.create=t=>new xt({checks:[],typeName:K.ZodString,...ne(t)});function Vi(t,e){const n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,s=n>r?n:r,i=parseInt(t.toFixed(s).replace(".","")),o=parseInt(e.toFixed(s).replace(".",""));return i%o/Math.pow(10,s)}class Lt extends te{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._getType(e)!==M.number){const i=this._getOrReturnCtx(e);return U(i,{code:$.invalid_type,expected:M.number,received:i.parsedType}),G}let r;const s=new Ue;for(const i of this._def.checks)i.kind==="int"?pe.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),U(r,{code:$.invalid_type,expected:"integer",received:"float",message:i.message}),s.dirty()):i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(r=this._getOrReturnCtx(e,r),U(r,{code:$.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(r=this._getOrReturnCtx(e,r),U(r,{code:$.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="multipleOf"?Vi(e.data,i.value)!==0&&(r=this._getOrReturnCtx(e,r),U(r,{code:$.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):pe.assertNever(i);return{status:s.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,ie.toString(n))}gt(e,n){return this.setLimit("min",e,!1,ie.toString(n))}lte(e,n){return this.setLimit("max",e,!0,ie.toString(n))}lt(e,n){return this.setLimit("max",e,!1,ie.toString(n))}setLimit(e,n,r,s){return new Lt({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:ie.toString(s)}]})}_addCheck(e){return new Lt({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:ie.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:ie.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:ie.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:ie.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:ie.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:ie.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int")}}Lt.create=t=>new Lt({checks:[],typeName:K.ZodNumber,...ne(t)});class Mn extends te{_parse(e){if(this._getType(e)!==M.bigint){const r=this._getOrReturnCtx(e);return U(r,{code:$.invalid_type,expected:M.bigint,received:r.parsedType}),G}return qe(e.data)}}Mn.create=t=>new Mn({typeName:K.ZodBigInt,...ne(t)});class Ln extends te{_parse(e){if(this._getType(e)!==M.boolean){const r=this._getOrReturnCtx(e);return U(r,{code:$.invalid_type,expected:M.boolean,received:r.parsedType}),G}return qe(e.data)}}Ln.create=t=>new Ln({typeName:K.ZodBoolean,...ne(t)});class Yt extends te{_parse(e){if(this._getType(e)!==M.date){const i=this._getOrReturnCtx(e);return U(i,{code:$.invalid_type,expected:M.date,received:i.parsedType}),G}if(isNaN(e.data.getTime())){const i=this._getOrReturnCtx(e);return U(i,{code:$.invalid_date}),G}const r=new Ue;let s;for(const i of this._def.checks)i.kind==="min"?e.data.getTime()<i.value&&(s=this._getOrReturnCtx(e,s),U(s,{code:$.too_small,message:i.message,inclusive:!0,minimum:i.value,type:"date"}),r.dirty()):i.kind==="max"?e.data.getTime()>i.value&&(s=this._getOrReturnCtx(e,s),U(s,{code:$.too_big,message:i.message,inclusive:!0,maximum:i.value,type:"date"}),r.dirty()):pe.assertNever(i);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Yt({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:ie.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:ie.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}Yt.create=t=>new Yt({checks:[],typeName:K.ZodDate,...ne(t)});class Rn extends te{_parse(e){if(this._getType(e)!==M.undefined){const r=this._getOrReturnCtx(e);return U(r,{code:$.invalid_type,expected:M.undefined,received:r.parsedType}),G}return qe(e.data)}}Rn.create=t=>new Rn({typeName:K.ZodUndefined,...ne(t)});class Zn extends te{_parse(e){if(this._getType(e)!==M.null){const r=this._getOrReturnCtx(e);return U(r,{code:$.invalid_type,expected:M.null,received:r.parsedType}),G}return qe(e.data)}}Zn.create=t=>new Zn({typeName:K.ZodNull,...ne(t)});class Vt extends te{constructor(){super(...arguments),this._any=!0}_parse(e){return qe(e.data)}}Vt.create=t=>new Vt({typeName:K.ZodAny,...ne(t)});class jt extends te{constructor(){super(...arguments),this._unknown=!0}_parse(e){return qe(e.data)}}jt.create=t=>new jt({typeName:K.ZodUnknown,...ne(t)});class gt extends te{_parse(e){const n=this._getOrReturnCtx(e);return U(n,{code:$.invalid_type,expected:M.never,received:n.parsedType}),G}}gt.create=t=>new gt({typeName:K.ZodNever,...ne(t)});class Pn extends te{_parse(e){if(this._getType(e)!==M.undefined){const r=this._getOrReturnCtx(e);return U(r,{code:$.invalid_type,expected:M.void,received:r.parsedType}),G}return qe(e.data)}}Pn.create=t=>new Pn({typeName:K.ZodVoid,...ne(t)});class dt extends te{_parse(e){const{ctx:n,status:r}=this._processInputParams(e),s=this._def;if(n.parsedType!==M.array)return U(n,{code:$.invalid_type,expected:M.array,received:n.parsedType}),G;if(s.minLength!==null&&n.data.length<s.minLength.value&&(U(n,{code:$.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,message:s.minLength.message}),r.dirty()),s.maxLength!==null&&n.data.length>s.maxLength.value&&(U(n,{code:$.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,message:s.maxLength.message}),r.dirty()),n.common.async)return Promise.all(n.data.map((o,a)=>s.type._parseAsync(new ut(n,o,n.path,a)))).then(o=>Ue.mergeArray(r,o));const i=n.data.map((o,a)=>s.type._parseSync(new ut(n,o,n.path,a)));return Ue.mergeArray(r,i)}get element(){return this._def.type}min(e,n){return new dt({...this._def,minLength:{value:e,message:ie.toString(n)}})}max(e,n){return new dt({...this._def,maxLength:{value:e,message:ie.toString(n)}})}length(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}dt.create=(t,e)=>new dt({type:t,minLength:null,maxLength:null,typeName:K.ZodArray,...ne(e)});var Dn;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(Dn||(Dn={}));const Gr=t=>e=>new ve({...t,shape:()=>({...t.shape(),...e})});function Dt(t){if(t instanceof ve){const e={};for(const n in t.shape){const r=t.shape[n];e[n]=lt.create(Dt(r))}return new ve({...t._def,shape:()=>e})}else return t instanceof dt?dt.create(Dt(t.element)):t instanceof lt?lt.create(Dt(t.unwrap())):t instanceof Zt?Zt.create(Dt(t.unwrap())):t instanceof ft?ft.create(t.items.map(e=>Dt(e))):t}class ve extends te{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=Gr(this._def),this.extend=Gr(this._def)}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=pe.objectKeys(e);return this._cached={shape:e,keys:n}}_parse(e){if(this._getType(e)!==M.object){const c=this._getOrReturnCtx(e);return U(c,{code:$.invalid_type,expected:M.object,received:c.parsedType}),G}const{status:r,ctx:s}=this._processInputParams(e),{shape:i,keys:o}=this._getCached(),a=[];if(!(this._def.catchall instanceof gt&&this._def.unknownKeys==="strip"))for(const c in s.data)o.includes(c)||a.push(c);const l=[];for(const c of o){const u=i[c],f=s.data[c];l.push({key:{status:"valid",value:c},value:u._parse(new ut(s,f,s.path,c)),alwaysSet:c in s.data})}if(this._def.catchall instanceof gt){const c=this._def.unknownKeys;if(c==="passthrough")for(const u of a)l.push({key:{status:"valid",value:u},value:{status:"valid",value:s.data[u]}});else if(c==="strict")a.length>0&&(U(s,{code:$.unrecognized_keys,keys:a}),r.dirty());else if(c!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const c=this._def.catchall;for(const u of a){const f=s.data[u];l.push({key:{status:"valid",value:u},value:c._parse(new ut(s,f,s.path,u)),alwaysSet:u in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const c=[];for(const u of l){const f=await u.key;c.push({key:f,value:await u.value,alwaysSet:u.alwaysSet})}return c}).then(c=>Ue.mergeObjectSync(r,c)):Ue.mergeObjectSync(r,l)}get shape(){return this._def.shape()}strict(e){return ie.errToObj,new ve({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,r)=>{var s,i,o,a;const l=(o=(i=(s=this._def).errorMap)===null||i===void 0?void 0:i.call(s,n,r).message)!==null&&o!==void 0?o:r.defaultError;return n.code==="unrecognized_keys"?{message:(a=ie.errToObj(e).message)!==null&&a!==void 0?a:l}:{message:l}}}:{}})}strip(){return new ve({...this._def,unknownKeys:"strip"})}passthrough(){return new ve({...this._def,unknownKeys:"passthrough"})}setKey(e,n){return this.augment({[e]:n})}merge(e){return new ve({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>Dn.mergeShapes(this._def.shape(),e._def.shape()),typeName:K.ZodObject})}catchall(e){return new ve({...this._def,catchall:e})}pick(e){const n={};return pe.objectKeys(e).map(r=>{this.shape[r]&&(n[r]=this.shape[r])}),new ve({...this._def,shape:()=>n})}omit(e){const n={};return pe.objectKeys(this.shape).map(r=>{pe.objectKeys(e).indexOf(r)===-1&&(n[r]=this.shape[r])}),new ve({...this._def,shape:()=>n})}deepPartial(){return Dt(this)}partial(e){const n={};if(e)return pe.objectKeys(this.shape).map(r=>{pe.objectKeys(e).indexOf(r)===-1?n[r]=this.shape[r]:n[r]=this.shape[r].optional()}),new ve({...this._def,shape:()=>n});for(const r in this.shape){const s=this.shape[r];n[r]=s.optional()}return new ve({...this._def,shape:()=>n})}required(){const e={};for(const n in this.shape){let s=this.shape[n];for(;s instanceof lt;)s=s._def.innerType;e[n]=s}return new ve({...this._def,shape:()=>e})}keyof(){return Zs(pe.objectKeys(this.shape))}}ve.create=(t,e)=>new ve({shape:()=>t,unknownKeys:"strip",catchall:gt.create(),typeName:K.ZodObject,...ne(e)});ve.strictCreate=(t,e)=>new ve({shape:()=>t,unknownKeys:"strict",catchall:gt.create(),typeName:K.ZodObject,...ne(e)});ve.lazycreate=(t,e)=>new ve({shape:t,unknownKeys:"strip",catchall:gt.create(),typeName:K.ZodObject,...ne(e)});class on extends te{_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.options;function s(i){for(const a of i)if(a.result.status==="valid")return a.result;for(const a of i)if(a.result.status==="dirty")return n.common.issues.push(...a.ctx.common.issues),a.result;const o=i.map(a=>new _t(a.ctx.common.issues));return U(n,{code:$.invalid_union,unionErrors:o}),G}if(n.common.async)return Promise.all(r.map(async i=>{const o={...n,common:{...n.common,issues:[]},parent:null};return{result:await i._parseAsync({data:n.data,path:n.path,parent:o}),ctx:o}})).then(s);{let i;const o=[];for(const l of r){const c={...n,common:{...n.common,issues:[]},parent:null},u=l._parseSync({data:n.data,path:n.path,parent:c});if(u.status==="valid")return u;u.status==="dirty"&&!i&&(i={result:u,ctx:c}),c.common.issues.length&&o.push(c.common.issues)}if(i)return n.common.issues.push(...i.ctx.common.issues),i.result;const a=o.map(l=>new _t(l));return U(n,{code:$.invalid_union,unionErrors:a}),G}}get options(){return this._def.options}}on.create=(t,e)=>new on({options:t,typeName:K.ZodUnion,...ne(e)});class tr extends te{_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==M.object)return U(n,{code:$.invalid_type,expected:M.object,received:n.parsedType}),G;const r=this.discriminator,s=n.data[r],i=this.options.get(s);return i?n.common.async?i._parseAsync({data:n.data,path:n.path,parent:n}):i._parseSync({data:n.data,path:n.path,parent:n}):(U(n,{code:$.invalid_union_discriminator,options:this.validDiscriminatorValues,path:[r]}),G)}get discriminator(){return this._def.discriminator}get validDiscriminatorValues(){return Array.from(this.options.keys())}get options(){return this._def.options}static create(e,n,r){const s=new Map;try{n.forEach(i=>{const o=i.shape[e].value;s.set(o,i)})}catch{throw new Error("The discriminator value could not be extracted from all the provided schemas")}if(s.size!==n.length)throw new Error("Some of the discriminator values are not unique");return new tr({typeName:K.ZodDiscriminatedUnion,discriminator:e,options:s,...ne(r)})}}function vr(t,e){const n=At(t),r=At(e);if(t===e)return{valid:!0,data:t};if(n===M.object&&r===M.object){const s=pe.objectKeys(e),i=pe.objectKeys(t).filter(a=>s.indexOf(a)!==-1),o={...t,...e};for(const a of i){const l=vr(t[a],e[a]);if(!l.valid)return{valid:!1};o[a]=l.data}return{valid:!0,data:o}}else if(n===M.array&&r===M.array){if(t.length!==e.length)return{valid:!1};const s=[];for(let i=0;i<t.length;i++){const o=t[i],a=e[i],l=vr(o,a);if(!l.valid)return{valid:!1};s.push(l.data)}return{valid:!0,data:s}}else return n===M.date&&r===M.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class an extends te{_parse(e){const{status:n,ctx:r}=this._processInputParams(e),s=(i,o)=>{if(_r(i)||_r(o))return G;const a=vr(i.value,o.value);return a.valid?((gr(i)||gr(o))&&n.dirty(),{status:n.value,value:a.data}):(U(r,{code:$.invalid_intersection_types}),G)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([i,o])=>s(i,o)):s(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}an.create=(t,e,n)=>new an({left:t,right:e,typeName:K.ZodIntersection,...ne(n)});class ft extends te{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==M.array)return U(r,{code:$.invalid_type,expected:M.array,received:r.parsedType}),G;if(r.data.length<this._def.items.length)return U(r,{code:$.too_small,minimum:this._def.items.length,inclusive:!0,type:"array"}),G;!this._def.rest&&r.data.length>this._def.items.length&&(U(r,{code:$.too_big,maximum:this._def.items.length,inclusive:!0,type:"array"}),n.dirty());const i=r.data.map((o,a)=>{const l=this._def.items[a]||this._def.rest;return l?l._parse(new ut(r,o,r.path,a)):null}).filter(o=>!!o);return r.common.async?Promise.all(i).then(o=>Ue.mergeArray(n,o)):Ue.mergeArray(n,i)}get items(){return this._def.items}rest(e){return new ft({...this._def,rest:e})}}ft.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new ft({items:t,typeName:K.ZodTuple,rest:null,...ne(e)})};class ln extends te{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==M.object)return U(r,{code:$.invalid_type,expected:M.object,received:r.parsedType}),G;const s=[],i=this._def.keyType,o=this._def.valueType;for(const a in r.data)s.push({key:i._parse(new ut(r,a,r.path,a)),value:o._parse(new ut(r,r.data[a],r.path,a))});return r.common.async?Ue.mergeObjectAsync(n,s):Ue.mergeObjectSync(n,s)}get element(){return this._def.valueType}static create(e,n,r){return n instanceof te?new ln({keyType:e,valueType:n,typeName:K.ZodRecord,...ne(r)}):new ln({keyType:xt.create(),valueType:e,typeName:K.ZodRecord,...ne(n)})}}class Fn extends te{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==M.map)return U(r,{code:$.invalid_type,expected:M.map,received:r.parsedType}),G;const s=this._def.keyType,i=this._def.valueType,o=[...r.data.entries()].map(([a,l],c)=>({key:s._parse(new ut(r,a,r.path,[c,"key"])),value:i._parse(new ut(r,l,r.path,[c,"value"]))}));if(r.common.async){const a=new Map;return Promise.resolve().then(async()=>{for(const l of o){const c=await l.key,u=await l.value;if(c.status==="aborted"||u.status==="aborted")return G;(c.status==="dirty"||u.status==="dirty")&&n.dirty(),a.set(c.value,u.value)}return{status:n.value,value:a}})}else{const a=new Map;for(const l of o){const c=l.key,u=l.value;if(c.status==="aborted"||u.status==="aborted")return G;(c.status==="dirty"||u.status==="dirty")&&n.dirty(),a.set(c.value,u.value)}return{status:n.value,value:a}}}}Fn.create=(t,e,n)=>new Fn({valueType:e,keyType:t,typeName:K.ZodMap,...ne(n)});class Rt extends te{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==M.set)return U(r,{code:$.invalid_type,expected:M.set,received:r.parsedType}),G;const s=this._def;s.minSize!==null&&r.data.size<s.minSize.value&&(U(r,{code:$.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,message:s.minSize.message}),n.dirty()),s.maxSize!==null&&r.data.size>s.maxSize.value&&(U(r,{code:$.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,message:s.maxSize.message}),n.dirty());const i=this._def.valueType;function o(l){const c=new Set;for(const u of l){if(u.status==="aborted")return G;u.status==="dirty"&&n.dirty(),c.add(u.value)}return{status:n.value,value:c}}const a=[...r.data.values()].map((l,c)=>i._parse(new ut(r,l,r.path,c)));return r.common.async?Promise.all(a).then(l=>o(l)):o(a)}min(e,n){return new Rt({...this._def,minSize:{value:e,message:ie.toString(n)}})}max(e,n){return new Rt({...this._def,maxSize:{value:e,message:ie.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}Rt.create=(t,e)=>new Rt({valueType:t,minSize:null,maxSize:null,typeName:K.ZodSet,...ne(e)});class qt extends te{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==M.function)return U(n,{code:$.invalid_type,expected:M.function,received:n.parsedType}),G;function r(a,l){return In({data:a,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,$n(),sn].filter(c=>!!c),issueData:{code:$.invalid_arguments,argumentsError:l}})}function s(a,l){return In({data:a,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,$n(),sn].filter(c=>!!c),issueData:{code:$.invalid_return_type,returnTypeError:l}})}const i={errorMap:n.common.contextualErrorMap},o=n.data;return this._def.returns instanceof Jt?qe(async(...a)=>{const l=new _t([]),c=await this._def.args.parseAsync(a,i).catch(d=>{throw l.addIssue(r(a,d)),l}),u=await o(...c);return await this._def.returns._def.type.parseAsync(u,i).catch(d=>{throw l.addIssue(s(u,d)),l})}):qe((...a)=>{const l=this._def.args.safeParse(a,i);if(!l.success)throw new _t([r(a,l.error)]);const c=o(...l.data),u=this._def.returns.safeParse(c,i);if(!u.success)throw new _t([s(c,u.error)]);return u.data})}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new qt({...this._def,args:ft.create(e).rest(jt.create())})}returns(e){return new qt({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,n,r){return new qt({args:e||ft.create([]).rest(jt.create()),returns:n||jt.create(),typeName:K.ZodFunction,...ne(r)})}}class Un extends te{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}Un.create=(t,e)=>new Un({getter:t,typeName:K.ZodLazy,...ne(e)});class qn extends te{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return U(n,{code:$.invalid_literal,expected:this._def.value}),G}return{status:"valid",value:e.data}}get value(){return this._def.value}}qn.create=(t,e)=>new qn({value:t,typeName:K.ZodLiteral,...ne(e)});function Zs(t,e){return new nr({values:t,typeName:K.ZodEnum,...ne(e)})}class nr extends te{_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),r=this._def.values;return U(n,{expected:pe.joinValues(r),received:n.parsedType,code:$.invalid_type}),G}if(this._def.values.indexOf(e.data)===-1){const n=this._getOrReturnCtx(e),r=this._def.values;return U(n,{received:n.data,code:$.invalid_enum_value,options:r}),G}return qe(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}}nr.create=Zs;class zn extends te{_parse(e){const n=pe.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==M.string&&r.parsedType!==M.number){const s=pe.objectValues(n);return U(r,{expected:pe.joinValues(s),received:r.parsedType,code:$.invalid_type}),G}if(n.indexOf(e.data)===-1){const s=pe.objectValues(n);return U(r,{received:r.data,code:$.invalid_enum_value,options:s}),G}return qe(e.data)}get enum(){return this._def.values}}zn.create=(t,e)=>new zn({values:t,typeName:K.ZodNativeEnum,...ne(e)});class Jt extends te{_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==M.promise&&n.common.async===!1)return U(n,{code:$.invalid_type,expected:M.promise,received:n.parsedType}),G;const r=n.parsedType===M.promise?n.data:Promise.resolve(n.data);return qe(r.then(s=>this._def.type.parseAsync(s,{path:n.path,errorMap:n.common.contextualErrorMap})))}}Jt.create=(t,e)=>new Jt({type:t,typeName:K.ZodPromise,...ne(e)});class pt extends te{innerType(){return this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),s=this._def.effect||null;if(s.type==="preprocess"){const o=s.transform(r.data);return r.common.async?Promise.resolve(o).then(a=>this._def.schema._parseAsync({data:a,path:r.path,parent:r})):this._def.schema._parseSync({data:o,path:r.path,parent:r})}const i={addIssue:o=>{U(r,o),o.fatal?n.abort():n.dirty()},get path(){return r.path}};if(i.addIssue=i.addIssue.bind(i),s.type==="refinement"){const o=a=>{const l=s.refinement(a,i);if(r.common.async)return Promise.resolve(l);if(l instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return a};if(r.common.async===!1){const a=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?G:(a.status==="dirty"&&n.dirty(),o(a.value),{status:n.value,value:a.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(a=>a.status==="aborted"?G:(a.status==="dirty"&&n.dirty(),o(a.value).then(()=>({status:n.value,value:a.value}))))}if(s.type==="transform")if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!jn(o))return o;const a=s.transform(o.value,i);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:a}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>jn(o)?Promise.resolve(s.transform(o.value,i)).then(a=>({status:n.value,value:a})):o);pe.assertNever(s)}}pt.create=(t,e,n)=>new pt({schema:t,typeName:K.ZodEffects,effect:e,...ne(n)});pt.createWithPreprocess=(t,e,n)=>new pt({schema:e,effect:{type:"preprocess",transform:t},typeName:K.ZodEffects,...ne(n)});class lt extends te{_parse(e){return this._getType(e)===M.undefined?qe(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}lt.create=(t,e)=>new lt({innerType:t,typeName:K.ZodOptional,...ne(e)});class Zt extends te{_parse(e){return this._getType(e)===M.null?qe(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Zt.create=(t,e)=>new Zt({innerType:t,typeName:K.ZodNullable,...ne(e)});class Zr extends te{_parse(e){const{ctx:n}=this._processInputParams(e);let r=n.data;return n.parsedType===M.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}Zr.create=(t,e)=>new lt({innerType:t,typeName:K.ZodOptional,...ne(e)});class Wn extends te{_parse(e){if(this._getType(e)!==M.nan){const r=this._getOrReturnCtx(e);return U(r,{code:$.invalid_type,expected:M.nan,received:r.parsedType}),G}return{status:"valid",value:e.data}}}Wn.create=t=>new Wn({typeName:K.ZodNaN,...ne(t)});const Ji=Symbol("zod_brand");class Ps extends te{_parse(e){const{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}const Ds=(t,e={},n)=>t?Vt.create().superRefine((r,s)=>{if(!t(r)){const i=typeof e=="function"?e(r):e,o=typeof i=="string"?{message:i}:i;s.addIssue({code:"custom",...o,fatal:n})}}):Vt.create(),Ki={object:ve.lazycreate};var K;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded"})(K||(K={}));const Xi=(t,e={message:`Input not instance of ${t.name}`})=>Ds(n=>n instanceof t,e,!0),Fs=xt.create,Us=Lt.create,Gi=Wn.create,Qi=Mn.create,qs=Ln.create,eo=Yt.create,to=Rn.create,no=Zn.create,ro=Vt.create,so=jt.create,io=gt.create,oo=Pn.create,ao=dt.create,lo=ve.create,co=ve.strictCreate,uo=on.create,fo=tr.create,po=an.create,mo=ft.create,ho=ln.create,yo=Fn.create,_o=Rt.create,go=qt.create,bo=Un.create,vo=qn.create,wo=nr.create,ko=zn.create,Ao=Jt.create,Qr=pt.create,Co=lt.create,Eo=Zt.create,So=pt.createWithPreprocess,xo=()=>Fs().optional(),To=()=>Us().optional(),Oo=()=>qs().optional(),No=G;var B=Object.freeze({__proto__:null,getParsedType:At,ZodParsedType:M,defaultErrorMap:sn,setErrorMap:qi,getErrorMap:$n,makeIssue:In,EMPTY_PATH:zi,addIssueToContext:U,ParseStatus:Ue,INVALID:G,DIRTY:Wi,OK:qe,isAborted:_r,isDirty:gr,isValid:jn,isAsync:br,ZodType:te,ZodString:xt,ZodNumber:Lt,ZodBigInt:Mn,ZodBoolean:Ln,ZodDate:Yt,ZodUndefined:Rn,ZodNull:Zn,ZodAny:Vt,ZodUnknown:jt,ZodNever:gt,ZodVoid:Pn,ZodArray:dt,get objectUtil(){return Dn},ZodObject:ve,ZodUnion:on,ZodDiscriminatedUnion:tr,ZodIntersection:an,ZodTuple:ft,ZodRecord:ln,ZodMap:Fn,ZodSet:Rt,ZodFunction:qt,ZodLazy:Un,ZodLiteral:qn,ZodEnum:nr,ZodNativeEnum:zn,ZodPromise:Jt,ZodEffects:pt,ZodTransformer:pt,ZodOptional:lt,ZodNullable:Zt,ZodDefault:Zr,ZodNaN:Wn,BRAND:Ji,ZodBranded:Ps,custom:Ds,Schema:te,ZodSchema:te,late:Ki,get ZodFirstPartyTypeKind(){return K},any:ro,array:ao,bigint:Qi,boolean:qs,date:eo,discriminatedUnion:fo,effect:Qr,enum:wo,function:go,instanceof:Xi,intersection:po,lazy:bo,literal:vo,map:yo,nan:Gi,nativeEnum:ko,never:io,null:no,nullable:Eo,number:Us,object:lo,oboolean:Oo,onumber:To,optional:Co,ostring:xo,preprocess:So,promise:Ao,record:ho,set:_o,strictObject:co,string:Fs,transformer:Qr,tuple:mo,undefined:to,union:uo,unknown:so,void:oo,NEVER:No,ZodIssueCode:$,quotelessJson:Ui,ZodError:_t});const Pr=1,rr=B.object({domain:B.string().trim().min(1,"Domain name can't be empty").refine(t=>!/[A-Z]/.test(t),"Domain name must be lower case").refine(t=>t!=="derivepass",'"derivepass" domain is reserved').refine(t=>!/^(www|\w+:\/\/)/.test(t),"Domain name should not start with `www.`, `http://`, or any `schema://`"),login:B.string().trim().min(1,"Username can't be empty"),revision:B.number().positive("Revision must be a positive number"),allowedChars:B.string().trim().min(1,"Allowed characters can't be empty").refine(Kr,"Allowed characters contain invalid range"),requiredChars:B.string().trim().refine(Kr,"Allowed characters contain invalid range"),passwordLen:B.number().positive()}),Dr=B.object({id:B.string().min(1),version:B.literal(Pr)});Dr.and(rr);const zs=Dr.and(B.object({encrypted:B.string(),modifiedAt:B.number(),removed:B.optional(B.boolean())})),$o=Dr.and(B.object({encrypted:B.string(),removed:B.optional(B.boolean())}));zs.and(B.object({decrypted:B.optional(rr)}));const Io=B.object({host:B.string(),token:B.string(),lastModifiedAt:B.number(),lastSyncedAt:B.number(),localLastModifiedAt:B.number()}),jo=B.object({token:B.string()}),Mo=B.object({objects:B.array(B.object({id:B.string(),data:B.string(),modifiedAt:B.number()}))}),Lo=B.object({modifiedAt:B.number()}),Ro=B.object({uuid:B.string(),changedAt:B.number(),removed:B.boolean(),domain:B.string(),login:B.string(),revision:B.string(),options:B.string()}),Zo=B.object({allowed:B.string().trim(),required:B.string().trim(),maxLength:B.number().or(B.string())}),cn=new TextEncoder,wr=new TextDecoder,Ws=8,Bs=32768,Hs=4,cr=32,Po=16,Do=64,Fo=cn.encode("derivepass/aes"),es=t=>{if(t>=48&&t<=57)return t-48;if(t>=65&&t<=70)return t-65+10;if(t>=97&&t<=102)return t-97+10;throw new Error("Not a hex character, code: "+t)};function kr(t){if(t.length%2!==0)throw new Error(`Invalid hex: "${t}"`);const e=new Uint8Array(t.length/2);for(let n=0;n<t.length;n+=2){const r=es(t.charCodeAt(n)),s=es(t.charCodeAt(n+1));e[n>>1]=r<<4|s}return e}function Ys(t){let e="";for(let n=0;n<t.length;n++){let r=t[n].toString(16);r.length<2&&(r="0"+r),e+=r}return e}function Uo({union:t,passwordLen:e}){return Math.ceil(Math.log2(t.length)*e)}function qo(t,{required:e,passwordLen:n,allowed:r,union:s}){const i=new Uint8Array([...t].reverse());let o=BigInt("0x"+Ys(i));const a=new Set(e);let l="";for(;l.length<n;){let c;a.size===0?c=r:a.size===n-l.length?c=Array.from(a):c=s;const u=BigInt(c.length),f=c[Number(o%u)];o=o/u,a.delete(f),l+=f}return l}const zo=18,yn="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789_.".split("");function Wo(t){if(t.length!==zo)throw new Error("Invalid raw bytes");let e="";for(let n=0;n<t.length;n+=3){const r=t[n],s=t[n+1],i=t[n+2];e+=yn[r>>>2],e+=yn[(r&3)<<4|s>>>4],e+=yn[(s&15)<<2|i>>>6],e+=yn[i&63]}return e}const xn={allowedChars:"a-zA-Z0-9_.",requiredChars:"",passwordLen:24};function Bo({allowedChars:t,requiredChars:e,passwordLen:n}){return t===xn.allowedChars&&e===xn.requiredChars&&n===xn.passwordLen}function Ho({master:t},e){const n=`${e.domain}/${e.login}${e.revision>1?`#${e.revision}`:""}`,r=yr(e.allowedChars),s=yr(e.requiredChars),i=[...new Set([...r,...s])].sort(),o={allowed:r,required:s,union:i,passwordLen:e.passwordLen},a=Math.ceil(Uo(o)/8),l=js(Ws,Bs,Hs,cn.encode(t),cn.encode(n),a);return Bo(e)?Wo(l):qo(l,o)}function Yo(t){const e=js(Ws,Bs,Hs,cn.encode(t),Fo,cr+Do);return{master:t,aes:e.slice(0,cr),hmac:e.slice(cr)}}function Vs({aes:t,hmac:e},n){const r=cn.encode(JSON.stringify(n)),s=new Uint8Array(Po);return window.crypto.getRandomValues(s),Ys(Ri(t,e,s,r))}function Vo({aes:t,hmac:e},n){const r=JSON.parse(wr.decode(Ms(t,e,kr(n))));return rr.parse(r)}function _n({aes:t,hmac:e},n){return n.startsWith("v1:")?wr.decode(Ms(t,e,kr(n.slice(3)))):wr.decode(Zi(t,kr(n)))}const Jo=Ls(),Ar=1e3,Js=60*Ar,Ko=60*Js,Ks="dp:v2:",it=vt();let gn;it.subscribe(t=>{gn!==void 0&&(clearTimeout(gn),gn=void 0),t!==void 0&&(gn=setTimeout(()=>{it.set(void 0)},15*Js))});const Xs="/assets/logo.f23d4d62.svg",Xo="2.0.1",Go="https://github.com/derivepass/derivepass-web#readme";function Qo(t){let e,n;const r=t[2].default,s=Yn(r,t,t[1],null);return{c(){e=N("a"),s&&s.c(),b(e,"href",t[0]),b(e,"target","_blank"),b(e,"rel","noreferrer"),b(e,"class","text-blue-600 hover:underline")},m(i,o){C(i,e,o),s&&s.m(e,null),n=!0},p(i,[o]){s&&s.p&&(!n||o&2)&&Jn(s,r,i,i[1],n?Vn(r,i[1],o,null):Kn(i[1]),null),(!n||o&1)&&b(e,"href",i[0])},i(i){n||(L(s,i),n=!0)},o(i){P(s,i),n=!1},d(i){i&&w(e),s&&s.d(i)}}}function ea(t,e,n){let{$$slots:r={},$$scope:s}=e,{href:i}=e;return t.$$set=o=>{"href"in o&&n(0,i=o.href),"$$scope"in o&&n(1,s=o.$$scope)},[i,s,r]}class Gt extends We{constructor(e){super(),ze(this,e,ea,Qo,Re,{href:0})}}function ta(t){let e;return{c(){e=q("scrypt")},m(n,r){C(n,e,r)},d(n){n&&w(e)}}}function na(t){let e;return{c(){e=q("salt")},m(n,r){C(n,e,r)},d(n){n&&w(e)}}}function ra(t){let e;return{c(){e=q("AES")},m(n,r){C(n,e,r)},d(n){n&&w(e)}}}function sa(t){let e;return{c(){e=q("HMAC-SHA256")},m(n,r){C(n,e,r)},d(n){n&&w(e)}}}function ia(t){let e,n;return{c(){e=q("source code @ "),n=q(Xo)},m(r,s){C(r,e,s),C(r,n,s)},p:X,d(r){r&&w(e),r&&w(n)}}}function oa(t){let e,n,r,s,i,o,a,l,c,u,f,d,m,p,y,v,g,I,R,_,j,k,D,Z,J,Oe,z,ge,me,ke,be,Q,Ie,Ne,x,W,V,de,le,re,Ae,he,Ze,Ce,Se,Pe,Te,we,T,h,O,Y,$e,A,De,Ee,xe;return Q=new Gt({props:{href:"https://en.wikipedia.org/wiki/Scrypt",$$slots:{default:[ta]},$$scope:{ctx:t}}}),le=new Gt({props:{href:"https://en.wikipedia.org/wiki/Salt_(cryptography)",$$slots:{default:[na]},$$scope:{ctx:t}}}),Ce=new Gt({props:{href:"https://en.wikipedia.org/wiki/Advanced_Encryption_Standard",$$slots:{default:[ra]},$$scope:{ctx:t}}}),we=new Gt({props:{href:"https://en.wikipedia.org/wiki/HMAC",$$slots:{default:[sa]},$$scope:{ctx:t}}}),A=new Gt({props:{href:Go,$$slots:{default:[ia]},$$scope:{ctx:t}}}),{c(){e=N("container"),n=N("img"),s=F(),i=N("container"),o=N("h1"),o.textContent="DerivePass",a=F(),l=N("h2"),l.textContent="Compute secure passwords without storing them anywhere.",c=F(),u=N("a"),u.textContent="Start",f=F(),d=N("p"),d.textContent=`Most websites require a password on Sign Up.
  Using the same password everywhere is insecure.
  Using individual secure passwords and remembering all of them - impossible!`,m=F(),p=N("p"),p.innerHTML=`<b>DerivePass</b> is here to help with the task!
  Choose the Master Password once and use it to generate an <b>unlimited</b>
  number of secure website passwords.`,y=F(),v=N("p"),v.innerHTML=`Unlike traditional password managers, <b>DerivePass</b> never uploads
  neither the Master Password or website passwords to the cloud. The only
  information that is stored is <b>encrypted</b> website domain names and
  usernames.`,g=F(),I=N("hr"),R=F(),_=N("h3"),_.textContent="Privacy",j=F(),k=N("p"),k.innerHTML=`Your privacy is important to us. Your data is stored only locally
  <b>on your computer</b>, by default, unless you manually decide to use
  remote storage (e.g., iCloud). We <b>never</b> store unencrypted website
  domain names, usernames, or passwords. <b>No tracking</b> of any kind is
  used on this website.`,D=F(),Z=N("hr"),J=F(),Oe=N("h3"),Oe.textContent="Security",z=F(),ge=N("h4"),ge.textContent="(Technical Details)",me=F(),ke=N("p"),be=q(`The
  `),ue(Q.$$.fragment),Ie=q(`
  algorithm is used for deriving application passwords and
  encryption/authentication keys. Due to the strong cryptographic properties
  of scrypt, the compromise of any single application password does not
  compromise any other application passwords or the Master password.`),Ne=F(),x=N("p"),W=q(`An application's domain name (website), username, and revision are used for
  generating unique and secure passwords. In particular,
  `),V=N("code"),V.textContent="domain/username(#revision)",de=q(`
  is used as a
  `),ue(le.$$.fragment),re=q(`
  parameter of scrypt. Thus every revision increment will result in a
  completely different generated password. This is convenient for changing the
  password whenever it is required.`),Ae=F(),he=N("p"),Ze=q(`Every bit of information that is stored locally and/or remotely (through
  optional iCloud synchronization) is encrypted with an
  `),ue(Ce.$$.fragment),Se=q(`
  key generated from the Master Password via the scrypt algorithm, using
  `),Pe=N("code"),Pe.textContent="derivepass/aes",Te=q(`
  as a salt. The data is further passed to the
  `),ue(we.$$.fragment),T=q(`
  algorithm to ensure the data integrity.`),h=F(),O=N("footer"),Y=N("p"),Y.textContent=`Copyright ${t[0]}, Fedor Indutny`,$e=F(),ue(A.$$.fragment),ks(n.src,r=Xs)||b(n,"src",r),b(n,"alt","Big Logotype"),b(n,"class","grow max-w-xs lg:max-w-full"),b(o,"class","text-4xl font-semibold mb-4"),b(l,"class","text-xl mb-4"),b(u,"href","/login"),b(u,"class","inline-block px-4 py-2 rounded bg-blue-500 hover:bg-blue-600 text-white text-xl"),b(i,"class","grow basis-96 mb-4"),b(e,"class","flex flex-row-reverse flex-wrap justify-center items-center text-center sm:text-start"),b(d,"class","my-2"),b(p,"class","my-2"),b(v,"class","my-2"),b(I,"class","my-4"),b(_,"class","my-4 text-3xl text-semibold"),b(Z,"class","my-4"),b(Oe,"class","my-4 text-3xl text-semibold"),b(ge,"class","my-2 text-lg"),b(ke,"class","my-2"),b(V,"class","border border-slate-200 bg-slate-100 px-1"),b(x,"class","my-2"),b(Pe,"class","border border-slate-200 bg-slate-100 px-1"),b(he,"class","my-2"),b(O,"class","text-xs text-right")},m(S,H){C(S,e,H),E(e,n),E(e,s),E(e,i),E(i,o),E(i,a),E(i,l),E(i,c),E(i,u),C(S,f,H),C(S,d,H),C(S,m,H),C(S,p,H),C(S,y,H),C(S,v,H),C(S,g,H),C(S,I,H),C(S,R,H),C(S,_,H),C(S,j,H),C(S,k,H),C(S,D,H),C(S,Z,H),C(S,J,H),C(S,Oe,H),C(S,z,H),C(S,ge,H),C(S,me,H),C(S,ke,H),E(ke,be),oe(Q,ke,null),E(ke,Ie),C(S,Ne,H),C(S,x,H),E(x,W),E(x,V),E(x,de),oe(le,x,null),E(x,re),C(S,Ae,H),C(S,he,H),E(he,Ze),oe(Ce,he,null),E(he,Se),E(he,Pe),E(he,Te),oe(we,he,null),E(he,T),C(S,h,H),C(S,O,H),E(O,Y),E(O,$e),oe(A,O,null),De=!0,Ee||(xe=Ht(Rr.call(null,u)),Ee=!0)},p(S,[H]){const Qe={};H&2&&(Qe.$$scope={dirty:H,ctx:S}),Q.$set(Qe);const fn={};H&2&&(fn.$$scope={dirty:H,ctx:S}),le.$set(fn);const ye={};H&2&&(ye.$$scope={dirty:H,ctx:S}),Ce.$set(ye);const fe={};H&2&&(fe.$$scope={dirty:H,ctx:S}),we.$set(fe);const je={};H&2&&(je.$$scope={dirty:H,ctx:S}),A.$set(je)},i(S){De||(L(Q.$$.fragment,S),L(le.$$.fragment,S),L(Ce.$$.fragment,S),L(we.$$.fragment,S),L(A.$$.fragment,S),De=!0)},o(S){P(Q.$$.fragment,S),P(le.$$.fragment,S),P(Ce.$$.fragment,S),P(we.$$.fragment,S),P(A.$$.fragment,S),De=!1},d(S){S&&w(e),S&&w(f),S&&w(d),S&&w(m),S&&w(p),S&&w(y),S&&w(v),S&&w(g),S&&w(I),S&&w(R),S&&w(_),S&&w(j),S&&w(k),S&&w(D),S&&w(Z),S&&w(J),S&&w(Oe),S&&w(z),S&&w(ge),S&&w(me),S&&w(ke),ae(Q),S&&w(Ne),S&&w(x),ae(le),S&&w(Ae),S&&w(he),ae(Ce),ae(we),S&&w(h),S&&w(O),ae(A),Ee=!1,xe()}}}function aa(t){return[new Date().getFullYear()]}class ur extends We{constructor(e){super(),ze(this,e,aa,oa,Re,{})}}const Gs={},Qs={};function la(t,e){return Object.keys(t).some(r=>e(t[r]))}function sr(t,e){return Object.keys(t||{}).reduce((r,s)=>Object.assign(Object.assign({},r),{[s]:e(t[s])}),{})}function se(t){return Object.prototype.toString.call(t)==="[object Object]"}function He(t){return Object.keys(t||{}).reduce((e,n)=>Object.assign(Object.assign({},e),{[n]:se(t[n])?He(t[n]):Array.isArray(t[n])?[...t[n]]:t[n]}),{})}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function ca(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function ua(t){return function(e){if(se(e)){const n=Ye(e,t);return ca(n,["key"])}return t}}function Ye(t,e){return sr(t,n=>se(n)?Ye(n,e):Array.isArray(n)?n.map(ua(e)):e)}function Et(...t){const e=t.pop(),n=t.shift();if(typeof n=="string")return n;const r=He(n);if(t.length===0)return r;for(const s of t){if(!s)continue;if(typeof s=="string")return s;let i=e(r,s);if(typeof i<"u")return i;const o=Array.from(new Set(Object.keys(r).concat(Object.keys(s))));for(const a of o)if(i=e(r[a],s[a]),typeof i<"u")r[a]=i;else if(se(s[a])&&se(r[a]))r[a]=Et(r[a],s[a],e);else if(Array.isArray(s[a]))r[a]=s[a].map((l,c)=>{if(!se(l))return l;const u=Array.isArray(r[a])?r[a][c]:r[a];return Et(u,l,e)});else if(se(s[a])){const l=Ye(He(s[a]),void 0);r[a]=Et(l,s[a],e)}else typeof s[a]<"u"&&(r[a]=s[a])}return r}function da(t,e){if(!(se(t)&&se(e))){if(Array.isArray(e)){if(e.some(se))return;const n=Array.isArray(t)?t:[];return e.map((r,s)=>{var i;return(i=n[s])!==null&&i!==void 0?i:r})}if(typeof t<"u")return t}}function ts(...t){return Et(...t,da)}function ei(...t){return Et(...t,()=>{})}function ct(t,e,n){const r=i=>String.prototype.split.call(e,i).filter(Boolean).reduce((o,a)=>o!=null?o[a]:o,t),s=r(/[,[\]]+?/)||r(/[,[\].]+?/);return s===void 0||s===t?n:s}function Kt(t,e,n){t&&(t=He(t)),se(t)||(t={});const r=Array.isArray(e)?e:e.match(/[^.[\]]+/g)||[],s=r[r.length-1];if(!s)return t;let i=t;for(let o=0;o<r.length-1;o++){const a=r[o];if(!i[a]||!se(i[a])&&!Array.isArray(i[a])){const l=r[o+1];isNaN(Number(l))?i[a]={}:i[a]=[]}i=i[a]}return i[s]=n(i[s]),t}function _e(t,e,n){return Kt(t,e,()=>n)}function en(t,e){if(!t||Object(t)!==t)return;typeof t<"u"&&(t=He(t));const n=Array.isArray(e)?e:e.toString().match(/[^.[\]]+/g)||[],r=n.length===1?t:ct(t,n.slice(0,-1).join("."));return Array.isArray(r)?r.splice(Number(n[n.length-1]),1):r==null||delete r[n[n.length-1]],t}function un(t,e){return la(t,n=>se(n)?un(n,e):Array.isArray(n)?n.length===0||n.every(r=>typeof r=="string")?e(n):n.some(r=>se(r)?un(r,e):e(r)):e(n))}function zt(t){var e;return((e=t)===null||e===void 0?void 0:e.nodeName)==="INPUT"}function fa(t){var e;return((e=t)===null||e===void 0?void 0:e.nodeName)==="TEXTAREA"}function Wt(t){var e;return((e=t)===null||e===void 0?void 0:e.nodeName)==="SELECT"}function ir(t){var e;return((e=t)===null||e===void 0?void 0:e.nodeName)==="FIELDSET"}function Le(t){return zt(t)||fa(t)||Wt(t)}function ns(t){return t.nodeType===Node.ELEMENT_NODE}function Me(t,e){return e!=null?e:Le(t)?t.name:""}function dr(t){let e=t;for(;e&&e.nodeName!=="FORM";){if(e.hasAttribute("data-felte-ignore"))return!0;e=e.parentElement}return!1}function pa(t,e){if(!(se(t)||se(e))){if(t===null||t==="")return e;if(e===null||e===""||!e)return t;if(!(!t||!e)){if(Array.isArray(t)){if(!Array.isArray(e))return[...t,e];const n=[],r=Math.max(e.length,t.length);for(let s=0;s<r;s++){let i=t[s],o=e[s];!se(i)&&!se(o)?(Array.isArray(i)||(i=[i]),Array.isArray(o)||(o=[o]),n.push(...i,...o)):n.push(Ft([i!=null?i:{},o!=null?o:{}]))}return n.filter(Boolean)}return Array.isArray(e)||(e=[e]),[t,...e].reduce((n,r)=>n.concat(r),[]).filter(Boolean)}}}function Ft(t){return Et(...t,pa)}function ma(t,e){return e?(Array.isArray(e)?e:[e]).map(r=>r(t)):[]}function Cr(t,e){return e?Array.isArray(e)?e.reduce((n,r)=>r(n),t):e(t):t}function Fr(t=8){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";let n="";for(let r=0;r<t;r++)n+=e.charAt(Math.floor(Math.random()*e.length));return n}function Bn(t,e,{onInit:n,onEnd:r}={}){let s;return(...i)=>{s||n==null||n(),s&&clearTimeout(s),s=setTimeout(()=>{t.apply(this,i),s=void 0,r==null||r()},e)}}function Er(t){if(Le(t))return[t];if(t.childElementCount===0)return[];const e=new Set;for(const n of t.children){if(Le(n)&&e.add(n),ir(n))for(const r of n.elements)Le(r)&&e.add(r);n.childElementCount>0&&Er(n).forEach(r=>e.add(r))}return Array.from(e)}function ti(t){for(const e of t.elements)!Le(e)&&!ir(e)||t.hasAttribute("data-felte-keep-on-remove")&&!e.hasAttribute("data-felte-keep-on-remove")&&(e.dataset.felteKeepOnRemove=t.dataset.felteKeepOnRemove)}function ni(t){return t.type.match(/^(number|range)$/)?t.value?+t.value:void 0:t.value}function rs(t){var e;let n={},r={};for(const s of t.elements){if(ir(s)&&ti(s),!Le(s)||!s.name)continue;const i=Me(s);if(zt(s)){if(s.type==="checkbox"){if(typeof ct(n,i)>"u"){if(Array.from(t.querySelectorAll(`[name="${s.name}"]`)).filter(l=>Le(l)?i===Me(l):!1).length===1){n=_e(n,i,s.checked),r=_e(r,i,!1);continue}n=_e(n,i,s.checked?[s.value]:[]),r=_e(r,i,!1);continue}Array.isArray(ct(n,i))&&s.checked&&(n=Kt(n,i,a=>[...a,s.value]));continue}if(s.type==="radio"){if(ct(n,i))continue;n=_e(n,i,s.checked?s.value:void 0),r=_e(r,i,!1);continue}if(s.type==="file"){n=_e(n,i,s.multiple?Array.from(s.files||[]):(e=s.files)===null||e===void 0?void 0:e[0]),r=_e(r,i,!1);continue}}else if(Wt(s)){if(!s.multiple)n=_e(n,i,s.value);else{const l=Array.from(s.options).filter(c=>c.selected).map(c=>c.value);n=_e(n,i,l)}r=_e(r,i,!1);continue}const o=ni(s);n=_e(n,i,o),r=_e(r,i,!1)}return{defaultData:n,defaultTouched:r}}function ha(t,e){var n;if(!Le(t))return;const r=e;if(zt(t)){if(t.type==="checkbox"){const s=r;if(typeof s>"u"||typeof s=="boolean"){t.checked=!!s;return}Array.isArray(s)&&(s.includes(t.value)?t.checked=!0:t.checked=!1);return}if(t.type==="radio"){const s=r;t.value===s?t.checked=!0:t.checked=!1;return}if(t.type==="file"){t.files=null,t.value="";return}}else if(Wt(t)){if(t.multiple){if(Array.isArray(r)){t.value=String((n=r[0])!==null&&n!==void 0?n:"");const i=r.map(o=>String(o));for(const o of t.options)i.includes(o.value)?o.selected=!0:o.selected=!1}}else{t.value=String(r!=null?r:"");for(const i of t.options)i.value===String(r)?i.selected=!0:i.selected=!1}return}t.value=String(r!=null?r:"")}function bn(t,e){for(const n of t.elements){if(ir(n)&&ti(n),!Le(n)||!n.name)continue;const r=Me(n);ha(n,ct(e,r))}}function ss(t){const e=t.config;if(t.stage==="SETUP"){if(!e.__felteReporterSvelteId){const n=Fr(21);e.__felteReporterSvelteId=n,Gs[n]=t.errors,Qs[n]=t.warnings}return{}}return t.form.hasAttribute("data-felte-reporter-svelte-id")||(t.form.dataset.felteReporterSvelteId=e.__felteReporterSvelteId),{onSubmitError(){const n=t&&t.form.querySelector('[aria-invalid="true"]:not([type="hidden"])');n&&n.focus()}}}function ya(t){return!t||"preventFocusOnError"in t?e=>ss(e):ss(t)}const _a=t=>({messages:t&4}),is=t=>({messages:t[2]}),ga=t=>({messages:t&4}),os=t=>({messages:t[2]});function ba(t){let e;const n=t[9].placeholder,r=Yn(n,t,t[8],is);return{c(){r&&r.c()},m(s,i){r&&r.m(s,i),e=!0},p(s,i){r&&r.p&&(!e||i&260)&&Jn(r,n,s,s[8],e?Vn(n,s[8],i,_a):Kn(s[8]),is)},i(s){e||(L(r,s),e=!0)},o(s){P(r,s),e=!1},d(s){r&&r.d(s)}}}function va(t){let e;const n=t[9].default,r=Yn(n,t,t[8],os);return{c(){r&&r.c()},m(s,i){r&&r.m(s,i),e=!0},p(s,i){r&&r.p&&(!e||i&260)&&Jn(r,n,s,s[8],e?Vn(n,s[8],i,ga):Kn(s[8]),os)},i(s){e||(L(r,s),e=!0)},o(s){P(r,s),e=!1},d(s){r&&r.d(s)}}}function wa(t){let e,n,r,s,i,o;const a=[va,ba],l=[];function c(u,f){return!u[3].placeholder||u[2]?0:1}return r=c(t),s=l[r]=a[r](t),{c(){e=N("div"),n=F(),s.c(),i=Tt(),Cs(e,"display","none")},m(u,f){C(u,e,f),t[10](e),C(u,n,f),l[r].m(u,f),C(u,i,f),o=!0},p(u,[f]){let d=r;r=c(u),r===d?l[r].p(u,f):(Ke(),P(l[d],1,1,()=>{l[d]=null}),Xe(),s=l[r],s?s.p(u,f):(s=l[r]=a[r](u),s.c()),L(s,1),s.m(i.parentNode,i))},i(u){o||(L(s),o=!0)},o(u){P(s),o=!1},d(u){u&&w(e),t[10](null),u&&w(n),l[r].d(u),u&&w(i)}}}function ka(t,e,n){let r,s,i=X,o=()=>(i(),i=$r(d,g=>n(7,s=g)),d);t.$$.on_destroy.push(()=>i());let{$$slots:a={},$$scope:l}=e;const c=yi(a);let{level:u="error"}=e,{for:f}=e,d,m,p;function y(){return p.closest("form")}bi(()=>{n(6,m=Me(p,f));const I=y();o(I?u==="error"?n(0,d=Gs[I.dataset.felteReporterSvelteId]):n(0,d=Qs[I.dataset.felteReporterSvelteId]):n(0,d=vt({})))});function v(g){Nn[g?"unshift":"push"](()=>{p=g,n(1,p)})}return t.$$set=g=>{"level"in g&&n(4,u=g.level),"for"in g&&n(5,f=g.for),"$$scope"in g&&n(8,l=g.$$scope)},t.$$.update=()=>{t.$$.dirty&192&&n(2,r=m&&ct(s,m))},[d,p,r,c,u,f,m,s,l,a,v]}class Aa extends We{constructor(e){super(),ze(this,e,ka,wa,Re,{level:4,for:5})}}const Ca=Aa;function as(t){let e,n,r;return{c(){e=N("p"),n=N("small"),r=q(t[4]),b(e,"class","text-gray-500")},m(s,i){C(s,e,i),E(e,n),E(n,r)},p(s,i){i&16&&st(r,s[4])},d(s){s&&w(e)}}}function ls(t){let e,n;return e=new Ca({props:{for:t[1],$$slots:{placeholder:[Sa,({messages:r})=>({9:r}),({messages:r})=>r?512:0],default:[Ea,({messages:r})=>({9:r}),({messages:r})=>r?512:0]},$$scope:{ctx:t}}}),{c(){ue(e.$$.fragment)},m(r,s){oe(e,r,s),n=!0},p(r,s){const i={};s&2&&(i.for=r[1]),s&1536&&(i.$$scope={dirty:s,ctx:r}),e.$set(i)},i(r){n||(L(e.$$.fragment,r),n=!0)},o(r){P(e.$$.fragment,r),n=!1},d(r){ae(e,r)}}}function Ea(t){let e,n=t[9]+"",r;return{c(){e=N("p"),r=q(n),b(e,"class","text-red-500 my-2")},m(s,i){C(s,e,i),E(e,r)},p(s,i){i&512&&n!==(n=s[9]+"")&&st(r,n)},d(s){s&&w(e)}}}function Sa(t){let e;return{c(){e=N("span"),b(e,"slot","placeholder")},m(n,r){C(n,e,r)},p:X,d(n){n&&w(e)}}}function xa(t){let e,n,r,s,i,o,a,l,c,u,f,d=t[4]&&as(t),m=t[1]!==void 0&&ls(t);return{c(){e=N("section"),n=N("label"),r=N("p"),s=q(t[3]),i=F(),o=N("input"),a=F(),d&&d.c(),l=F(),m&&m.c(),b(r,"class","mb-2"),b(o,"class","w-full p-2 rounded border outline-2 aria-[invalid]:outline aria-[invalid]:outline-red-500"),b(o,"name",t[1]),b(o,"type",t[2]),b(o,"autocomplete","off"),b(o,"autocorrect","off"),b(o,"autocapitalize","none"),o.required=t[5],o.disabled=t[6],b(o,"aria-required",t[5]),b(o,"placeholder",t[7]),o.value=t[0],b(e,"class","mb-2")},m(p,y){C(p,e,y),E(e,n),E(n,r),E(r,s),E(n,i),E(n,o),E(e,a),d&&d.m(e,null),E(e,l),m&&m.m(e,null),c=!0,u||(f=Je(o,"input",t[8]),u=!0)},p(p,[y]){(!c||y&8)&&st(s,p[3]),(!c||y&2)&&b(o,"name",p[1]),(!c||y&4)&&b(o,"type",p[2]),(!c||y&32)&&(o.required=p[5]),(!c||y&64)&&(o.disabled=p[6]),(!c||y&32)&&b(o,"aria-required",p[5]),(!c||y&128)&&b(o,"placeholder",p[7]),(!c||y&1&&o.value!==p[0])&&(o.value=p[0]),p[4]?d?d.p(p,y):(d=as(p),d.c(),d.m(e,l)):d&&(d.d(1),d=null),p[1]!==void 0?m?(m.p(p,y),y&2&&L(m,1)):(m=ls(p),m.c(),L(m,1),m.m(e,null)):m&&(Ke(),P(m,1,1,()=>{m=null}),Xe())},i(p){c||(L(m),c=!0)},o(p){P(m),c=!1},d(p){p&&w(e),d&&d.d(),m&&m.d(),u=!1,f()}}}function Ta(t,e,n){let{name:r=void 0}=e,{type:s="text"}=e,{label:i}=e,{hint:o=void 0}=e,{required:a=!1}=e,{disabled:l=!1}=e,{placeholder:c=void 0}=e,{value:u=void 0}=e;function f(d){s==="number"?n(0,u=parseInt(d.currentTarget.value,10)):n(0,u=d.currentTarget.value)}return t.$$set=d=>{"name"in d&&n(1,r=d.name),"type"in d&&n(2,s=d.type),"label"in d&&n(3,i=d.label),"hint"in d&&n(4,o=d.hint),"required"in d&&n(5,a=d.required),"disabled"in d&&n(6,l=d.disabled),"placeholder"in d&&n(7,c=d.placeholder),"value"in d&&n(0,u=d.value)},[u,r,s,i,o,a,l,c,f]}class ot extends We{constructor(e){super(),ze(this,e,Ta,xa,Re,{name:1,type:2,label:3,hint:4,required:5,disabled:6,placeholder:7,value:0})}}function Oa(t){let e,n;return{c(){e=Wr("svg"),n=Wr("path"),b(n,"d","M4.233 0a4.233 4.233 0 0 0-2.986 1.247l.742.742a3.175 3.175 0 0 1 2.244-.93 3.175 3.175 0 0 1 2.245.93l.748-.748A4.233 4.233 0 0 0 4.233 0Z"),Cs(n,"fill","white"),b(e,"xmlns","http://www.w3.org/2000/svg"),b(e,"class","inline-block animate-spin"),b(e,"width",t[0]),b(e,"height",t[0]),b(e,"viewBox","0 0 8.467 8.467")},m(r,s){C(r,e,s),E(e,n)},p(r,[s]){s&1&&b(e,"width",r[0]),s&1&&b(e,"height",r[0])},i:X,o:X,d(r){r&&w(e)}}}function Na(t,e,n){let{size:r=16}=e;return t.$$set=s=>{"size"in s&&n(0,r=s.size)},[r]}class ri extends We{constructor(e){super(),ze(this,e,Na,Oa,Re,{size:0})}}function $a(t){let e;return{c(){e=q("Decrypt Storage")},m(n,r){C(n,e,r)},i:X,o:X,d(n){n&&w(e)}}}function Ia(t){let e,n,r;return e=new ri({}),{c(){ue(e.$$.fragment),n=q(`
      Decrypting Storage`)},m(s,i){oe(e,s,i),C(s,n,i),r=!0},i(s){r||(L(e.$$.fragment,s),r=!0)},o(s){P(e.$$.fragment,s),r=!1},d(s){ae(e,s),s&&w(n)}}}function ja(t){let e,n,r,s,i,o,a,l,c,u,f;function d(g){t[3](g)}let m={type:"password",label:"Enter your Master Password",hint:"Used for decrypting storage and computing passwords",disabled:t[1]};t[0]!==void 0&&(m.value=t[0]),n=new ot({props:m}),Nn.push(()=>xi(n,"value",d));const p=[Ia,$a],y=[];function v(g,I){return g[1]?0:1}return o=v(t),a=y[o]=p[o](t),{c(){e=N("form"),ue(n.$$.fragment),s=F(),i=N("button"),a.c(),b(i,"class","px-4 py-2 rounded bg-blue-500 hover:bg-blue-600 text-white disabled:bg-blue-400 flex gap-2 items-center"),b(i,"type","submit"),i.disabled=l=!t[0]||t[1],b(e,"autocomplete","off")},m(g,I){C(g,e,I),oe(n,e,null),E(e,s),E(e,i),y[o].m(i,null),c=!0,u||(f=Je(e,"submit",tt(t[2])),u=!0)},p(g,[I]){const R={};I&2&&(R.disabled=g[1]),!r&&I&1&&(r=!0,R.value=g[0],wi(()=>r=!1)),n.$set(R);let _=o;o=v(g),o!==_&&(Ke(),P(y[_],1,1,()=>{y[_]=null}),Xe(),a=y[o],a||(a=y[o]=p[o](g),a.c()),L(a,1),a.m(i,null)),(!c||I&3&&l!==(l=!g[0]||g[1]))&&(i.disabled=l)},i(g){c||(L(n.$$.fragment,g),L(a),c=!0)},o(g){P(n.$$.fragment,g),P(a),c=!1},d(g){g&&w(e),ae(n),y[o].d(),u=!1,f()}}}function Ma(t,e,n){let r;nt(t,it,l=>n(4,r=l));let s="",i=!1;function o(){n(1,i=!0),setTimeout(()=>{n(1,i=!1),Ir(it,r=Yo(s),r),Ut("/applications")},0)}function a(l){s=l,n(0,s)}return[s,i,o,a]}class La extends We{constructor(e){super(),ze(this,e,Ma,ja,Re,{})}}function Ra(t,e,n){let r;return nt(t,it,s=>n(0,r=s)),Ir(it,r=void 0,r),Qn("/login"),[]}class Za extends We{constructor(e){super(),ze(this,e,Ra,null,Re,{})}}function Pa(t,...e){const n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function Ct(t){let e;return Pa(t,n=>e=n)(),e}class Da extends Error{constructor(e,n){super(e),this.name="FelteSubmitError",this.response=n}}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function si(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function ht(t,e){return sr(t,n=>se(n)?ht(n,e):Array.isArray(n)?n.length===0||n.every(r=>typeof r=="string")?e:n.map(r=>{const s=ht(r,e);return si(s,["key"])}):e)}function bt(t){return t?sr(t,e=>se(e)?bt(e):Array.isArray(e)?e.length===0||e.every(n=>typeof n=="string")?e:e.map(n=>{if(!se(n))return n;const r=bt(n);return r.key||(r.key=Fr()),r}):e):{}}function tn(t){return t?sr(t,e=>se(e)?bt(e):Array.isArray(e)?e.length===0||e.every(n=>typeof n=="string")?e:e.map(n=>{if(!se(n))return n;const r=bt(n);return si(r,["key"])}):e):{}}function Fa(){class t extends CustomEvent{constructor(s){super("feltesuccess",{detail:s})}}class e extends CustomEvent{constructor(s){super("felteerror",{detail:s,cancelable:!0})}setErrors(s){this.preventDefault(),this.errors=s}}class n extends Event{constructor(){super("feltesubmit",{cancelable:!0})}handleSubmit(s){this.onSubmit=s}handleError(s){this.onError=s}handleSuccess(s){this.onSuccess=s}}return{createErrorEvent:r=>new e(r),createSubmitEvent:()=>new n,createSuccessEvent:r=>new t(r)}}function Ua(t){if(!!t)return async function(){let n=new FormData(t);const r=new URL(t.action),s=t.method.toLowerCase()==="get"?"get":r.searchParams.get("_method")||t.method;let i=t.enctype;t.querySelector('input[type="file"]')&&(i="multipart/form-data"),(s==="get"||i==="application/x-www-form-urlencoded")&&(n=new URLSearchParams(n));let o;s==="get"?(n.forEach((l,c)=>{r.searchParams.append(c,l)}),o={method:s,headers:{Accept:"application/json"}}):o={method:s,body:n,headers:Object.assign(Object.assign({},i!=="multipart/form-data"&&{"Content-Type":i}),{Accept:"application/json"})};const a=await window.fetch(r.toString(),o);if(a.ok)return a;throw new Da("An error occurred while submitting the form",a)}}function vn(t,e,n,r){return Kt(t,e,s=>(typeof s<"u"&&!Array.isArray(s)||(s||(s=[]),typeof r>"u"?s.push(n):s.splice(r,0,n)),s))}function qa(t,e,n,r){return Kt(t,e,s=>(!s||!Array.isArray(s)||([s[n],s[r]]=[s[r],s[n]]),s))}function za(t,e,n,r){return Kt(t,e,s=>(!s||!Array.isArray(s)||s.splice(r,0,s.splice(n,1)[0]),s))}function cs(t){return typeof t=="function"}function kt(t){return(n,r)=>{if(typeof n=="string"){const s=n;t(i=>{const o=cs(r)?r(ct(i,s)):r;return _e(i,s,o)})}else t(s=>cs(n)?n(s):n)}}function Wa({stores:t,config:e,validateErrors:n,validateWarnings:r,_getCurrentExtenders:s}){var i;let o,a=bt((i=e.initialValues)!==null&&i!==void 0?i:{});const{data:l,touched:c,errors:u,warnings:f,isDirty:d,isSubmitting:m,interacted:p}=t,y=kt(l.update),v=kt(c.update),g=kt(u.update),I=kt(f.update);function R(x){y(W=>{const V=x(W);return o&&bn(o,V),V})}const _=(x,W,V)=>{kt(R)(x,W),typeof x=="string"&&V&&v(x,!0)};function j(x,W,V){const de=se(W)?ht(W,!1):!1,le=se(de)?Ye(de,[]):[];W=se(W)?Object.assign(Object.assign({},W),{key:Fr()}):W,u.update(re=>vn(re,x,le,V)),f.update(re=>vn(re,x,le,V)),c.update(re=>vn(re,x,de,V)),l.update(re=>{const Ae=vn(re,x,W,V);return setTimeout(()=>o&&bn(o,Ae)),Ae})}function k(x){u.update(x),f.update(x),c.update(x),l.update(W=>{const V=x(W);return setTimeout(()=>o&&bn(o,V)),V})}function D(x){k(W=>en(W,x))}function Z(x,W,V){k(de=>qa(de,x,W,V))}function J(x,W,V){k(de=>za(de,x,W,V))}function Oe(x){const W=ct(a,x),V=se(W)?ht(W,!1):!1,de=se(V)?Ye(V,[]):[];l.update(le=>{const re=_e(le,x,W);return o&&bn(o,re),re}),c.update(le=>_e(le,x,V)),u.update(le=>_e(le,x,de)),f.update(le=>_e(le,x,de))}const z=kt(m.update),ge=kt(d.update),me=kt(p.update);async function ke(){const x=Ct(l);c.set(ht(x,!0)),p.set(null);const W=await n(x);return await r(x),W}function be(){_(He(a)),v(x=>Ye(x,!1)),p.set(null),d.set(!1)}function Q(x){return async function(V){var de,le,re,Ae,he,Ze,Ce;const{createErrorEvent:Se,createSubmitEvent:Pe,createSuccessEvent:Te}=Fa(),we=Pe();o==null||o.dispatchEvent(we);const T=(le=(de=we.onError)!==null&&de!==void 0?de:x==null?void 0:x.onError)!==null&&le!==void 0?le:e.onError,h=(Ae=(re=we.onSuccess)!==null&&re!==void 0?re:x==null?void 0:x.onSuccess)!==null&&Ae!==void 0?Ae:e.onSuccess,O=(Ce=(Ze=(he=we.onSubmit)!==null&&he!==void 0?he:x==null?void 0:x.onSubmit)!==null&&Ze!==void 0?Ze:e.onSubmit)!==null&&Ce!==void 0?Ce:Ua(o);if(!O||(V==null||V.preventDefault(),we.defaultPrevented))return;m.set(!0),p.set(null);const Y=tn(Ct(l)),$e=await n(Y,x==null?void 0:x.validate),A=await r(Y,x==null?void 0:x.warn);if(A&&f.set(ei(Ye(Y,[]),A)),c.set(ht(Y,!0)),$e&&(c.set(ht($e,!0)),un($e,xe=>Array.isArray(xe)?xe.length>=1:!!xe))){await new Promise(xe=>setTimeout(xe)),s().forEach(xe=>{var S;return(S=xe.onSubmitError)===null||S===void 0?void 0:S.call(xe,{data:Y,errors:$e})}),m.set(!1);return}const De={setFields:_,setData:y,setTouched:v,setErrors:g,setWarnings:I,unsetField:D,addField:j,resetField:Oe,reset:be,setInitialValues:Ie.setInitialValues,moveField:J,swapFields:Z,form:o,controls:o&&Array.from(o.elements).filter(Le),config:Object.assign(Object.assign({},e),x)};try{const Ee=await O(Y,De);o==null||o.dispatchEvent(Te(Object.assign({response:Ee},De))),await(h==null?void 0:h(Ee,De))}catch(Ee){const xe=Se(Object.assign({error:Ee},De));if(o==null||o.dispatchEvent(xe),!T&&!xe.defaultPrevented)throw Ee;if(!T&&!xe.errors)return;const S=xe.errors||await(T==null?void 0:T(Ee,De));S&&(c.set(ht(S,!0)),u.set(S),await new Promise(H=>setTimeout(H)),s().forEach(H=>{var Qe;return(Qe=H.onSubmitError)===null||Qe===void 0?void 0:Qe.call(H,{data:Y,errors:Ct(u)})}))}finally{m.set(!1)}}}const Ie={setData:y,setFields:_,setTouched:v,setErrors:g,setWarnings:I,setIsSubmitting:z,setIsDirty:ge,setInteracted:me,validate:ke,reset:be,unsetField:D,resetField:Oe,addField:j,swapFields:Z,moveField:J,createSubmitHandler:Q,handleSubmit:Q(),setInitialValues:x=>{a=bt(x)}};return{public:Ie,private:{_setFormNode(x){o=x},_getInitialValues:()=>a}}}function Ba({helpers:t,stores:e,config:n,extender:r,createSubmitHandler:s,handleSubmit:i,_setFormNode:o,_getInitialValues:a,_setCurrentExtenders:l,_getCurrentExtenders:c}){const{setFields:u,setTouched:f,reset:d,setInitialValues:m}=t,{addValidator:p,addTransformer:y,validate:v}=t,{data:g,errors:I,warnings:R,touched:_,isSubmitting:j,isDirty:k,interacted:D,isValid:Z,isValidating:J}=e;function Oe(z){z.requestSubmit||(z.requestSubmit=i);function ge(T){return function(h){return h({form:z,stage:T,controls:Array.from(z.elements).filter(Le),data:g,errors:I,warnings:R,touched:_,isValid:Z,isValidating:J,isSubmitting:j,isDirty:k,interacted:D,config:n,addValidator:p,addTransformer:y,setFields:u,validate:v,reset:d,createSubmitHandler:s,handleSubmit:i})}}l(r.map(ge("MOUNT"))),z.noValidate=!!n.validate;const{defaultData:me,defaultTouched:ke}=rs(z);o(z),m(ei(He(me),a())),u(a()),_.set(ke);function be(T){const h=Me(T),O=Array.from(z.querySelectorAll(`[name="${T.name}"]`)).filter(Y=>Le(Y)?h===Me(Y):!1);if(O.length!==0)return O.length===1?g.update(Y=>_e(Y,Me(T),T.checked)):g.update(Y=>_e(Y,Me(T),O.filter(zt).filter($e=>$e.checked).map($e=>$e.value)))}function Q(T){const h=z.querySelectorAll(`[name="${T.name}"]`),O=Array.from(h).find(Y=>zt(Y)&&Y.checked);g.update(Y=>_e(Y,Me(T),O==null?void 0:O.value))}function Ie(T){var h;const O=Array.from((h=T.files)!==null&&h!==void 0?h:[]);g.update(Y=>_e(Y,Me(T),T.multiple?O:O[0]))}function Ne(T){if(!T.multiple)g.update(h=>_e(h,Me(T),T.value));else{const h=Array.from(T.options).filter(O=>O.selected).map(O=>O.value);g.update(O=>_e(O,Me(T),h))}}function x(T){const h=T.target;if(!h||!Le(h)||Wt(h)||dr(h)||["checkbox","radio","file"].includes(h.type)||!h.name)return;k.set(!0);const O=ni(h);D.set(h.name),g.update(Y=>_e(Y,Me(h),O))}function W(T){const h=T.target;if(!(!h||!Le(h)||dr(h))&&!!h.name)if(f(Me(h),!0),D.set(h.name),(Wt(h)||["checkbox","radio","file","hidden"].includes(h.type))&&k.set(!0),h.type==="hidden"&&g.update(O=>_e(O,Me(h),h.value)),Wt(h))Ne(h);else if(zt(h))h.type==="checkbox"?be(h):h.type==="radio"?Q(h):h.type==="file"&&Ie(h);else return}function V(T){const h=T.target;!h||!Le(h)||dr(h)||!h.name||(f(Me(h),!0),D.set(h.name))}function de(T){T.preventDefault(),d()}const le={childList:!0,subtree:!0};function re(T){let h=Ct(g),O=Ct(_),Y=Ct(I),$e=Ct(R);for(const A of T.reverse()){if(A.hasAttribute("data-felte-keep-on-remove")&&A.dataset.felteKeepOnRemove!=="false")continue;const De=/.*(\[[0-9]+\]|\.[0-9]+)\.[^.]+$/;let Ee=Me(A);const xe=Ct(_);if(De.test(Ee)){const H=Ee.split(".").slice(0,-1).join("."),Qe=ct(xe,H);se(Qe)&&Object.keys(Qe).length<=1&&(Ee=H)}h=en(h,Ee),O=en(O,Ee),Y=en(Y,Ee),$e=en($e,Ee)}g.set(h),_.set(O),I.set(Y),R.set($e)}const Ae=Bn(()=>{c().forEach(O=>{var Y;return(Y=O.destroy)===null||Y===void 0?void 0:Y.call(O)}),l(r.map(ge("UPDATE")));const{defaultData:T,defaultTouched:h}=rs(z);g.update(O=>ts(O,T)),_.update(O=>ts(O,h))},0);let he=[];const Ze=Bn(()=>{c().forEach(T=>{var h;return(h=T.destroy)===null||h===void 0?void 0:h.call(T)}),l(r.map(ge("UPDATE"))),re(he),he=[]},0);function Ce(T){!Array.from(T.addedNodes).some(O=>ns(O)?Le(O)?!0:Er(O).length>0:!1)||Ae()}function Se(T){for(const h of T.removedNodes){if(!ns(h))continue;const O=Er(h);O.length!==0&&(he.push(...O),Ze())}}function Pe(T){for(const h of T)h.type==="childList"&&(h.addedNodes.length>0&&Ce(h),h.removedNodes.length>0&&Se(h))}const Te=new MutationObserver(Pe);Te.observe(z,le),z.addEventListener("input",x),z.addEventListener("change",W),z.addEventListener("focusout",V),z.addEventListener("submit",i),z.addEventListener("reset",de);const we=I.subscribe(T=>{for(const h of z.elements){if(!Le(h)||!h.name)continue;const O=ct(T,Me(h)),Y=Array.isArray(O)?O.join(`
`):typeof O=="string"?O:void 0;Y!==h.dataset.felteValidationMessage&&(Y?(h.dataset.felteValidationMessage=Y,h.setAttribute("aria-invalid","true")):(delete h.dataset.felteValidationMessage,h.removeAttribute("aria-invalid")))}});return{destroy(){Te.disconnect(),z.removeEventListener("input",x),z.removeEventListener("change",W),z.removeEventListener("focusout",V),z.removeEventListener("submit",i),z.removeEventListener("reset",de),we(),c().forEach(T=>{var h;return(h=T.destroy)===null||h===void 0?void 0:h.call(T)})}}}return{form:Oe}}function Ha(t){const e={aborted:!1,priority:t};return{signal:e,abort(){e.aborted=!0}}}function Ya(t,e){if(se(t))return!e||se(e)&&Object.keys(e).length===0?Ye(t,null):void 0;if(Array.isArray(t)){if(t.some(se))return;const n=Array.isArray(e)?e:[];return t.map((r,s)=>{const i=n[s];return Array.isArray(i)&&i.length===0?null:r&&i||null})}return Array.isArray(e)&&e.length===0?null:Array.isArray(e)?t?e:null:t&&e?[e]:null}function Va(t,e){if(se(t))return!e||se(e)&&Object.keys(e).length===0?Ye(t,null):void 0;if(Array.isArray(t)){if(t.some(se))return;const n=Array.isArray(e)?e:[];return t.map((r,s)=>{const i=n[s];return Array.isArray(i)&&i.length===0?null:i||null})}return Array.isArray(e)&&e.length===0?null:Array.isArray(e)?e:e?[e]:null}function Ja([t,e]){return Et(e,t,Ya)}function Ka([t,e]){return Et(e,t,Va)}function Xa(t){return function(n,r,s){const i=Array.isArray(n)?n:[n],o=new Array(i.length),a=t(s),l=a.set,c=a.subscribe;let u;function f(){u=i.map((m,p)=>m.subscribe(y=>{o[p]=y,l(r(o))}))}function d(){u==null||u.forEach(m=>m())}return a.subscribe=function(p){const y=c(p);return()=>{y()}},[a,f,d]}}function Ga(t,e){var n,r,s,i,o,a,l,c,u;const f=Xa(t),d=e.initialValues=e.initialValues?bt(Cr(He(e.initialValues),e.transform)):{},m=ht(tn(d),!1),p=t(m),y=t(0),[v,g,I]=f([p,y],([ye,fe])=>un(ye,Ve=>!!Ve)&&fe>=1,!1);delete v.set,delete v.update;function R(ye){let fe;return async function(Ve,et,Be,Nt=!1){if(!Be||!Ve)return;let wt=et&&Object.keys(et).length>0?et:Ye(Ve,[]);const $t=Ha(Nt);if((!(fe!=null&&fe.signal.priority)||Nt)&&(fe==null||fe.abort(),fe=$t),fe.signal.priority&&!Nt)return;y.update(Xt=>Xt+1);const qr=ma(Ve,Be);return qr.forEach(async Xt=>{const pi=await Xt;$t.signal.aborted||(wt=Ft([wt,pi]),ye.set(wt))}),await Promise.all(qr),fe=void 0,y.update(Xt=>Xt-1),wt}}let _=Ye(m,[]);const j=t(d),k=Ye(m,[]),D=t(k),Z=t(He(k)),[J,Oe,z]=f([D,Z],Ft,He(k)),ge=Ye(m,[]),me=t(ge),ke=t(He(ge)),[be,Q,Ie]=f([me,ke],Ft,He(ge)),[Ne,x,W]=f([J,p],Ja,He(k)),[V,de,le]=f([be,p],Ka,He(ge));let re=!1;const[Ae,he,Ze]=f(J,([ye])=>{var fe;return re?!un(ye,je=>Array.isArray(je)?je.length>=1:!!je):(re=!0,!e.validate&&!(!((fe=e.debounced)===null||fe===void 0)&&fe.validate))},!e.validate&&!(!((n=e.debounced)===null||n===void 0)&&n.validate));delete Ae.set,delete Ae.update;const Ce=t(!1),Se=t(!1),Pe=t(null),Te=R(D),we=R(me),T=R(Z),h=R(ke),O=Bn(T,(o=(s=(r=e.debounced)===null||r===void 0?void 0:r.validateTimeout)!==null&&s!==void 0?s:(i=e.debounced)===null||i===void 0?void 0:i.timeout)!==null&&o!==void 0?o:300,{onInit:()=>{y.update(ye=>ye+1)},onEnd:()=>{y.update(ye=>ye-1)}}),Y=Bn(h,(u=(l=(a=e.debounced)===null||a===void 0?void 0:a.warnTimeout)!==null&&l!==void 0?l:(c=e.debounced)===null||c===void 0?void 0:c.timeout)!==null&&u!==void 0?u:300);async function $e(ye,fe){var je;const Ve=tn(ye),et=Te(Ve,_,fe!=null?fe:e.validate,!0);if(fe)return et;const Be=T(Ve,_,(je=e.debounced)===null||je===void 0?void 0:je.validate,!0);return Ft(await Promise.all([et,Be]))}async function A(ye,fe){var je;const Ve=tn(ye),et=we(Ve,_,fe!=null?fe:e.warn,!0);if(fe)return et;const Be=h(Ve,_,(je=e.debounced)===null||je===void 0?void 0:je.warn,!0);return Ft(await Promise.all([et,Be]))}let De=k,Ee=ge;function xe(){const ye=j.subscribe(Be=>{var Nt,wt;const $t=tn(Be);Te($t,_,e.validate),we($t,_,e.warn),O($t,_,(Nt=e.debounced)===null||Nt===void 0?void 0:Nt.validate),Y($t,_,(wt=e.debounced)===null||wt===void 0?void 0:wt.warn)}),fe=p.subscribe(Be=>{_=Ye(Be,[])}),je=J.subscribe(Be=>{De=Be}),Ve=be.subscribe(Be=>{Ee=Be});Oe(),he(),Q(),x(),de(),g();function et(){ye(),W(),z(),Ie(),le(),Ze(),I(),fe(),je(),Ve()}return et}function S(ye){D.set(ye(De)),Z.set({})}function H(ye){me.set(ye(Ee)),ke.set({})}function Qe(ye){S(()=>ye)}function fn(ye){H(()=>ye)}return Ne.set=Qe,Ne.update=S,V.set=fn,V.update=H,{data:j,errors:Ne,warnings:V,touched:p,isValid:Ae,isSubmitting:Ce,isDirty:Se,isValidating:v,interacted:Pe,validateErrors:$e,validateWarnings:A,cleanup:e.preventStoreStart?()=>{}:xe(),start:xe}}function Qa(t,e){var n,r;(n=t.extend)!==null&&n!==void 0||(t.extend=[]),(r=t.debounced)!==null&&r!==void 0||(t.debounced={}),t.validate&&!Array.isArray(t.validate)&&(t.validate=[t.validate]),t.debounced.validate&&!Array.isArray(t.debounced.validate)&&(t.debounced.validate=[t.debounced.validate]),t.transform&&!Array.isArray(t.transform)&&(t.transform=[t.transform]),t.warn&&!Array.isArray(t.warn)&&(t.warn=[t.warn]),t.debounced.warn&&!Array.isArray(t.debounced.warn)&&(t.debounced.warn=[t.debounced.warn]);function s(Q,{debounced:Ie,level:Ne}={debounced:!1,level:"error"}){var x;const W=Ne==="error"?"validate":"warn";(x=t.debounced)!==null&&x!==void 0||(t.debounced={});const V=Ie?t.debounced:t;V[W]?V[W]=[...V[W],Q]:V[W]=[Q]}function i(Q){t.transform?t.transform=[...t.transform,Q]:t.transform=[Q]}const o=Array.isArray(t.extend)?t.extend:[t.extend];let a=[];const l=()=>a,c=Q=>{a=Q},{isSubmitting:u,isValidating:f,data:d,errors:m,warnings:p,touched:y,isValid:v,isDirty:g,cleanup:I,start:R,validateErrors:_,validateWarnings:j,interacted:k}=Ga(e.storeFactory,t),D=d.update,Z=d.set,J=Q=>D(Ie=>bt(Cr(Q(Ie),t.transform))),Oe=Q=>Z(bt(Cr(Q,t.transform)));d.update=J,d.set=Oe;const z=Wa({extender:o,config:t,addValidator:s,addTransformer:i,validateErrors:_,validateWarnings:j,_getCurrentExtenders:l,stores:{data:d,errors:m,warnings:p,touched:y,isValid:v,isValidating:f,isSubmitting:u,isDirty:g,interacted:k}}),{createSubmitHandler:ge,handleSubmit:me}=z.public;a=o.map(Q=>Q({stage:"SETUP",errors:m,warnings:p,touched:y,data:d,isDirty:g,isValid:v,isValidating:f,isSubmitting:u,interacted:k,config:t,addValidator:s,addTransformer:i,setFields:z.public.setFields,reset:z.public.reset,validate:z.public.validate,handleSubmit:me,createSubmitHandler:ge}));const ke=Object.assign({config:t,stores:{data:d,touched:y,errors:m,warnings:p,isSubmitting:u,isValidating:f,isValid:v,isDirty:g,interacted:k},createSubmitHandler:ge,handleSubmit:me,helpers:Object.assign(Object.assign({},z.public),{addTransformer:i,addValidator:s}),extender:o,_getCurrentExtenders:l,_setCurrentExtenders:c},z.private),{form:be}=Ba(ke);return Object.assign({data:d,errors:m,warnings:p,touched:y,isValid:v,isSubmitting:u,isValidating:f,isDirty:g,interacted:k,form:be,cleanup:I,startStores:R},z.public)}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function el(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function ii(t){var e=Qa(t!=null?t:{},{storeFactory:vt}),n=e.cleanup;e.startStores;var r=el(e,["cleanup","startStores"]);return jr(n),r}var Sr={exports:{}},fr,us;function tl(){if(us)return fr;us=1;var t=1e3,e=t*60,n=e*60,r=n*24,s=r*7,i=r*365.25;fr=function(u,f){f=f||{};var d=typeof u;if(d==="string"&&u.length>0)return o(u);if(d==="number"&&isFinite(u))return f.long?l(u):a(u);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(u))};function o(u){if(u=String(u),!(u.length>100)){var f=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(u);if(!!f){var d=parseFloat(f[1]),m=(f[2]||"ms").toLowerCase();switch(m){case"years":case"year":case"yrs":case"yr":case"y":return d*i;case"weeks":case"week":case"w":return d*s;case"days":case"day":case"d":return d*r;case"hours":case"hour":case"hrs":case"hr":case"h":return d*n;case"minutes":case"minute":case"mins":case"min":case"m":return d*e;case"seconds":case"second":case"secs":case"sec":case"s":return d*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return d;default:return}}}}function a(u){var f=Math.abs(u);return f>=r?Math.round(u/r)+"d":f>=n?Math.round(u/n)+"h":f>=e?Math.round(u/e)+"m":f>=t?Math.round(u/t)+"s":u+"ms"}function l(u){var f=Math.abs(u);return f>=r?c(u,f,r,"day"):f>=n?c(u,f,n,"hour"):f>=e?c(u,f,e,"minute"):f>=t?c(u,f,t,"second"):u+" ms"}function c(u,f,d,m){var p=f>=d*1.5;return Math.round(u/d)+" "+m+(p?"s":"")}return fr}function nl(t){n.debug=n,n.default=n,n.coerce=l,n.disable=i,n.enable=s,n.enabled=o,n.humanize=tl(),n.destroy=c,Object.keys(t).forEach(u=>{n[u]=t[u]}),n.names=[],n.skips=[],n.formatters={};function e(u){let f=0;for(let d=0;d<u.length;d++)f=(f<<5)-f+u.charCodeAt(d),f|=0;return n.colors[Math.abs(f)%n.colors.length]}n.selectColor=e;function n(u){let f,d=null,m,p;function y(...v){if(!y.enabled)return;const g=y,I=Number(new Date),R=I-(f||I);g.diff=R,g.prev=f,g.curr=I,f=I,v[0]=n.coerce(v[0]),typeof v[0]!="string"&&v.unshift("%O");let _=0;v[0]=v[0].replace(/%([a-zA-Z%])/g,(k,D)=>{if(k==="%%")return"%";_++;const Z=n.formatters[D];if(typeof Z=="function"){const J=v[_];k=Z.call(g,J),v.splice(_,1),_--}return k}),n.formatArgs.call(g,v),(g.log||n.log).apply(g,v)}return y.namespace=u,y.useColors=n.useColors(),y.color=n.selectColor(u),y.extend=r,y.destroy=n.destroy,Object.defineProperty(y,"enabled",{enumerable:!0,configurable:!1,get:()=>d!==null?d:(m!==n.namespaces&&(m=n.namespaces,p=n.enabled(u)),p),set:v=>{d=v}}),typeof n.init=="function"&&n.init(y),y}function r(u,f){const d=n(this.namespace+(typeof f>"u"?":":f)+u);return d.log=this.log,d}function s(u){n.save(u),n.namespaces=u,n.names=[],n.skips=[];let f;const d=(typeof u=="string"?u:"").split(/[\s,]+/),m=d.length;for(f=0;f<m;f++)!d[f]||(u=d[f].replace(/\*/g,".*?"),u[0]==="-"?n.skips.push(new RegExp("^"+u.slice(1)+"$")):n.names.push(new RegExp("^"+u+"$")))}function i(){const u=[...n.names.map(a),...n.skips.map(a).map(f=>"-"+f)].join(",");return n.enable(""),u}function o(u){if(u[u.length-1]==="*")return!0;let f,d;for(f=0,d=n.skips.length;f<d;f++)if(n.skips[f].test(u))return!1;for(f=0,d=n.names.length;f<d;f++)if(n.names[f].test(u))return!0;return!1}function a(u){return u.toString().substring(2,u.toString().length-2).replace(/\.\*\?$/,"*")}function l(u){return u instanceof Error?u.stack||u.message:u}function c(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return n.enable(n.load()),n}var rl=nl;(function(t,e){e.formatArgs=r,e.save=s,e.load=i,e.useColors=n,e.storage=o(),e.destroy=(()=>{let l=!1;return()=>{l||(l=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function n(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function r(l){if(l[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+l[0]+(this.useColors?"%c ":" ")+"+"+t.exports.humanize(this.diff),!this.useColors)return;const c="color: "+this.color;l.splice(1,0,c,"color: inherit");let u=0,f=0;l[0].replace(/%[a-zA-Z%]/g,d=>{d!=="%%"&&(u++,d==="%c"&&(f=u))}),l.splice(f,0,c)}e.log=console.debug||console.log||(()=>{});function s(l){try{l?e.storage.setItem("debug",l):e.storage.removeItem("debug")}catch{}}function i(){let l;try{l=e.storage.getItem("debug")}catch{}return!l&&typeof process<"u"&&"env"in process&&(l=process.env.DEBUG),l}function o(){try{return localStorage}catch{}}t.exports=rl(e);const{formatters:a}=t.exports;a.j=function(l){try{return JSON.stringify(l)}catch(c){return"[UnexpectedJSONParseError]: "+c.message}}})(Sr,Sr.exports);const Ur=Sr.exports;var sl=ll,at=[],ds="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var wn=0,il=ds.length;wn<il;++wn)at[wn]=ds[wn];function ol(t){return at[t>>18&63]+at[t>>12&63]+at[t>>6&63]+at[t&63]}function al(t,e,n){for(var r,s=[],i=e;i<n;i+=3)r=(t[i]<<16&16711680)+(t[i+1]<<8&65280)+(t[i+2]&255),s.push(ol(r));return s.join("")}function ll(t){for(var e,n=t.length,r=n%3,s=[],i=16383,o=0,a=n-r;o<a;o+=i)s.push(al(t,o,o+i>a?a:o+i));return r===1?(e=t[n-1],s.push(at[e>>2]+at[e<<4&63]+"==")):r===2&&(e=(t[n-2]<<8)+t[n-1],s.push(at[e>>10]+at[e>>4&63]+at[e<<2&63]+"=")),s.join("")}const cl=new TextEncoder;function ul(t){return sl(cl.encode(t))}const Fe=Ur("dp:stores:remoteSync"),xr=`${Ks}remote-state`,Ot=vt(),oi=vt(0);let kn;function ai(){kn!==void 0&&clearTimeout(kn),kn=setTimeout(()=>{kn=void 0,or()},Ko)}async function dl({host:t,username:e,password:n}){const r=ul(`${e}:${n}`),s=await fetch(`https://${t}/user/token`,{method:"PUT",headers:{authorization:`Basic ${r}`,accept:"application/json"}});if(!s.ok)throw new Error("Request failed");const{token:i}=jo.parse(await s.json()),o={host:t,token:i,lastModifiedAt:0,localLastModifiedAt:0,lastSyncedAt:0};Ot.set(o),or()}function Tr(t){return{authorization:`Bearer ${t.token}`,accept:"application/json","content-type":"application/json"}}async function li(t){let e=!0;if(Ot.update(n=>{if(n!==t)return n;e=!1}),!(t===void 0||e))try{await fetch(`https://${t.host}/user/token`,{method:"DELETE",headers:Tr(t),body:JSON.stringify({token:t.token})})}catch(n){Fe("failed to delete old token",n)}}function or(){Fe("trigger sync"),oi.update(t=>t+1)}async function fs(t,e){if((e.status===401||e.status===403)&&await li(t),!e.ok){const n=await e.text();throw new Error(`Failed to send request: ${n}`)}}async function fl(t,e){const n=new Map;if(t===void 0)return{updated:n};const r=`https://${t.host}/objects`,s=await fetch(`${r}?since=${t.lastModifiedAt}`,{headers:Tr(t)});await fs(t,s);const{objects:i}=Mo.parse(await s.json());Fe("got %d remote objects since %j",i.length,t.lastModifiedAt,i);const o=new Map(e.map(d=>[d.id,d]));let a=t.lastModifiedAt;for(const{id:d,data:m,modifiedAt:p}of i){a=Math.max(a,p),o.delete(d);let y;try{y=$o.parse(JSON.parse(m))}catch(v){Fe("failed to parse remote application",m,v);continue}n.set(y.id,y)}const l=new Array;let c=t.localLastModifiedAt;const u=Array.from(o.values()).sort((d,m)=>d.modifiedAt-m.modifiedAt);for(const d of u)d.modifiedAt<=t.localLastModifiedAt||(c=Math.max(c,d.modifiedAt),l.push({id:d.id,version:d.version,encrypted:d.encrypted,removed:d.removed}));if(l.length>0){Fe("uploading %d new objects since %j",l.length,t.localLastModifiedAt);const d=await fetch(r,{method:"PUT",headers:Tr(t),body:JSON.stringify({objects:l.map(p=>({id:p.id,data:p}))})});await fs(t,d),a=Lo.parse(await d.json()).modifiedAt}const f={...t,lastModifiedAt:a,localLastModifiedAt:c,lastSyncedAt:Date.now()};return Ot.update(d=>d!==t?d:f),{updated:n}}function pl(t,e,n,{updated:r}){if(r.size===0){Fe("no changes, not applying results");return}e.update(s=>{const{localLastModifiedAt:i}=t;let o=i;const a=s.map(l=>{const c=r.get(l.id);return r.delete(l.id),l.modifiedAt>i?(Fe("app %j modified in flight",l.id),l):c===void 0?l:(o=n.next(),Fe("updated app %j",l.id),{...l,encrypted:c.encrypted,modifiedAt:o})});for(const l of r.values())o=n.next(),Fe("added app %j",l.id),a.push({...l,modifiedAt:o});return Ot.update(l=>{if(l===t)return{...l,localLastModifiedAt:o}}),a})}function ml(t,e){let n;Ot.subscribe(i=>n=i);const r=Xn([t,oi],([i])=>i);let s=0;r.subscribe(async i=>{if(ai(),n===void 0){Fe("no remote state, not sync");return}if(++s!==1){Fe("%d syncs already running",s);return}Fe("starting sync");try{const o=await fl(n,i);pl(n,t,e,o)}catch(o){Fe("failed to run sync or apply sync results",o)}--s!==0&&(s=0,Fe("re-triggering sync"),or())})}const ps=localStorage.getItem(xr);if(ps)try{Ot.set(Io.parse(JSON.parse(ps)))}catch(t){Fe("Failed to update remote state store",t)}ai();Ot.subscribe(async t=>{if(t===void 0){localStorage.removeItem(xr);return}localStorage.setItem(xr,JSON.stringify(t))});function hl(t){let e,n,r,s,i,o,a,l,c,u,f,d,m,p;s=new ot({props:{required:!0,name:"host",label:"Storage server hostname",placeholder:"storage.example.com"}}),s.$on("input",t[4]),s.$on("change",t[5]),s.$on("focus",t[6]),s.$on("blur",t[7]),o=new ot({props:{required:!0,name:"username",label:"Username",placeholder:"me@my.server"}}),o.$on("input",t[8]),o.$on("change",t[9]),o.$on("focus",t[10]),o.$on("blur",t[11]),l=new ot({props:{required:!0,name:"password",type:"password",label:"Password"}}),l.$on("input",t[12]),l.$on("change",t[13]),l.$on("focus",t[14]),l.$on("blur",t[15]);let y=t[0]!==void 0&&ms(t);return{c(){e=N("h2"),e.textContent="Setup Synchronization",n=F(),r=N("form"),ue(s.$$.fragment),i=F(),ue(o.$$.fragment),a=F(),ue(l.$$.fragment),c=F(),y&&y.c(),u=F(),f=N("button"),f.textContent="Login",b(e,"class","text-3xl mb-4"),b(f,"type","submit"),b(f,"class","px-4 py-2 rounded bg-blue-500 hover:bg-blue-600 text-white disabled:bg-blue-400")},m(v,g){C(v,e,g),C(v,n,g),C(v,r,g),oe(s,r,null),E(r,i),oe(o,r,null),E(r,a),oe(l,r,null),E(r,c),y&&y.m(r,null),E(r,u),E(r,f),d=!0,m||(p=Ht(t[2].call(null,r)),m=!0)},p(v,g){v[0]!==void 0?y?y.p(v,g):(y=ms(v),y.c(),y.m(r,u)):y&&(y.d(1),y=null)},i(v){d||(L(s.$$.fragment,v),L(o.$$.fragment,v),L(l.$$.fragment,v),d=!0)},o(v){P(s.$$.fragment,v),P(o.$$.fragment,v),P(l.$$.fragment,v),d=!1},d(v){v&&w(e),v&&w(n),v&&w(r),ae(s),ae(o),ae(l),y&&y.d(),m=!1,p()}}}function yl(t){let e,n,r,s,i,o,a,l,c,u;function f(p,y){return p[1].lastSyncedAt?gl:_l}let d=f(t),m=d(t);return{c(){e=N("h2"),e.textContent="Synchronization",n=F(),r=N("p"),m.c(),s=F(),i=N("section"),o=N("button"),o.textContent="Sync Now",a=F(),l=N("button"),l.textContent="Unlink",b(e,"class","text-3xl mb-4"),b(r,"class","my-2"),b(o,"type","button"),b(o,"class","px-4 py-2 rounded bg-blue-500 hover:bg-blue-600 text-white disabled:bg-blue-400"),b(l,"type","reset"),b(l,"class","px-4 py-2 rounded bg-red-500 hover:bg-red-600 text-white disabled:bg-red-400"),b(i,"class","mt-4 flex gap-1")},m(p,y){C(p,e,y),C(p,n,y),C(p,r,y),m.m(r,null),C(p,s,y),C(p,i,y),E(i,o),E(i,a),E(i,l),c||(u=[Je(o,"click",tt(or)),Je(l,"click",tt(t[3]))],c=!0)},p(p,y){d===(d=f(p))&&m?m.p(p,y):(m.d(1),m=d(p),m&&(m.c(),m.m(r,null)))},i:X,o:X,d(p){p&&w(e),p&&w(n),p&&w(r),m.d(),p&&w(s),p&&w(i),c=!1,mt(u)}}}function ms(t){let e,n;return{c(){e=N("p"),n=q(t[0]),b(e,"class","my-2 text-red-500")},m(r,s){C(r,e,s),E(e,n)},p(r,s){s&1&&st(n,r[0])},d(r){r&&w(e)}}}function _l(t){let e,n,r=t[1].host+"",s,i;return{c(){e=q("Awaiting initial sync with "),n=N("b"),s=q(r),i=q(".")},m(o,a){C(o,e,a),C(o,n,a),E(n,s),C(o,i,a)},p(o,a){a&2&&r!==(r=o[1].host+"")&&st(s,r)},d(o){o&&w(e),o&&w(n),o&&w(i)}}}function gl(t){let e,n,r=t[1].host+"",s,i,o,a,l,c=new Date(t[1].lastSyncedAt).toLocaleString()+"",u,f;return{c(){e=q("Last synchronized with "),n=N("b"),s=q(r),i=F(),o=N("br"),a=q(`
      on `),l=N("b"),u=q(c),f=q(".")},m(d,m){C(d,e,m),C(d,n,m),E(n,s),C(d,i,m),C(d,o,m),C(d,a,m),C(d,l,m),E(l,u),C(d,f,m)},p(d,m){m&2&&r!==(r=d[1].host+"")&&st(s,r),m&2&&c!==(c=new Date(d[1].lastSyncedAt).toLocaleString()+"")&&st(u,c)},d(d){d&&w(e),d&&w(n),d&&w(i),d&&w(o),d&&w(a),d&&w(l),d&&w(f)}}}function bl(t){let e,n,r,s;const i=[yl,hl],o=[];function a(l,c){return l[1]?0:1}return e=a(t),n=o[e]=i[e](t),{c(){n.c(),r=Tt()},m(l,c){o[e].m(l,c),C(l,r,c),s=!0},p(l,[c]){let u=e;e=a(l),e===u?o[e].p(l,c):(Ke(),P(o[u],1,1,()=>{o[u]=null}),Xe(),n=o[e],n?n.p(l,c):(n=o[e]=i[e](l),n.c()),L(n,1),n.m(r.parentNode,r))},i(l){s||(L(n),s=!0)},o(l){P(n),s=!1},d(l){o[e].d(l),l&&w(r)}}}function vl(t,e,n){var R;let r;nt(t,Ot,_=>n(1,r=_));let s;const{form:i}=ii({initialValues:{host:(R=r==null?void 0:r.host)!=null?R:"",username:"",password:""},async onSubmit(_){return n(0,s=void 0),dl(_)},onError(){n(0,s="Invalid credentials or unreachable server")}}),o=()=>li(r);function a(_){ee.call(this,t,_)}function l(_){ee.call(this,t,_)}function c(_){ee.call(this,t,_)}function u(_){ee.call(this,t,_)}function f(_){ee.call(this,t,_)}function d(_){ee.call(this,t,_)}function m(_){ee.call(this,t,_)}function p(_){ee.call(this,t,_)}function y(_){ee.call(this,t,_)}function v(_){ee.call(this,t,_)}function g(_){ee.call(this,t,_)}function I(_){ee.call(this,t,_)}return[s,r,i,o,a,l,c,u,f,d,m,p,y,v,g,I]}class wl extends We{constructor(e){super(),ze(this,e,vl,bl,Re,{})}}function kl(t){let e,n,r,s,i,o,a,l;return{c(){e=N("a"),n=N("h3"),r=q(t[1]),s=F(),i=q(t[2]),b(n,"class","text-lg font-semibold"),b(e,"href",o="/applications/"+t[0]),b(e,"class","px-4 text-blue-500 py-8 rounded border my-4 flex flex-col hover:bg-gray-100")},m(c,u){C(c,e,u),E(e,n),E(n,r),E(e,s),E(e,i),a||(l=Ht(Rr.call(null,e)),a=!0)},p(c,[u]){u&2&&st(r,c[1]),u&4&&st(i,c[2]),u&1&&o!==(o="/applications/"+c[0])&&b(e,"href",o)},i:X,o:X,d(c){c&&w(e),a=!1,l()}}}function Al(t,e,n){let{id:r}=e,{domain:s}=e,{login:i}=e;return t.$$set=o=>{"id"in o&&n(0,r=o.id),"domain"in o&&n(1,s=o.domain),"login"in o&&n(2,i=o.login)},[r,s,i]}class Cl extends We{constructor(e){super(),ze(this,e,Al,kl,Re,{id:0,domain:1,login:2})}}let ci=(t=21)=>crypto.getRandomValues(new Uint8Array(t)).reduce((e,n)=>(n&=63,n<36?e+=n.toString(36):n<62?e+=(n-26).toString(36).toUpperCase():n>62?e+="-":e+="_",e),"");const El=Ur("dp:localSync"),hs=`${Ks}i:`;function Sl(t){var s,i;const e=new Array,n=vt(0);for(let o=0;o<localStorage.length;o++){const a=(s=localStorage.key(o))!=null?s:"";if(!!a.startsWith(hs))try{const l=JSON.parse((i=localStorage.getItem(a))!=null?i:""),c=zs.parse(l);n.update(u=>Math.max(u,c.modifiedAt)),e.push(c)}catch{}}El("loaded %d apps",e.length),t.set(e);const r=new Map;return t.subscribe(o=>{const a=new Array;for(const{decrypted:l,...c}of o){const u=c,f=r.get(c.id);if(r.set(c.id,c.modifiedAt),f===void 0){a.push(u);continue}f!==u.modifiedAt&&a.push(u)}for(const l of a)localStorage.setItem(`${hs}${l.id}`,JSON.stringify(l))}),{lastModifiedAt:{subscribe:n.subscribe,next(){let o=Date.now();return n.update(a=>(o=Math.max(o,a+1),o)),o}}}}const xl=Ur("dp:migrator"),Tl="derivepass/production/";function Ol(t){it.subscribe(e=>{var r,s;if(e===void 0)return;let n=0;for(let i=0;i<localStorage.length;i++){const o=(r=localStorage.key(i))!=null?r:"";if(!!o.startsWith(Tl))try{const a=JSON.parse((s=localStorage.getItem(o))!=null?s:""),{changedAt:l,domain:c,login:u,revision:f,options:d,removed:m}=Ro.parse(a);if(m)continue;const p=_n(e,c),y=_n(e,u),v=_n(e,f),g=Zo.parse(JSON.parse(_n(e,d))),I=parseInt(v,10);if(I<1||isNaN(I))throw new Error("Negative or NaN revision");const{allowed:R,required:_,maxLength:j}=g,k=typeof j=="number"?j:parseInt(j,10);if(k<1||isNaN(k))throw new Error("Negative or NaN passwordLen");const D=Vs(e,{domain:p,login:y,revision:I,allowedChars:R,requiredChars:_,passwordLen:k});t.update(Z=>[...Z,{id:ci(),version:Pr,encrypted:D,modifiedAt:l}]),localStorage.removeItem(o),n++}catch{}}xl("migrated %d records",n)})}const Mt=vt([]),{lastModifiedAt:Or}=Sl(Mt);ml(Mt,Or);Ol(Mt);it.subscribe(t=>{Mt.update(e=>e.map(({decrypted:n,encrypted:r,...s})=>{let i;if(s.removed)return{encrypted:"",...s};if(t!==void 0)try{i=Vo(t,r)}catch{}return{decrypted:i,encrypted:r,...s}}))});const nn={subscribe:Xn(Mt,t=>t.slice().sort((e,n)=>n.modifiedAt-e.modifiedAt).map(e=>{if(!(e.removed||e.decrypted===void 0))return{id:e.id,version:e.version,...e.decrypted}}).filter(e=>e!==void 0)).subscribe,getTemplate(){return{id:ci(),version:Pr,domain:"",login:"",revision:1,...xn}},deleteById(t){Mt.update(e=>e.map(n=>n.id===t?{id:n.id,version:n.version,encrypted:"",removed:!0,modifiedAt:Or.next()}:n))},save(t,{id:e,version:n,...r}){const s=Vs(t,r),i={id:e,version:n,decrypted:r,encrypted:s,modifiedAt:Or.next()};Mt.update(o=>{let a=!1;const l=o.map(c=>c.id===i.id?(a=!0,i):c);return a?l:[...o,i]})}};function ys(t,e,n){const r=t.slice();return r[6]=e[n],r}function _s(t,e){let n,r,s;return r=new Cl({props:{id:e[6].id,domain:e[6].domain,login:e[6].login}}),{key:t,first:null,c(){n=Tt(),ue(r.$$.fragment),this.first=n},m(i,o){C(i,n,o),oe(r,i,o),s=!0},p(i,o){e=i;const a={};o&2&&(a.id=e[6].id),o&2&&(a.domain=e[6].domain),o&2&&(a.login=e[6].login),r.$set(a)},i(i){s||(L(r.$$.fragment,i),s=!0)},o(i){P(r.$$.fragment,i),s=!1},d(i){i&&w(n),ae(r,i)}}}function Nl(t){let e,n,r,s,i,o=[],a=new Map,l,c,u,f,d=t[1];const m=p=>p[6].id;for(let p=0;p<d.length;p+=1){let y=ys(t,d,p),v=m(y);a.set(v,o[p]=_s(v,y))}return{c(){e=N("form"),n=N("input"),r=F(),s=N("input"),i=F();for(let p=0;p<o.length;p+=1)o[p].c();l=Tt(),b(n,"class","grow px-4 py-2 min-w-0 rounded-l border focus:outline-none"),b(n,"type","search"),b(n,"autocomplete","off"),b(n,"placeholder","Filter applications"),b(s,"class","shrink px-4 py-2 rounded-r border-y border-blue-500 hover:border-blue-600 bg-blue-500 hover:bg-blue-600 text-white"),b(s,"type","button"),s.value="Add application",b(e,"class","flex items-center rounded focus-within:outline-2 focus-within:outline outline-blue-500"),b(e,"autocomplete","off")},m(p,y){C(p,e,y),E(e,n),Br(n,t[0]),E(e,r),E(e,s),C(p,i,y);for(let v=0;v<o.length;v+=1)o[v].m(p,y);C(p,l,y),c=!0,u||(f=[Je(n,"input",t[5]),Je(s,"click",tt(t[2])),Je(e,"submit",tt($l))],u=!0)},p(p,[y]){y&1&&Br(n,p[0]),y&2&&(d=p[1],Ke(),o=Si(o,y,m,1,p,d,a,l.parentNode,Ei,_s,l,ys),Xe())},i(p){if(!c){for(let y=0;y<d.length;y+=1)L(o[y]);c=!0}},o(p){for(let y=0;y<o.length;y+=1)P(o[y]);c=!1},d(p){p&&w(e),p&&w(i);for(let y=0;y<o.length;y+=1)o[y].d(p);p&&w(l),u=!1,mt(f)}}}const $l=()=>{};function Il(t,e,n){let r,s,i;nt(t,nn,c=>n(4,i=c));let o="";function a(){Ut("/applications/new")}function l(){o=this.value,n(0,o)}return t.$$.update=()=>{t.$$.dirty&1&&n(3,r=o.toLowerCase()),t.$$.dirty&24&&n(1,s=i.filter(({domain:c,login:u})=>`${c}/${u}`.toLowerCase().includes(r)))},[o,s,a,r,i,l]}class jl extends We{constructor(e){super(),ze(this,e,Il,Nl,Re,{})}}function Ml(t){function e(n){return n.issues.reduce((r,s)=>s.path?Kt(r,s.path.join("."),i=>!i||!Array.isArray(i)?[s.message]:[...i,s.message]):r,{})}return async function(r){try{await t.parseAsync(r)}catch(s){return e(s)}}}function Ll({schema:t,level:e="error"}){return function(r){if(r.stage!=="SETUP")return{};const s=Ml(t);return r.addValidator(s,{level:e}),{}}}function Rl(t){let e,n,r=t[8].domain+"",s,i,o=t[8].login+"",a;return{c(){e=N("h2"),n=N("b"),s=q(r),i=q("/"),a=q(o),b(e,"class","text-2xl")},m(l,c){C(l,e,c),E(e,n),E(n,s),E(e,i),E(e,a)},p(l,c){c[0]&256&&r!==(r=l[8].domain+"")&&st(s,r),c[0]&256&&o!==(o=l[8].login+"")&&st(a,o)},d(l){l&&w(e)}}}function Zl(t){let e;return{c(){e=N("h2"),e.textContent="New Application",b(e,"class","text-2xl")},m(n,r){C(n,e,r)},p:X,d(n){n&&w(e)}}}function Pl(t){let e;return{c(){e=q("Copied")},m(n,r){C(n,e,r)},i:X,o:X,d(n){n&&w(e)}}}function Dl(t){let e;return{c(){e=q("Copy password")},m(n,r){C(n,e,r)},i:X,o:X,d(n){n&&w(e)}}}function Fl(t){let e,n,r,s;return n=new ri({}),{c(){e=N("div"),ue(n.$$.fragment),r=q(" Computing..."),b(e,"class","flex gap-2 items-center")},m(i,o){C(i,e,o),oe(n,e,null),E(e,r),s=!0},i(i){s||(L(n.$$.fragment,i),s=!0)},o(i){P(n.$$.fragment,i),s=!1},d(i){i&&w(e),ae(n)}}}function Ul(t){let e;return{c(){e=q("Compute password")},m(n,r){C(n,e,r)},i:X,o:X,d(n){n&&w(e)}}}function gs(t){let e,n,r,s;function i(l,c){return l[6]===l[2].Initial?zl:ql}let o=i(t),a=o(t);return{c(){e=N("button"),a.c(),b(e,"type","button"),b(e,"class","px-4 py-2 last:rounded-r bg-red-500 hover:bg-red-600 text-white disabled:bg-red-400"),e.disabled=n=t[6]===t[2].Safety},m(l,c){C(l,e,c),a.m(e,null),r||(s=Je(e,"click",tt(t[16])),r=!0)},p(l,c){o!==(o=i(l))&&(a.d(1),a=o(l),a&&(a.c(),a.m(e,null))),c[0]&68&&n!==(n=l[6]===l[2].Safety)&&(e.disabled=n)},d(l){l&&w(e),a.d(),r=!1,s()}}}function ql(t){let e;return{c(){e=q("Confirm Deletion")},m(n,r){C(n,e,r)},d(n){n&&w(e)}}}function zl(t){let e;return{c(){e=q("Delete")},m(n,r){C(n,e,r)},d(n){n&&w(e)}}}function Wl(t){let e,n,r,s,i,o,a,l,c,u,f,d,m,p,y,v,g,I,R,_,j,k,D,Z,J,Oe,z,ge,me,ke,be,Q,Ie,Ne,x,W,V,de,le,re,Ae,he;function Ze(h,O){return h[0]?Zl:Rl}let Ce=Ze(t),Se=Ce(t);const Pe=[Ul,Fl,Dl,Pl],Te=[];function we(h,O){return h[5]===h[1].Initial?0:h[5]===h[1].Computing?1:h[5]===h[1].Computed?2:3}s=we(t),i=Te[s]=Pe[s](t),p=new ot({props:{name:"domain",label:"Domain name",placeholder:"mastodon.social",hint:"Examples: google.com, fb.com, etc"}}),p.$on("input",t[21]),p.$on("change",t[22]),p.$on("focus",t[23]),p.$on("blur",t[24]),v=new ot({props:{name:"login",type:"email",label:"Username",placeholder:"my@email.com",hint:"Examples: my_user_name, derivepass82"}}),v.$on("input",t[25]),v.$on("change",t[26]),v.$on("focus",t[27]),v.$on("blur",t[28]),I=new ot({props:{name:"revision",type:"number",label:"Revision",hint:"Increment this by one to change the password"}}),I.$on("input",t[29]),I.$on("change",t[30]),I.$on("focus",t[31]),I.$on("blur",t[32]),J=new ot({props:{name:"allowedChars",label:"Allowed characters",hint:"Characters that can be present in the password"}}),J.$on("input",t[33]),J.$on("change",t[34]),J.$on("focus",t[35]),J.$on("blur",t[36]),z=new ot({props:{name:"requiredChars",label:"Required characters",hint:"Characters that must be present in the password"}}),z.$on("input",t[37]),z.$on("change",t[38]),z.$on("focus",t[39]),z.$on("blur",t[40]),me=new ot({props:{name:"passwordLen",type:"number",label:"Password length"}}),me.$on("input",t[41]),me.$on("change",t[42]),me.$on("focus",t[43]),me.$on("blur",t[44]);let T=!t[0]&&gs(t);return{c(){Se.c(),e=F(),n=N("section"),r=N("button"),i.c(),a=F(),l=N("button"),l.textContent="Edit",c=F(),u=N("button"),f=q("Back"),d=F(),m=N("form"),ue(p.$$.fragment),y=F(),ue(v.$$.fragment),g=F(),ue(I.$$.fragment),R=F(),_=N("button"),_.textContent="Extra",j=F(),k=N("section"),D=N("p"),D.textContent="Most applications don't require editing options below.",Z=F(),ue(J.$$.fragment),Oe=F(),ue(z.$$.fragment),ge=F(),ue(me.$$.fragment),ke=F(),be=N("section"),Q=N("button"),Ie=q("Save"),x=F(),W=N("button"),V=q("Reset"),le=F(),T&&T.c(),r.disabled=o=!t[9]||t[5]===t[1].Computing,b(r,"class","px-4 py-2 rounded bg-blue-500 hover:bg-blue-600 text-white disabled:bg-blue-400"),b(l,"class","text-blue-500 hover:text-blue-600 hover:underline"),b(u,"class","text-blue-500 hover:text-blue-600 hover:enabled:underline disabled:text-gray-400"),u.disabled=t[7],b(n,"class","mt-2 mb-4 flex gap-4 content-center"),b(_,"type","button"),b(_,"class","my-2 px-4 py-2 rounded border border-red-500 hover:border-red-600 text-red-500 hover:text-red-600"),b(D,"class","text-red-500 my-2"),b(k,"class","my-2"),mn(k,"hidden",!t[4]),b(Q,"type","submit"),Q.disabled=Ne=t[9]&&!t[7],b(Q,"class","px-4 py-2 rounded-l bg-blue-500 hover:bg-blue-600 text-white disabled:bg-blue-400"),b(W,"type","reset"),W.disabled=de=!t[7],b(W,"class","px-4 py-2 last:rounded-r bg-gray-500 hover:bg-gray-600 text-white disabled:bg-gray-400"),b(be,"class","flex my-2"),mn(m,"hidden",!t[3])},m(h,O){Se.m(h,O),C(h,e,O),C(h,n,O),E(n,r),Te[s].m(r,null),E(n,a),E(n,l),E(n,c),E(n,u),E(u,f),C(h,d,O),C(h,m,O),oe(p,m,null),E(m,y),oe(v,m,null),E(m,g),oe(I,m,null),E(m,R),E(m,_),E(m,j),E(m,k),E(k,D),E(k,Z),oe(J,k,null),E(k,Oe),oe(z,k,null),E(k,ge),oe(me,k,null),E(m,ke),E(m,be),E(be,Q),E(Q,Ie),E(be,x),E(be,W),E(W,V),E(be,le),T&&T.m(be,null),re=!0,Ae||(he=[Je(r,"click",tt(t[10])),Je(l,"click",tt(t[17])),Je(u,"click",tt(t[18])),Je(_,"click",tt(t[19])),Je(W,"click",tt(t[13])),Ht(t[11].call(null,m))],Ae=!0)},p(h,O){Ce===(Ce=Ze(h))&&Se?Se.p(h,O):(Se.d(1),Se=Ce(h),Se&&(Se.c(),Se.m(e.parentNode,e)));let Y=s;s=we(h),s!==Y&&(Ke(),P(Te[Y],1,1,()=>{Te[Y]=null}),Xe(),i=Te[s],i||(i=Te[s]=Pe[s](h),i.c()),L(i,1),i.m(r,null)),(!re||O[0]&546&&o!==(o=!h[9]||h[5]===h[1].Computing))&&(r.disabled=o),(!re||O[0]&128)&&(u.disabled=h[7]),(!re||O[0]&16)&&mn(k,"hidden",!h[4]),(!re||O[0]&640&&Ne!==(Ne=h[9]&&!h[7]))&&(Q.disabled=Ne),(!re||O[0]&128&&de!==(de=!h[7]))&&(W.disabled=de),h[0]?T&&(T.d(1),T=null):T?T.p(h,O):(T=gs(h),T.c(),T.m(be,null)),(!re||O[0]&8)&&mn(m,"hidden",!h[3])},i(h){re||(L(i),L(p.$$.fragment,h),L(v.$$.fragment,h),L(I.$$.fragment,h),L(J.$$.fragment,h),L(z.$$.fragment,h),L(me.$$.fragment,h),re=!0)},o(h){P(i),P(p.$$.fragment,h),P(v.$$.fragment,h),P(I.$$.fragment,h),P(J.$$.fragment,h),P(z.$$.fragment,h),P(me.$$.fragment,h),re=!1},d(h){Se.d(h),h&&w(e),h&&w(n),Te[s].d(),h&&w(d),h&&w(m),ae(p),ae(v),ae(I),ae(J),ae(z),ae(me),T&&T.d(),Ae=!1,mt(he)}}}function Bl(t,e,n){let r,s,i,o;nt(t,it,A=>n(48,i=A));let{app:a}=e,{isNew:l}=e;var c;(function(A){A[A.Initial=0]="Initial",A[A.Computing=1]="Computing",A[A.Computed=2]="Computed",A[A.Copied=3]="Copied"})(c||(c={}));var u;(function(A){A[A.Initial=0]="Initial",A[A.Safety=1]="Safety",A[A.Confirming=2]="Confirming"})(u||(u={}));let f=l,d=!1,m,p=c.Initial,y=u.Initial,v,g;jr(()=>{v!==void 0&&(clearTimeout(v),v=void 0),g!==void 0&&(clearTimeout(g),g=void 0)});async function I(){const A=i;if(A===void 0){Qn("/");return}if(p===c.Initial){n(5,p=c.Computing),setTimeout(()=>{m=Ho(A,{...a,...s}),n(5,p=c.Computed)},0);return}navigator.clipboard.writeText(m!=null?m:""),v!==void 0&&clearTimeout(v),n(5,p=c.Copied),v=setTimeout(()=>{v=void 0,n(5,p=c.Computed)},5*Ar)}const R=Es(),{form:_,data:j,reset:k,setInitialValues:D,isDirty:Z,isValid:J}=ii({initialValues:a,onSubmit(A){D(A),Ir(Z,r=!1,r),R("submit",A)},extend:[Ll({schema:rr}),ya]});nt(t,j,A=>n(8,s=A)),nt(t,Z,A=>n(7,r=A)),nt(t,J,A=>n(9,o=A));function Oe(){if(y===u.Initial)n(6,y=u.Safety),g=setTimeout(()=>{g=void 0,n(6,y=u.Confirming)},5*Ar);else{if(y===u.Safety)return;y===u.Confirming&&(R("delete"),n(6,y=u.Initial))}}function z(){n(3,f=!f)}function ge(){Ut("/applications")}function me(){n(4,d=!d)}function ke(A){ee.call(this,t,A)}function be(A){ee.call(this,t,A)}function Q(A){ee.call(this,t,A)}function Ie(A){ee.call(this,t,A)}function Ne(A){ee.call(this,t,A)}function x(A){ee.call(this,t,A)}function W(A){ee.call(this,t,A)}function V(A){ee.call(this,t,A)}function de(A){ee.call(this,t,A)}function le(A){ee.call(this,t,A)}function re(A){ee.call(this,t,A)}function Ae(A){ee.call(this,t,A)}function he(A){ee.call(this,t,A)}function Ze(A){ee.call(this,t,A)}function Ce(A){ee.call(this,t,A)}function Se(A){ee.call(this,t,A)}function Pe(A){ee.call(this,t,A)}function Te(A){ee.call(this,t,A)}function we(A){ee.call(this,t,A)}function T(A){ee.call(this,t,A)}function h(A){ee.call(this,t,A)}function O(A){ee.call(this,t,A)}function Y(A){ee.call(this,t,A)}function $e(A){ee.call(this,t,A)}return t.$$set=A=>{"app"in A&&n(20,a=A.app),"isNew"in A&&n(0,l=A.isNew)},[l,c,u,f,d,p,y,r,s,o,I,_,j,k,Z,J,Oe,z,ge,me,a,ke,be,Q,Ie,Ne,x,W,V,de,le,re,Ae,he,Ze,Ce,Se,Pe,Te,we,T,h,O,Y,$e]}class Hl extends We{constructor(e){super(),ze(this,e,Bl,Wl,Re,{app:20,isNew:0},null,[-1,-1])}}function Yl(t){let e=t[6]()+"",n;return{c(){n=q(e)},m(r,s){C(r,n,s)},p:X,i:X,o:X,d(r){r&&w(n)}}}function Vl(t){let e,n;return e=new Hl({props:{isNew:t[1],app:t[0]}}),e.$on("submit",t[2]),e.$on("delete",t[3]),{c(){ue(e.$$.fragment)},m(r,s){oe(e,r,s),n=!0},p(r,s){const i={};s&2&&(i.isNew=r[1]),s&1&&(i.app=r[0]),e.$set(i)},i(r){n||(L(e.$$.fragment,r),n=!0)},o(r){P(e.$$.fragment,r),n=!1},d(r){ae(e,r)}}}function Jl(t){let e,n,r,s;const i=[Vl,Yl],o=[];function a(l,c){return l[0]?0:1}return e=a(t),n=o[e]=i[e](t),{c(){n.c(),r=Tt()},m(l,c){o[e].m(l,c),C(l,r,c),s=!0},p(l,[c]){let u=e;e=a(l),e===u?o[e].p(l,c):(Ke(),P(o[u],1,1,()=>{o[u]=null}),Xe(),n=o[e],n?n.p(l,c):(n=o[e]=i[e](l),n.c()),L(n,1),n.m(r.parentNode,r))},i(l){s||(L(n),s=!0)},o(l){P(n),s=!1},d(l){o[e].d(l),l&&w(r)}}}function Kl(t,e,n){let r,s,i,o;nt(t,it,f=>n(7,i=f)),nt(t,nn,f=>n(5,o=f));let{params:a}=e;function l({detail:f}){const d=i;if(d===void 0){Ut("/login");return}nn.save(d,f),r&&Ut(`/applications/${f.id}`)}function c(){s&&nn.deleteById(s.id),Ut("/applications")}const u=()=>Qn("/applications");return t.$$set=f=>{"params"in f&&n(4,a=f.params)},t.$$.update=()=>{t.$$.dirty&16&&n(1,r=a.id==="new"),t.$$.dirty&50&&n(0,s=r?nn.getTemplate():o.find(f=>f.id===a.id))},[s,r,l,c,a,o,u]}class Xl extends We{constructor(e){super(),ze(this,e,Kl,Jl,Re,{params:4})}}const Tn=[];let ui;function di(t){const e=t.pattern.test(ui);bs(t,t.className,e),bs(t,t.inactiveClassName,!e)}function bs(t,e,n){(e||"").split(" ").forEach(r=>{!r||(t.node.classList.remove(r),n&&t.node.classList.add(r))})}Gn.subscribe(t=>{ui=t.location+(t.querystring?"?"+t.querystring:""),Tn.map(di)});function Gl(t,e){if(e&&(typeof e=="string"||typeof e=="object"&&e instanceof RegExp)?e={path:e}:e=e||{},!e.path&&t.hasAttribute("href")&&(e.path=t.getAttribute("href"),e.path&&e.path.length>1&&e.path.charAt(0)=="#"&&(e.path=e.path.substring(1))),e.className||(e.className="active"),!e.path||typeof e.path=="string"&&(e.path.length<1||e.path.charAt(0)!="/"&&e.path.charAt(0)!="*"))throw Error('Invalid value for "path" argument');const{pattern:n}=typeof e.path=="string"?$s(e.path):{pattern:e.path},r={node:t,className:e.className,inactiveClassName:e.inactiveClassName,pattern:n};return Tn.push(r),di(r),{destroy(){Tn.splice(Tn.indexOf(r),1)}}}function Ql(t){let e,n,r,s;const i=t[2].default,o=Yn(i,t,t[1],null);return{c(){e=N("a"),o&&o.c(),b(e,"href",t[0]),b(e,"class","text-zinc-500 hover:text-black")},m(a,l){C(a,e,l),o&&o.m(e,null),n=!0,r||(s=[Ht(Rr.call(null,e)),Ht(Gl.call(null,e,{className:"text-black"}))],r=!0)},p(a,[l]){o&&o.p&&(!n||l&2)&&Jn(o,i,a,a[1],n?Vn(i,a[1],l,null):Kn(a[1]),null),(!n||l&1)&&b(e,"href",a[0])},i(a){n||(L(o,a),n=!0)},o(a){P(o,a),n=!1},d(a){a&&w(e),o&&o.d(a),r=!1,mt(s)}}}function ec(t,e,n){let{$$slots:r={},$$scope:s}=e,{href:i}=e;return t.$$set=o=>{"href"in o&&n(0,i=o.href),"$$scope"in o&&n(1,s=o.$$scope)},[i,s,r]}class Bt extends We{constructor(e){super(),ze(this,e,ec,Ql,Re,{href:0})}}function tc(t){let e,n;return{c(){e=N("img"),ks(e.src,n=Xs)||b(e,"src",n),b(e,"width","32"),b(e,"height","32"),b(e,"alt","Logotype")},m(r,s){C(r,e,s)},p:X,d(r){r&&w(e)}}}function nc(t){let e,n;return e=new Bt({props:{href:"/applications",$$slots:{default:[sc]},$$scope:{ctx:t}}}),{c(){ue(e.$$.fragment)},m(r,s){oe(e,r,s),n=!0},i(r){n||(L(e.$$.fragment,r),n=!0)},o(r){P(e.$$.fragment,r),n=!1},d(r){ae(e,r)}}}function rc(t){let e,n;return e=new Bt({props:{href:"/login",$$slots:{default:[ic]},$$scope:{ctx:t}}}),{c(){ue(e.$$.fragment)},m(r,s){oe(e,r,s),n=!0},i(r){n||(L(e.$$.fragment,r),n=!0)},o(r){P(e.$$.fragment,r),n=!1},d(r){ae(e,r)}}}function sc(t){let e;return{c(){e=q("Applications")},m(n,r){C(n,e,r)},d(n){n&&w(e)}}}function ic(t){let e;return{c(){e=q("Master Password")},m(n,r){C(n,e,r)},d(n){n&&w(e)}}}function oc(t){let e;return{c(){e=q("Sync")},m(n,r){C(n,e,r)},d(n){n&&w(e)}}}function ac(t){let e;return{c(){e=q("About")},m(n,r){C(n,e,r)},d(n){n&&w(e)}}}function vs(t){let e,n;return e=new Bt({props:{href:"/logout",$$slots:{default:[lc]},$$scope:{ctx:t}}}),{c(){ue(e.$$.fragment)},m(r,s){oe(e,r,s),n=!0},i(r){n||(L(e.$$.fragment,r),n=!0)},o(r){P(e.$$.fragment,r),n=!1},d(r){ae(e,r)}}}function lc(t){let e;return{c(){e=q("Logout")},m(n,r){C(n,e,r)},d(n){n&&w(e)}}}function cc(t){let e,n,r=t[5].message+"",s;return{c(){e=N("b"),n=q("Failed to initalize cryptography: "),s=q(r),b(e,"class","text-red-500")},m(i,o){C(i,e,o),E(e,n),E(e,s)},p:X,i:X,o:X,d(i){i&&w(e)}}}function uc(t){let e,n;return e=new Li({props:{routes:t[1]}}),e.$on("conditionsFailed",t[2]),{c(){ue(e.$$.fragment)},m(r,s){oe(e,r,s),n=!0},p:X,i(r){n||(L(e.$$.fragment,r),n=!0)},o(r){P(e.$$.fragment,r),n=!1},d(r){ae(e,r)}}}function dc(t){return{c:X,m:X,p:X,i:X,o:X,d:X}}function fc(t){let e,n,r,s,i,o,a,l,c,u,f,d,m;n=new Bt({props:{href:"/",$$slots:{default:[tc]},$$scope:{ctx:t}}});const p=[rc,nc],y=[];function v(R,_){return R[0]===void 0?0:1}s=v(t),i=y[s]=p[s](t),a=new Bt({props:{href:"/sync",$$slots:{default:[oc]},$$scope:{ctx:t}}}),c=new Bt({props:{href:"/about",$$slots:{default:[ac]},$$scope:{ctx:t}}});let g=t[0]!==void 0&&vs(t),I={ctx:t,current:null,token:null,hasCatch:!0,pending:dc,then:uc,catch:cc,error:5,blocks:[,,,]};return Ai(Jo,I),{c(){e=N("nav"),ue(n.$$.fragment),r=F(),i.c(),o=F(),ue(a.$$.fragment),l=F(),ue(c.$$.fragment),u=F(),g&&g.c(),f=F(),d=N("div"),I.block.c(),b(e,"class","flex gap-4 items-center p-4"),b(d,"class","container mx-auto max-w-screen-md p-4")},m(R,_){C(R,e,_),oe(n,e,null),E(e,r),y[s].m(e,null),E(e,o),oe(a,e,null),E(e,l),oe(c,e,null),E(e,u),g&&g.m(e,null),C(R,f,_),C(R,d,_),I.block.m(d,I.anchor=null),I.mount=()=>d,I.anchor=null,m=!0},p(R,[_]){t=R;const j={};_&64&&(j.$$scope={dirty:_,ctx:t}),n.$set(j);let k=s;s=v(t),s!==k&&(Ke(),P(y[k],1,1,()=>{y[k]=null}),Xe(),i=y[s],i||(i=y[s]=p[s](t),i.c()),L(i,1),i.m(e,o));const D={};_&64&&(D.$$scope={dirty:_,ctx:t}),a.$set(D);const Z={};_&64&&(Z.$$scope={dirty:_,ctx:t}),c.$set(Z),t[0]!==void 0?g?_&1&&L(g,1):(g=vs(t),g.c(),L(g,1),g.m(e,null)):g&&(Ke(),P(g,1,1,()=>{g=null}),Xe()),Ci(I,t,_)},i(R){m||(L(n.$$.fragment,R),L(i),L(a.$$.fragment,R),L(c.$$.fragment,R),L(g),L(I.block),m=!0)},o(R){P(n.$$.fragment,R),P(i),P(a.$$.fragment,R),P(c.$$.fragment,R),P(g);for(let _=0;_<3;_+=1){const j=I.blocks[_];P(j)}m=!1},d(R){R&&w(e),ae(n),y[s].d(),ae(a),ae(c),g&&g.d(),R&&w(f),R&&w(d),I.block.d(),I.token=null,I=null}}}function pc(t,e,n){let r;nt(t,it,l=>n(0,r=l));const s=()=>r!==void 0,o={"/":ur,"/about":ur,"/sync":wl,"/login":lr({component:La,conditions:[()=>r===void 0]}),"/applications":lr({component:jl,conditions:[s]}),"/applications/:id":lr({component:Xl,conditions:[s]}),"/logout":Za,"/*":ur};function a(){Qn("/login")}return[r,o,a]}class mc extends We{constructor(e){super(),ze(this,e,pc,fc,Re,{})}}const fi=document.getElementById("app");if(!fi)throw new Error("#app not found");new mc({target:fi});
