(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerpolicy&&(i.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?i.credentials="include":s.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function K(){}const $i=t=>t;function Mr(t,e){for(const n in e)t[n]=e[n];return t}function Oi(t){return t&&typeof t=="object"&&typeof t.then=="function"}function Is(t){return t()}function Jr(){return Object.create(null)}function tt(t){t.forEach(Is)}function mn(t){return typeof t=="function"}function Me(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}let yn;function js(t,e){return yn||(yn=document.createElement("a")),yn.href=e,t===yn.href}function Ni(t){return Object.keys(t).length===0}function Zr(t,...e){if(t==null)return K;const n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function Qe(t,e,n){t.$$.on_destroy.push(Zr(e,n))}function Gn(t,e,n,r){if(t){const s=Rs(t,e,n,r);return t[0](s)}}function Rs(t,e,n,r){return t[1]&&r?Mr(n.ctx.slice(),t[1](r(e))):n.ctx}function Qn(t,e,n,r){if(t[2]&&r){const s=t[2](r(n));if(e.dirty===void 0)return s;if(typeof s=="object"){const i=[],o=Math.max(e.dirty.length,s.length);for(let a=0;a<o;a+=1)i[a]=e.dirty[a]|s[a];return i}return e.dirty|s}return e.dirty}function er(t,e,n,r,s,i){if(s){const o=Rs(e,n,r,i);t.p(o,s)}}function tr(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let r=0;r<n;r++)e[r]=-1;return e}return-1}function Ii(t){const e={};for(const n in t)e[n]=!0;return e}function nr(t,e,n){return t.set(n),e}function Yt(t){return t&&mn(t.destroy)?t.destroy:K}const Ls=typeof window<"u";let ji=Ls?()=>window.performance.now():()=>Date.now(),Pr=Ls?t=>requestAnimationFrame(t):K;const Ut=new Set;function Ms(t){Ut.forEach(e=>{e.c(t)||(Ut.delete(e),e.f())}),Ut.size!==0&&Pr(Ms)}function Ri(t){let e;return Ut.size===0&&Pr(Ms),{promise:new Promise(n=>{Ut.add(e={c:t,f:n})}),abort(){Ut.delete(e)}}}function C(t,e){t.appendChild(e)}function Zs(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;return e&&e.host?e:t.ownerDocument}function Li(t){const e=$("style");return Mi(Zs(t),e),e.sheet}function Mi(t,e){return C(t.head||t,e),e.sheet}function A(t,e,n){t.insertBefore(e,n||null)}function k(t){t.parentNode&&t.parentNode.removeChild(t)}function $(t){return document.createElement(t)}function Kr(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function U(t){return document.createTextNode(t)}function F(){return U(" ")}function $t(){return U("")}function Fe(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function Ge(t){return function(e){return e.preventDefault(),t.call(this,e)}}function v(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function Zi(t){return Array.from(t.childNodes)}function it(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function Xr(t,e){t.value=e==null?"":e}function Ps(t,e,n,r){n===null?t.style.removeProperty(e):t.style.setProperty(e,n,r?"important":"")}function gn(t,e,n){t.classList[n?"add":"remove"](e)}function Ds(t,e,{bubbles:n=!1,cancelable:r=!1}={}){const s=document.createEvent("CustomEvent");return s.initCustomEvent(t,n,r,e),s}function jn(t,e){return new t(e)}const Rn=new Map;let Ln=0;function Pi(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}function Di(t,e){const n={stylesheet:Li(e),rules:{}};return Rn.set(t,n),n}function Gr(t,e,n,r,s,i,o,a=0){const l=16.666/r;let c=`{
`;for(let b=0;b<=1;b+=l){const w=e+(n-e)*i(b);c+=b*100+`%{${o(w,1-w)}}
`}const u=c+`100% {${o(n,1-n)}}
}`,f=`__svelte_${Pi(u)}_${a}`,d=Zs(t),{stylesheet:p,rules:m}=Rn.get(d)||Di(d,t);m[f]||(m[f]=!0,p.insertRule(`@keyframes ${f} ${u}`,p.cssRules.length));const h=t.style.animation||"";return t.style.animation=`${h?`${h}, `:""}${f} ${r}ms linear ${s}ms 1 both`,Ln+=1,f}function Fi(t,e){const n=(t.style.animation||"").split(", "),r=n.filter(e?i=>i.indexOf(e)<0:i=>i.indexOf("__svelte")===-1),s=n.length-r.length;s&&(t.style.animation=r.join(", "),Ln-=s,Ln||Ui())}function Ui(){Pr(()=>{Ln||(Rn.forEach(t=>{const{ownerNode:e}=t.stylesheet;e&&k(e)}),Rn.clear())})}let on;function yt(t){on=t}function hn(){if(!on)throw new Error("Function called outside component initialization");return on}function Wi(t){hn().$$.on_mount.push(t)}function qi(t){hn().$$.after_update.push(t)}function Dr(t){hn().$$.on_destroy.push(t)}function Fs(){const t=hn();return(e,n,{cancelable:r=!1}={})=>{const s=t.$$.callbacks[e];if(s){const i=Ds(e,n,{cancelable:r});return s.slice().forEach(o=>{o.call(t,i)}),!i.defaultPrevented}return!0}}function ee(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach(r=>r.call(this,e))}const tn=[],Mn=[],xn=[],vr=[],Us=Promise.resolve();let wr=!1;function Ws(){wr||(wr=!0,Us.then(Ur))}function Fr(){return Ws(),Us}function an(t){xn.push(t)}function zi(t){vr.push(t)}const pr=new Set;let bn=0;function Ur(){const t=on;do{for(;bn<tn.length;){const e=tn[bn];bn++,yt(e),Bi(e.$$)}for(yt(null),tn.length=0,bn=0;Mn.length;)Mn.pop()();for(let e=0;e<xn.length;e+=1){const n=xn[e];pr.has(n)||(pr.add(n),n())}xn.length=0}while(tn.length);for(;vr.length;)vr.pop()();wr=!1,pr.clear(),yt(t)}function Bi(t){if(t.fragment!==null){t.update(),tt(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(an)}}let Qt;function Hi(){return Qt||(Qt=Promise.resolve(),Qt.then(()=>{Qt=null})),Qt}function mr(t,e,n){t.dispatchEvent(Ds(`${e?"intro":"outro"}${n}`))}const Tn=new Set;let gt;function Je(){gt={r:0,c:[],p:gt}}function Ke(){gt.r||tt(gt.c),gt=gt.p}function L(t,e){t&&t.i&&(Tn.delete(t),t.i(e))}function Z(t,e,n,r){if(t&&t.o){if(Tn.has(t))return;Tn.add(t),gt.c.push(()=>{Tn.delete(t),r&&(n&&t.d(1),r())}),t.o(e)}else r&&r()}const Yi={duration:0};function Qr(t,e,n,r){let s=e(t,n),i=r?0:1,o=null,a=null,l=null;function c(){l&&Fi(t,l)}function u(d,p){const m=d.b-i;return p*=Math.abs(m),{a:i,b:d.b,d:m,duration:p,start:d.start,end:d.start+p,group:d.group}}function f(d){const{delay:p=0,duration:m=300,easing:h=$i,tick:b=K,css:w}=s||Yi,R={start:ji()+p,b:d};d||(R.group=gt,gt.r+=1),o||a?a=R:(w&&(c(),l=Gr(t,i,d,m,p,h,w)),d&&b(0,1),o=u(R,m),an(()=>mr(t,d,"start")),Ri(M=>{if(a&&M>a.start&&(o=u(a,m),a=null,mr(t,o.b,"start"),w&&(c(),l=Gr(t,i,o.b,o.duration,0,h,s.css))),o){if(M>=o.end)b(i=o.b,1-i),mr(t,o.b,"end"),a||(o.b?c():--o.group.r||tt(o.group.c)),o=null;else if(M>=o.start){const y=M-o.start;i=o.a+o.d*h(y/o.duration),b(i,1-i)}}return!!(o||a)}))}return{run(d){mn(s)?Hi().then(()=>{s=s(),f(d)}):f(d)},end(){c(),o=a=null}}}function Vi(t,e){const n=e.token={};function r(s,i,o,a){if(e.token!==n)return;e.resolved=a;let l=e.ctx;o!==void 0&&(l=l.slice(),l[o]=a);const c=s&&(e.current=s)(l);let u=!1;e.block&&(e.blocks?e.blocks.forEach((f,d)=>{d!==i&&f&&(Je(),Z(f,1,1,()=>{e.blocks[d]===f&&(e.blocks[d]=null)}),Ke())}):e.block.d(1),c.c(),L(c,1),c.m(e.mount(),e.anchor),u=!0),e.block=c,e.blocks&&(e.blocks[i]=c),u&&Ur()}if(Oi(t)){const s=hn();if(t.then(i=>{yt(s),r(e.then,1,e.value,i),yt(null)},i=>{if(yt(s),r(e.catch,2,e.error,i),yt(null),!e.hasCatch)throw i}),e.current!==e.pending)return r(e.pending,0),!0}else{if(e.current!==e.then)return r(e.then,1,e.value,t),!0;e.resolved=t}}function Ji(t,e,n){const r=e.slice(),{resolved:s}=t;t.current===t.then&&(r[t.value]=s),t.current===t.catch&&(r[t.error]=s),t.block.p(r,n)}function Ki(t,e){Z(t,1,1,()=>{e.delete(t.key)})}function Xi(t,e,n,r,s,i,o,a,l,c,u,f){let d=t.length,p=i.length,m=d;const h={};for(;m--;)h[t[m].key]=m;const b=[],w=new Map,R=new Map;for(m=p;m--;){const g=f(s,i,m),D=n(g);let P=o.get(D);P?r&&P.p(g,e):(P=c(D,g),P.c()),w.set(D,b[m]=P),D in h&&R.set(D,Math.abs(m-h[D]))}const M=new Set,y=new Set;function S(g){L(g,1),g.m(a,u),o.set(g.key,g),u=g.first,p--}for(;d&&p;){const g=b[p-1],D=t[d-1],P=g.key,V=D.key;g===D?(u=g.first,d--,p--):w.has(V)?!o.has(P)||M.has(P)?S(g):y.has(V)?d--:R.get(P)>R.get(V)?(y.add(P),S(g)):(M.add(V),d--):(l(D,o),d--)}for(;d--;){const g=t[d];w.has(g.key)||l(g,o)}for(;p;)S(b[p-1]);return b}function qs(t,e){const n={},r={},s={$$scope:1};let i=t.length;for(;i--;){const o=t[i],a=e[i];if(a){for(const l in o)l in a||(r[l]=1);for(const l in a)s[l]||(n[l]=a[l],s[l]=1);t[i]=a}else for(const l in o)s[l]=1}for(const o in r)o in n||(n[o]=void 0);return n}function zs(t){return typeof t=="object"&&t!==null?t:{}}function Gi(t,e,n){const r=t.$$.props[e];r!==void 0&&(t.$$.bound[r]=n,n(t.$$.ctx[r]))}function ue(t){t&&t.c()}function oe(t,e,n,r){const{fragment:s,after_update:i}=t.$$;s&&s.m(e,n),r||an(()=>{const o=t.$$.on_mount.map(Is).filter(mn);t.$$.on_destroy?t.$$.on_destroy.push(...o):tt(o),t.$$.on_mount=[]}),i.forEach(an)}function ae(t,e){const n=t.$$;n.fragment!==null&&(tt(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function Qi(t,e){t.$$.dirty[0]===-1&&(tn.push(t),Ws(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function ze(t,e,n,r,s,i,o,a=[-1]){const l=on;yt(t);const c=t.$$={fragment:null,ctx:[],props:i,update:K,not_equal:s,bound:Jr(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(l?l.$$.context:[])),callbacks:Jr(),dirty:a,skip_bound:!1,root:e.target||l.$$.root};o&&o(c.root);let u=!1;if(c.ctx=n?n(t,e.props||{},(f,d,...p)=>{const m=p.length?p[0]:d;return c.ctx&&s(c.ctx[f],c.ctx[f]=m)&&(!c.skip_bound&&c.bound[f]&&c.bound[f](m),u&&Qi(t,f)),d}):[],c.update(),u=!0,tt(c.before_update),c.fragment=r?r(c.ctx):!1,e.target){if(e.hydrate){const f=Zi(e.target);c.fragment&&c.fragment.l(f),f.forEach(k)}else c.fragment&&c.fragment.c();e.intro&&L(t.$$.fragment),oe(t,e.target,e.anchor,e.customElement),Ur()}yt(l)}class Be{$destroy(){ae(this,1),this.$destroy=K}$on(e,n){if(!mn(n))return K;const r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(n),()=>{const s=r.indexOf(n);s!==-1&&r.splice(s,1)}}$set(e){this.$$set&&!Ni(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}function eo(t){const e=t-1;return e*e*e+1}function es(t,{delay:e=0,duration:n=400,easing:r=eo}={}){const s=getComputedStyle(t),i=+s.opacity,o=parseFloat(s.height),a=parseFloat(s.paddingTop),l=parseFloat(s.paddingBottom),c=parseFloat(s.marginTop),u=parseFloat(s.marginBottom),f=parseFloat(s.borderTopWidth),d=parseFloat(s.borderBottomWidth);return{delay:e,duration:n,easing:r,css:p=>`overflow: hidden;opacity: ${Math.min(p*20,1)*i};height: ${p*o}px;padding-top: ${p*a}px;padding-bottom: ${p*l}px;margin-top: ${p*c}px;margin-bottom: ${p*u}px;border-top-width: ${p*f}px;border-bottom-width: ${p*d}px;`}}function hr(t){if(!t)throw Error("Parameter args is required");if(!t.component==!t.asyncComponent)throw Error("One and only one of component and asyncComponent is required");if(t.component&&(t.asyncComponent=()=>Promise.resolve(t.component)),typeof t.asyncComponent!="function")throw Error("Parameter asyncComponent must be a function");if(t.conditions){Array.isArray(t.conditions)||(t.conditions=[t.conditions]);for(let n=0;n<t.conditions.length;n++)if(!t.conditions[n]||typeof t.conditions[n]!="function")throw Error("Invalid parameter conditions["+n+"]")}return t.loadingComponent&&(t.asyncComponent.loading=t.loadingComponent,t.asyncComponent.loadingParams=t.loadingParams||void 0),{component:t.asyncComponent,userData:t.userData,conditions:t.conditions&&t.conditions.length?t.conditions:void 0,props:t.props&&Object.keys(t.props).length?t.props:{},_sveltesparouter:!0}}const Pt=[];function Bs(t,e){return{subscribe:ot(t,e).subscribe}}function ot(t,e=K){let n;const r=new Set;function s(a){if(Me(t,a)&&(t=a,n)){const l=!Pt.length;for(const c of r)c[1](),Pt.push(c,t);if(l){for(let c=0;c<Pt.length;c+=2)Pt[c][0](Pt[c+1]);Pt.length=0}}}function i(a){s(a(t))}function o(a,l=K){const c=[a,l];return r.add(c),r.size===1&&(n=e(s)||K),a(t),()=>{r.delete(c),r.size===0&&(n(),n=null)}}return{set:s,update:i,subscribe:o}}function rr(t,e,n){const r=!Array.isArray(t),s=r?[t]:t,i=e.length<2;return Bs(n,o=>{let a=!1;const l=[];let c=0,u=K;const f=()=>{if(c)return;u();const p=e(r?l[0]:l,o);i?o(p):u=mn(p)?p:K},d=s.map((p,m)=>Zr(p,h=>{l[m]=h,c&=~(1<<m),a&&f()},()=>{c|=1<<m}));return a=!0,f(),function(){tt(d),u()}})}function Hs(t,e){if(t instanceof RegExp)return{keys:!1,pattern:t};var n,r,s,i,o=[],a="",l=t.split("/");for(l[0]||l.shift();s=l.shift();)n=s[0],n==="*"?(o.push("wild"),a+="/(.*)"):n===":"?(r=s.indexOf("?",1),i=s.indexOf(".",1),o.push(s.substring(1,~r?r:~i?i:s.length)),a+=!!~r&&!~i?"(?:/([^/]+?))?":"/([^/]+?)",~i&&(a+=(~r?"?":"")+"\\"+s.substring(i))):a+="/"+s;return{keys:o,pattern:new RegExp("^"+a+(e?"(?=$|/)":"/?$"),"i")}}function to(t){let e,n,r;const s=[t[2]];var i=t[0];function o(a){let l={};for(let c=0;c<s.length;c+=1)l=Mr(l,s[c]);return{props:l}}return i&&(e=jn(i,o()),e.$on("routeEvent",t[7])),{c(){e&&ue(e.$$.fragment),n=$t()},m(a,l){e&&oe(e,a,l),A(a,n,l),r=!0},p(a,l){const c=l&4?qs(s,[zs(a[2])]):{};if(i!==(i=a[0])){if(e){Je();const u=e;Z(u.$$.fragment,1,0,()=>{ae(u,1)}),Ke()}i?(e=jn(i,o()),e.$on("routeEvent",a[7]),ue(e.$$.fragment),L(e.$$.fragment,1),oe(e,n.parentNode,n)):e=null}else i&&e.$set(c)},i(a){r||(e&&L(e.$$.fragment,a),r=!0)},o(a){e&&Z(e.$$.fragment,a),r=!1},d(a){a&&k(n),e&&ae(e,a)}}}function no(t){let e,n,r;const s=[{params:t[1]},t[2]];var i=t[0];function o(a){let l={};for(let c=0;c<s.length;c+=1)l=Mr(l,s[c]);return{props:l}}return i&&(e=jn(i,o()),e.$on("routeEvent",t[6])),{c(){e&&ue(e.$$.fragment),n=$t()},m(a,l){e&&oe(e,a,l),A(a,n,l),r=!0},p(a,l){const c=l&6?qs(s,[l&2&&{params:a[1]},l&4&&zs(a[2])]):{};if(i!==(i=a[0])){if(e){Je();const u=e;Z(u.$$.fragment,1,0,()=>{ae(u,1)}),Ke()}i?(e=jn(i,o()),e.$on("routeEvent",a[6]),ue(e.$$.fragment),L(e.$$.fragment,1),oe(e,n.parentNode,n)):e=null}else i&&e.$set(c)},i(a){r||(e&&L(e.$$.fragment,a),r=!0)},o(a){e&&Z(e.$$.fragment,a),r=!1},d(a){a&&k(n),e&&ae(e,a)}}}function ro(t){let e,n,r,s;const i=[no,to],o=[];function a(l,c){return l[1]?0:1}return e=a(t),n=o[e]=i[e](t),{c(){n.c(),r=$t()},m(l,c){o[e].m(l,c),A(l,r,c),s=!0},p(l,[c]){let u=e;e=a(l),e===u?o[e].p(l,c):(Je(),Z(o[u],1,1,()=>{o[u]=null}),Ke(),n=o[e],n?n.p(l,c):(n=o[e]=i[e](l),n.c()),L(n,1),n.m(r.parentNode,r))},i(l){s||(L(n),s=!0)},o(l){Z(n),s=!1},d(l){o[e].d(l),l&&k(r)}}}function ts(){const t=window.location.href.indexOf("#/");let e=t>-1?window.location.href.substr(t+1):"/";const n=e.indexOf("?");let r="";return n>-1&&(r=e.substr(n+1),e=e.substr(0,n)),{location:e,querystring:r}}const sr=Bs(null,function(e){e(ts());const n=()=>{e(ts())};return window.addEventListener("hashchange",n,!1),function(){window.removeEventListener("hashchange",n,!1)}});rr(sr,t=>t.location);rr(sr,t=>t.querystring);const ns=ot(void 0);async function Wt(t){if(!t||t.length<1||t.charAt(0)!="/"&&t.indexOf("#/")!==0)throw Error("Invalid parameter location");await Fr(),history.replaceState({...history.state,__svelte_spa_router_scrollX:window.scrollX,__svelte_spa_router_scrollY:window.scrollY},void 0),window.location.hash=(t.charAt(0)=="#"?"":"#")+t}async function ir(t){if(!t||t.length<1||t.charAt(0)!="/"&&t.indexOf("#/")!==0)throw Error("Invalid parameter location");await Fr();const e=(t.charAt(0)=="#"?"":"#")+t;try{const n={...history.state};delete n.__svelte_spa_router_scrollX,delete n.__svelte_spa_router_scrollY,window.history.replaceState(n,void 0,e)}catch{console.warn("Caught exception while replacing the current page. If you're running this in the Svelte REPL, please note that the `replace` method might not work in this environment.")}window.dispatchEvent(new Event("hashchange"))}function Wr(t,e){if(e=ss(e),!t||!t.tagName||t.tagName.toLowerCase()!="a")throw Error('Action "link" can only be used with <a> tags');return rs(t,e),{update(n){n=ss(n),rs(t,n)}}}function so(t){t?window.scrollTo(t.__svelte_spa_router_scrollX,t.__svelte_spa_router_scrollY):window.scrollTo(0,0)}function rs(t,e){let n=e.href||t.getAttribute("href");if(n&&n.charAt(0)=="/")n="#"+n;else if(!n||n.length<2||n.slice(0,2)!="#/")throw Error('Invalid value for "href" attribute: '+n);t.setAttribute("href",n),t.addEventListener("click",r=>{r.preventDefault(),e.disabled||io(r.currentTarget.getAttribute("href"))})}function ss(t){return t&&typeof t=="string"?{href:t}:t||{}}function io(t){history.replaceState({...history.state,__svelte_spa_router_scrollX:window.scrollX,__svelte_spa_router_scrollY:window.scrollY},void 0),window.location.hash=t}function oo(t,e,n){let{routes:r={}}=e,{prefix:s=""}=e,{restoreScrollState:i=!1}=e;class o{constructor(S,g){if(!g||typeof g!="function"&&(typeof g!="object"||g._sveltesparouter!==!0))throw Error("Invalid component object");if(!S||typeof S=="string"&&(S.length<1||S.charAt(0)!="/"&&S.charAt(0)!="*")||typeof S=="object"&&!(S instanceof RegExp))throw Error('Invalid value for "path" argument - strings must start with / or *');const{pattern:D,keys:P}=Hs(S);this.path=S,typeof g=="object"&&g._sveltesparouter===!0?(this.component=g.component,this.conditions=g.conditions||[],this.userData=g.userData,this.props=g.props||{}):(this.component=()=>Promise.resolve(g),this.conditions=[],this.props={}),this._pattern=D,this._keys=P}match(S){if(s){if(typeof s=="string")if(S.startsWith(s))S=S.substr(s.length)||"/";else return null;else if(s instanceof RegExp){const V=S.match(s);if(V&&V[0])S=S.substr(V[0].length)||"/";else return null}}const g=this._pattern.exec(S);if(g===null)return null;if(this._keys===!1)return g;const D={};let P=0;for(;P<this._keys.length;){try{D[this._keys[P]]=decodeURIComponent(g[P+1]||"")||null}catch{D[this._keys[P]]=null}P++}return D}async checkConditions(S){for(let g=0;g<this.conditions.length;g++)if(!await this.conditions[g](S))return!1;return!0}}const a=[];r instanceof Map?r.forEach((y,S)=>{a.push(new o(S,y))}):Object.keys(r).forEach(y=>{a.push(new o(y,r[y]))});let l=null,c=null,u={};const f=Fs();async function d(y,S){await Fr(),f(y,S)}let p=null,m=null;i&&(m=y=>{y.state&&(y.state.__svelte_spa_router_scrollY||y.state.__svelte_spa_router_scrollX)?p=y.state:p=null},window.addEventListener("popstate",m),qi(()=>{so(p)}));let h=null,b=null;const w=sr.subscribe(async y=>{h=y;let S=0;for(;S<a.length;){const g=a[S].match(y.location);if(!g){S++;continue}const D={route:a[S].path,location:y.location,querystring:y.querystring,userData:a[S].userData,params:g&&typeof g=="object"&&Object.keys(g).length?g:null};if(!await a[S].checkConditions(D)){n(0,l=null),b=null,d("conditionsFailed",D);return}d("routeLoading",Object.assign({},D));const P=a[S].component;if(b!=P){P.loading?(n(0,l=P.loading),b=P,n(1,c=P.loadingParams),n(2,u={}),d("routeLoaded",Object.assign({},D,{component:l,name:l.name,params:c}))):(n(0,l=null),b=null);const V=await P();if(y!=h)return;n(0,l=V&&V.default||V),b=P}g&&typeof g=="object"&&Object.keys(g).length?n(1,c=g):n(1,c=null),n(2,u=a[S].props),d("routeLoaded",Object.assign({},D,{component:l,name:l.name,params:c})).then(()=>{ns.set(c)});return}n(0,l=null),b=null,ns.set(void 0)});Dr(()=>{w(),m&&window.removeEventListener("popstate",m)});function R(y){ee.call(this,t,y)}function M(y){ee.call(this,t,y)}return t.$$set=y=>{"routes"in y&&n(3,r=y.routes),"prefix"in y&&n(4,s=y.prefix),"restoreScrollState"in y&&n(5,i=y.restoreScrollState)},t.$$.update=()=>{t.$$.dirty&32&&(history.scrollRestoration=i?"manual":"auto")},[l,c,u,r,s,i,R,M]}class ao extends Be{constructor(e){super(),ze(this,e,oo,ro,Me,{routes:3,prefix:4,restoreScrollState:5})}}const lo="modulepreload",co=function(t){return"/"+t},is={},uo=function(e,n,r){if(!n||n.length===0)return e();const s=document.getElementsByTagName("link");return Promise.all(n.map(i=>{if(i=co(i),i in is)return;is[i]=!0;const o=i.endsWith(".css"),a=o?'[rel="stylesheet"]':"";if(!!r)for(let u=s.length-1;u>=0;u--){const f=s[u];if(f.href===i&&(!o||f.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${i}"]${a}`))return;const c=document.createElement("link");if(c.rel=o?"stylesheet":lo,o||(c.as="script",c.crossOrigin=""),c.href=i,document.head.appendChild(c),o)return new Promise((u,f)=>{c.addEventListener("load",u),c.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${i}`)))})})).then(()=>e())};function fo(t={}){const{immediate:e=!1,onNeedRefresh:n,onOfflineReady:r,onRegistered:s,onRegisteredSW:i,onRegisterError:o}=t;let a,l,c,u;const f=async(p=!0)=>{await c,p&&(a==null||a.addEventListener("controlling",m=>{m.isUpdate&&window.location.reload()})),await(u==null?void 0:u())};async function d(){if("serviceWorker"in navigator){const{Workbox:p,messageSW:m}=await uo(()=>import("./workbox-window.prod.es5.d2780aeb.js"),[]);u=async()=>{l&&l.waiting&&await m(l.waiting,{type:"SKIP_WAITING"})},a=new p("/sw.js",{scope:"/",type:"classic"}),a.addEventListener("activated",h=>{h.isUpdate||r==null||r()});{const h=()=>{n==null||n()};a.addEventListener("waiting",h),a.addEventListener("externalwaiting",h)}a.register({immediate:e}).then(h=>{l=h,i?i("/sw.js",h):s==null||s(h)}).catch(h=>{o==null||o(h)})}}return c=d(),f}function po(t={}){const{immediate:e=!0,onNeedRefresh:n,onOfflineReady:r,onRegistered:s,onRegisteredSW:i,onRegisterError:o}=t,a=ot(!1),l=ot(!1),c=fo({immediate:e,onOfflineReady(){l.set(!0),r==null||r()},onNeedRefresh(){a.set(!0),n==null||n()},onRegistered:s,onRegisteredSW:i,onRegisterError:o});return{needRefresh:a,offlineReady:l,updateServiceWorker:c}}let ce,$n=new Uint8Array;function Ys(){return $n.byteLength===0&&($n=new Uint8Array(ce.memory.buffer)),$n}let et=0;function st(t,e){const n=e(t.length*1);return Ys().set(t,n/1),et=t.length,n}let On=new Int32Array;function xt(){return On.byteLength===0&&(On=new Int32Array(ce.memory.buffer)),On}function or(t,e){return Ys().subarray(t/1,t/1+e)}function Vs(t,e,n,r,s,i){try{const c=ce.__wbindgen_add_to_stack_pointer(-16),u=st(r,ce.__wbindgen_malloc),f=et,d=st(s,ce.__wbindgen_malloc),p=et;ce.derive(c,t,e,n,u,f,d,p,i);var o=xt()[c/4+0],a=xt()[c/4+1],l=or(o,a).slice();return ce.__wbindgen_free(o,a*1),l}finally{ce.__wbindgen_add_to_stack_pointer(16)}}function mo(t,e,n,r){try{const a=ce.__wbindgen_add_to_stack_pointer(-16),l=st(t,ce.__wbindgen_malloc),c=et,u=st(e,ce.__wbindgen_malloc),f=et,d=st(n,ce.__wbindgen_malloc),p=et,m=st(r,ce.__wbindgen_malloc),h=et;ce.encrypt(a,l,c,u,f,d,p,m,h);var s=xt()[a/4+0],i=xt()[a/4+1],o=or(s,i).slice();return ce.__wbindgen_free(s,i*1),o}finally{ce.__wbindgen_add_to_stack_pointer(16)}}function Js(t,e,n){try{const i=ce.__wbindgen_add_to_stack_pointer(-16),o=st(t,ce.__wbindgen_malloc),a=et,l=st(e,ce.__wbindgen_malloc),c=et,u=st(n,ce.__wbindgen_malloc),f=et;ce.decrypt(i,o,a,l,c,u,f);var r=xt()[i/4+0],s=xt()[i/4+1];let d;return r!==0&&(d=or(r,s).slice(),ce.__wbindgen_free(r,s*1)),d}finally{ce.__wbindgen_add_to_stack_pointer(16)}}function ho(t,e){try{const s=ce.__wbindgen_add_to_stack_pointer(-16),i=st(t,ce.__wbindgen_malloc),o=et,a=st(e,ce.__wbindgen_malloc),l=et;ce.decrypt_legacy(s,i,o,a,l);var n=xt()[s/4+0],r=xt()[s/4+1];let c;return n!==0&&(c=or(n,r).slice(),ce.__wbindgen_free(n,r*1)),c}finally{ce.__wbindgen_add_to_stack_pointer(16)}}async function _o(t,e){if(typeof Response=="function"&&t instanceof Response){if(typeof WebAssembly.instantiateStreaming=="function")try{return await WebAssembly.instantiateStreaming(t,e)}catch(r){if(t.headers.get("Content-Type")!="application/wasm")console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",r);else throw r}const n=await t.arrayBuffer();return await WebAssembly.instantiate(n,e)}else{const n=await WebAssembly.instantiate(t,e);return n instanceof WebAssembly.Instance?{instance:n,module:t}:n}}function yo(){const t={};return t.wbg={},t}function go(t,e){return ce=t.exports,Ks.__wbindgen_wasm_module=e,On=new Int32Array,$n=new Uint8Array,ce}async function Ks(t){typeof t>"u"&&(t="/assets/scrypt_crate_bg.wasm");const e=yo();(typeof t=="string"||typeof Request=="function"&&t instanceof Request||typeof URL=="function"&&t instanceof URL)&&(t=fetch(t));const{instance:n,module:r}=await _o(await t,e);return go(n,r)}function kr(t){if(/\s/.test(t))throw new Error("Can't contain whitespace");return t=t.replace(/(\w)-(\w)/g,(e,n,r)=>{const s=n.charCodeAt(0),i=r.charCodeAt(0);if(n.length!==1||s>255)throw new Error(`Invalid starting character in range "${e}"`);if(r.length!==1||i>255)throw new Error(`Invalid ending character in range "${e}"`);if(s>i)throw new Error(`Invalid range "${e}"`);let o="";for(let a=s;a<=i;a++)o+=String.fromCharCode(a);return o}),t.replace(/[^\\]-|[^\\]-\W|^-\W|^-\w?/,e=>{throw new Error(`Unterminated range "${e}"`)}),t=t.replace(/\\(.)/g,"$1"),Array.from(new Set(t.split(""))).sort()}function os(t){try{return kr(t),!0}catch{return!1}}var pe;(function(t){t.assertEqual=s=>s;function e(s){}t.assertIs=e;function n(s){throw new Error}t.assertNever=n,t.arrayToEnum=s=>{const i={};for(const o of s)i[o]=o;return i},t.getValidEnumValues=s=>{const i=t.objectKeys(s).filter(a=>typeof s[s[a]]!="number"),o={};for(const a of i)o[a]=s[a];return t.objectValues(o)},t.objectValues=s=>t.objectKeys(s).map(function(i){return s[i]}),t.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const i=[];for(const o in s)Object.prototype.hasOwnProperty.call(s,o)&&i.push(o);return i},t.find=(s,i)=>{for(const o of s)if(i(o))return o},t.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&isFinite(s)&&Math.floor(s)===s;function r(s,i=" | "){return s.map(o=>typeof o=="string"?`'${o}'`:o).join(i)}t.joinValues=r,t.jsonStringifyReplacer=(s,i)=>typeof i=="bigint"?i.toString():i})(pe||(pe={}));const j=pe.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Et=t=>{switch(typeof t){case"undefined":return j.undefined;case"string":return j.string;case"number":return isNaN(t)?j.nan:j.number;case"boolean":return j.boolean;case"function":return j.function;case"bigint":return j.bigint;case"object":return Array.isArray(t)?j.array:t===null?j.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?j.promise:typeof Map<"u"&&t instanceof Map?j.map:typeof Set<"u"&&t instanceof Set?j.set:typeof Date<"u"&&t instanceof Date?j.date:j.object;default:return j.unknown}},I=pe.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of"]),bo=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class bt extends Error{constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){const n=e||function(i){return i.message},r={_errors:[]},s=i=>{for(const o of i.issues)if(o.code==="invalid_union")o.unionErrors.map(s);else if(o.code==="invalid_return_type")s(o.returnTypeError);else if(o.code==="invalid_arguments")s(o.argumentsError);else if(o.path.length===0)r._errors.push(n(o));else{let a=r,l=0;for(;l<o.path.length;){const c=o.path[l];l===o.path.length-1?(a[c]=a[c]||{_errors:[]},a[c]._errors.push(n(o))):a[c]=a[c]||{_errors:[]},a=a[c],l++}}};return s(this),r}toString(){return this.message}get message(){return JSON.stringify(this.issues,pe.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},r=[];for(const s of this.issues)s.path.length>0?(n[s.path[0]]=n[s.path[0]]||[],n[s.path[0]].push(e(s))):r.push(e(s));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}bt.create=t=>new bt(t);const ln=(t,e)=>{let n;switch(t.code){case I.invalid_type:t.received===j.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case I.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,pe.jsonStringifyReplacer)}`;break;case I.unrecognized_keys:n=`Unrecognized key(s) in object: ${pe.joinValues(t.keys,", ")}`;break;case I.invalid_union:n="Invalid input";break;case I.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${pe.joinValues(t.options)}`;break;case I.invalid_enum_value:n=`Invalid enum value. Expected ${pe.joinValues(t.options)}, received '${t.received}'`;break;case I.invalid_arguments:n="Invalid function arguments";break;case I.invalid_return_type:n="Invalid function return type";break;case I.invalid_date:n="Invalid date";break;case I.invalid_string:typeof t.validation=="object"?"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:pe.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case I.too_small:t.type==="array"?n=`Array must contain ${t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be greater than ${t.inclusive?"or equal to ":""}${t.minimum}`:t.type==="date"?n=`Date must be greater than ${t.inclusive?"or equal to ":""}${new Date(t.minimum)}`:n="Invalid input";break;case I.too_big:t.type==="array"?n=`Array must contain ${t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be less than ${t.inclusive?"or equal to ":""}${t.maximum}`:t.type==="date"?n=`Date must be smaller than ${t.inclusive?"or equal to ":""}${new Date(t.maximum)}`:n="Invalid input";break;case I.custom:n="Invalid input";break;case I.invalid_intersection_types:n="Intersection results could not be merged";break;case I.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;default:n=e.defaultError,pe.assertNever(t)}return{message:n}};let Xs=ln;function vo(t){Xs=t}function Zn(){return Xs}const Pn=t=>{const{data:e,path:n,errorMaps:r,issueData:s}=t,i=[...n,...s.path||[]],o={...s,path:i};let a="";const l=r.filter(c=>!!c).slice().reverse();for(const c of l)a=c(o,{data:e,defaultError:a}).message;return{...s,path:i,message:s.message||a}},wo=[];function W(t,e){const n=Pn({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,Zn(),ln].filter(r=>!!r)});t.common.issues.push(n)}class We{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const s of n){if(s.status==="aborted")return G;s.status==="dirty"&&e.dirty(),r.push(s.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){const r=[];for(const s of n)r.push({key:await s.key,value:await s.value});return We.mergeObjectSync(e,r)}static mergeObjectSync(e,n){const r={};for(const s of n){const{key:i,value:o}=s;if(i.status==="aborted"||o.status==="aborted")return G;i.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),(typeof o.value<"u"||s.alwaysSet)&&(r[i.value]=o.value)}return{status:e.value,value:r}}}const G=Object.freeze({status:"aborted"}),ko=t=>({status:"dirty",value:t}),qe=t=>({status:"valid",value:t}),Ar=t=>t.status==="aborted",Er=t=>t.status==="dirty",Dn=t=>t.status==="valid",Cr=t=>typeof Promise!==void 0&&t instanceof Promise;var ie;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(ie||(ie={}));class ft{constructor(e,n,r,s){this.parent=e,this.data=n,this._path=r,this._key=s}get path(){return this._path.concat(this._key)}}const as=(t,e)=>{if(Dn(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,error:new bt(t.common.issues)}};function ne(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:r,description:s}=t;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:s}:{errorMap:(o,a)=>o.code!=="invalid_type"?{message:a.defaultError}:typeof a.data>"u"?{message:r!=null?r:a.defaultError}:{message:n!=null?n:a.defaultError},description:s}}class te{constructor(e){this.spa=this.safeParseAsync,this.superRefine=this._refinement,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.default=this.default.bind(this),this.describe=this.describe.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return Et(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:Et(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new We,ctx:{common:e.parent.common,data:e.data,parsedType:Et(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(Cr(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){var r;const s={common:{issues:[],async:(r=n==null?void 0:n.async)!==null&&r!==void 0?r:!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Et(e)},i=this._parseSync({data:e,path:s.path,parent:s});return as(s,i)}async parseAsync(e,n){const r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Et(e)},s=this._parse({data:e,path:[],parent:r}),i=await(Cr(s)?s:Promise.resolve(s));return as(r,i)}refine(e,n){const r=s=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(s):n;return this._refinement((s,i)=>{const o=e(s),a=()=>i.addIssue({code:I.custom,...r(s)});return typeof Promise<"u"&&o instanceof Promise?o.then(l=>l?!0:(a(),!1)):o?!0:(a(),!1)})}refinement(e,n){return this._refinement((r,s)=>e(r)?!0:(s.addIssue(typeof n=="function"?n(r,s):n),!1))}_refinement(e){return new ht({schema:this,typeName:X.ZodEffects,effect:{type:"refinement",refinement:e}})}optional(){return ut.create(this)}nullable(){return Zt.create(this)}nullish(){return this.optional().nullable()}array(){return pt.create(this)}promise(){return Kt.create(this)}or(e){return cn.create([this,e])}and(e){return un.create(this,e)}transform(e){return new ht({schema:this,typeName:X.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new qr({innerType:this,defaultValue:n,typeName:X.ZodDefault})}brand(){return new Qs({typeName:X.ZodBranded,type:this,...ne(void 0)})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const Ao=/^c[^\s-]{8,}$/i,Eo=/^([a-f0-9]{8}-[a-f0-9]{4}-[1-5][a-f0-9]{3}-[a-f0-9]{4}-[a-f0-9]{12}|00000000-0000-0000-0000-000000000000)$/i,Co=/^(([^<>()[\]\.,;:\s@\"]+(\.[^<>()[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()[\]\.,;:\s@\"]+\.)+[^<>()[\]\.,;:\s@\"]{2,})$/i;class Tt extends te{constructor(){super(...arguments),this._regex=(e,n,r)=>this.refinement(s=>e.test(s),{validation:n,code:I.invalid_string,...ie.errToObj(r)}),this.nonempty=e=>this.min(1,ie.errToObj(e)),this.trim=()=>new Tt({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}_parse(e){if(this._getType(e)!==j.string){const i=this._getOrReturnCtx(e);return W(i,{code:I.invalid_type,expected:j.string,received:i.parsedType}),G}const r=new We;let s;for(const i of this._def.checks)if(i.kind==="min")e.data.length<i.value&&(s=this._getOrReturnCtx(e,s),W(s,{code:I.too_small,minimum:i.value,type:"string",inclusive:!0,message:i.message}),r.dirty());else if(i.kind==="max")e.data.length>i.value&&(s=this._getOrReturnCtx(e,s),W(s,{code:I.too_big,maximum:i.value,type:"string",inclusive:!0,message:i.message}),r.dirty());else if(i.kind==="email")Co.test(e.data)||(s=this._getOrReturnCtx(e,s),W(s,{validation:"email",code:I.invalid_string,message:i.message}),r.dirty());else if(i.kind==="uuid")Eo.test(e.data)||(s=this._getOrReturnCtx(e,s),W(s,{validation:"uuid",code:I.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid")Ao.test(e.data)||(s=this._getOrReturnCtx(e,s),W(s,{validation:"cuid",code:I.invalid_string,message:i.message}),r.dirty());else if(i.kind==="url")try{new URL(e.data)}catch{s=this._getOrReturnCtx(e,s),W(s,{validation:"url",code:I.invalid_string,message:i.message}),r.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(e.data)||(s=this._getOrReturnCtx(e,s),W(s,{validation:"regex",code:I.invalid_string,message:i.message}),r.dirty())):i.kind==="trim"?e.data=e.data.trim():i.kind==="startsWith"?e.data.startsWith(i.value)||(s=this._getOrReturnCtx(e,s),W(s,{code:I.invalid_string,validation:{startsWith:i.value},message:i.message}),r.dirty()):i.kind==="endsWith"?e.data.endsWith(i.value)||(s=this._getOrReturnCtx(e,s),W(s,{code:I.invalid_string,validation:{endsWith:i.value},message:i.message}),r.dirty()):pe.assertNever(i);return{status:r.value,value:e.data}}_addCheck(e){return new Tt({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...ie.errToObj(e)})}url(e){return this._addCheck({kind:"url",...ie.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...ie.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...ie.errToObj(e)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...ie.errToObj(n)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...ie.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...ie.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...ie.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...ie.errToObj(n)})}length(e,n){return this.min(e,n).max(e,n)}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}Tt.create=t=>new Tt({checks:[],typeName:X.ZodString,...ne(t)});function So(t,e){const n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,s=n>r?n:r,i=parseInt(t.toFixed(s).replace(".","")),o=parseInt(e.toFixed(s).replace(".",""));return i%o/Math.pow(10,s)}class Lt extends te{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._getType(e)!==j.number){const i=this._getOrReturnCtx(e);return W(i,{code:I.invalid_type,expected:j.number,received:i.parsedType}),G}let r;const s=new We;for(const i of this._def.checks)i.kind==="int"?pe.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),W(r,{code:I.invalid_type,expected:"integer",received:"float",message:i.message}),s.dirty()):i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(r=this._getOrReturnCtx(e,r),W(r,{code:I.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(r=this._getOrReturnCtx(e,r),W(r,{code:I.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="multipleOf"?So(e.data,i.value)!==0&&(r=this._getOrReturnCtx(e,r),W(r,{code:I.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):pe.assertNever(i);return{status:s.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,ie.toString(n))}gt(e,n){return this.setLimit("min",e,!1,ie.toString(n))}lte(e,n){return this.setLimit("max",e,!0,ie.toString(n))}lt(e,n){return this.setLimit("max",e,!1,ie.toString(n))}setLimit(e,n,r,s){return new Lt({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:ie.toString(s)}]})}_addCheck(e){return new Lt({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:ie.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:ie.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:ie.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:ie.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:ie.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:ie.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int")}}Lt.create=t=>new Lt({checks:[],typeName:X.ZodNumber,...ne(t)});class Fn extends te{_parse(e){if(this._getType(e)!==j.bigint){const r=this._getOrReturnCtx(e);return W(r,{code:I.invalid_type,expected:j.bigint,received:r.parsedType}),G}return qe(e.data)}}Fn.create=t=>new Fn({typeName:X.ZodBigInt,...ne(t)});class Un extends te{_parse(e){if(this._getType(e)!==j.boolean){const r=this._getOrReturnCtx(e);return W(r,{code:I.invalid_type,expected:j.boolean,received:r.parsedType}),G}return qe(e.data)}}Un.create=t=>new Un({typeName:X.ZodBoolean,...ne(t)});class Vt extends te{_parse(e){if(this._getType(e)!==j.date){const i=this._getOrReturnCtx(e);return W(i,{code:I.invalid_type,expected:j.date,received:i.parsedType}),G}if(isNaN(e.data.getTime())){const i=this._getOrReturnCtx(e);return W(i,{code:I.invalid_date}),G}const r=new We;let s;for(const i of this._def.checks)i.kind==="min"?e.data.getTime()<i.value&&(s=this._getOrReturnCtx(e,s),W(s,{code:I.too_small,message:i.message,inclusive:!0,minimum:i.value,type:"date"}),r.dirty()):i.kind==="max"?e.data.getTime()>i.value&&(s=this._getOrReturnCtx(e,s),W(s,{code:I.too_big,message:i.message,inclusive:!0,maximum:i.value,type:"date"}),r.dirty()):pe.assertNever(i);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Vt({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:ie.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:ie.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}Vt.create=t=>new Vt({checks:[],typeName:X.ZodDate,...ne(t)});class Wn extends te{_parse(e){if(this._getType(e)!==j.undefined){const r=this._getOrReturnCtx(e);return W(r,{code:I.invalid_type,expected:j.undefined,received:r.parsedType}),G}return qe(e.data)}}Wn.create=t=>new Wn({typeName:X.ZodUndefined,...ne(t)});class qn extends te{_parse(e){if(this._getType(e)!==j.null){const r=this._getOrReturnCtx(e);return W(r,{code:I.invalid_type,expected:j.null,received:r.parsedType}),G}return qe(e.data)}}qn.create=t=>new qn({typeName:X.ZodNull,...ne(t)});class Jt extends te{constructor(){super(...arguments),this._any=!0}_parse(e){return qe(e.data)}}Jt.create=t=>new Jt({typeName:X.ZodAny,...ne(t)});class jt extends te{constructor(){super(...arguments),this._unknown=!0}_parse(e){return qe(e.data)}}jt.create=t=>new jt({typeName:X.ZodUnknown,...ne(t)});class vt extends te{_parse(e){const n=this._getOrReturnCtx(e);return W(n,{code:I.invalid_type,expected:j.never,received:n.parsedType}),G}}vt.create=t=>new vt({typeName:X.ZodNever,...ne(t)});class zn extends te{_parse(e){if(this._getType(e)!==j.undefined){const r=this._getOrReturnCtx(e);return W(r,{code:I.invalid_type,expected:j.void,received:r.parsedType}),G}return qe(e.data)}}zn.create=t=>new zn({typeName:X.ZodVoid,...ne(t)});class pt extends te{_parse(e){const{ctx:n,status:r}=this._processInputParams(e),s=this._def;if(n.parsedType!==j.array)return W(n,{code:I.invalid_type,expected:j.array,received:n.parsedType}),G;if(s.minLength!==null&&n.data.length<s.minLength.value&&(W(n,{code:I.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,message:s.minLength.message}),r.dirty()),s.maxLength!==null&&n.data.length>s.maxLength.value&&(W(n,{code:I.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,message:s.maxLength.message}),r.dirty()),n.common.async)return Promise.all(n.data.map((o,a)=>s.type._parseAsync(new ft(n,o,n.path,a)))).then(o=>We.mergeArray(r,o));const i=n.data.map((o,a)=>s.type._parseSync(new ft(n,o,n.path,a)));return We.mergeArray(r,i)}get element(){return this._def.type}min(e,n){return new pt({...this._def,minLength:{value:e,message:ie.toString(n)}})}max(e,n){return new pt({...this._def,maxLength:{value:e,message:ie.toString(n)}})}length(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}pt.create=(t,e)=>new pt({type:t,minLength:null,maxLength:null,typeName:X.ZodArray,...ne(e)});var Bn;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(Bn||(Bn={}));const ls=t=>e=>new ve({...t,shape:()=>({...t.shape(),...e})});function Dt(t){if(t instanceof ve){const e={};for(const n in t.shape){const r=t.shape[n];e[n]=ut.create(Dt(r))}return new ve({...t._def,shape:()=>e})}else return t instanceof pt?pt.create(Dt(t.element)):t instanceof ut?ut.create(Dt(t.unwrap())):t instanceof Zt?Zt.create(Dt(t.unwrap())):t instanceof mt?mt.create(t.items.map(e=>Dt(e))):t}class ve extends te{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=ls(this._def),this.extend=ls(this._def)}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=pe.objectKeys(e);return this._cached={shape:e,keys:n}}_parse(e){if(this._getType(e)!==j.object){const c=this._getOrReturnCtx(e);return W(c,{code:I.invalid_type,expected:j.object,received:c.parsedType}),G}const{status:r,ctx:s}=this._processInputParams(e),{shape:i,keys:o}=this._getCached(),a=[];if(!(this._def.catchall instanceof vt&&this._def.unknownKeys==="strip"))for(const c in s.data)o.includes(c)||a.push(c);const l=[];for(const c of o){const u=i[c],f=s.data[c];l.push({key:{status:"valid",value:c},value:u._parse(new ft(s,f,s.path,c)),alwaysSet:c in s.data})}if(this._def.catchall instanceof vt){const c=this._def.unknownKeys;if(c==="passthrough")for(const u of a)l.push({key:{status:"valid",value:u},value:{status:"valid",value:s.data[u]}});else if(c==="strict")a.length>0&&(W(s,{code:I.unrecognized_keys,keys:a}),r.dirty());else if(c!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const c=this._def.catchall;for(const u of a){const f=s.data[u];l.push({key:{status:"valid",value:u},value:c._parse(new ft(s,f,s.path,u)),alwaysSet:u in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const c=[];for(const u of l){const f=await u.key;c.push({key:f,value:await u.value,alwaysSet:u.alwaysSet})}return c}).then(c=>We.mergeObjectSync(r,c)):We.mergeObjectSync(r,l)}get shape(){return this._def.shape()}strict(e){return ie.errToObj,new ve({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,r)=>{var s,i,o,a;const l=(o=(i=(s=this._def).errorMap)===null||i===void 0?void 0:i.call(s,n,r).message)!==null&&o!==void 0?o:r.defaultError;return n.code==="unrecognized_keys"?{message:(a=ie.errToObj(e).message)!==null&&a!==void 0?a:l}:{message:l}}}:{}})}strip(){return new ve({...this._def,unknownKeys:"strip"})}passthrough(){return new ve({...this._def,unknownKeys:"passthrough"})}setKey(e,n){return this.augment({[e]:n})}merge(e){return new ve({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>Bn.mergeShapes(this._def.shape(),e._def.shape()),typeName:X.ZodObject})}catchall(e){return new ve({...this._def,catchall:e})}pick(e){const n={};return pe.objectKeys(e).map(r=>{this.shape[r]&&(n[r]=this.shape[r])}),new ve({...this._def,shape:()=>n})}omit(e){const n={};return pe.objectKeys(this.shape).map(r=>{pe.objectKeys(e).indexOf(r)===-1&&(n[r]=this.shape[r])}),new ve({...this._def,shape:()=>n})}deepPartial(){return Dt(this)}partial(e){const n={};if(e)return pe.objectKeys(this.shape).map(r=>{pe.objectKeys(e).indexOf(r)===-1?n[r]=this.shape[r]:n[r]=this.shape[r].optional()}),new ve({...this._def,shape:()=>n});for(const r in this.shape){const s=this.shape[r];n[r]=s.optional()}return new ve({...this._def,shape:()=>n})}required(){const e={};for(const n in this.shape){let s=this.shape[n];for(;s instanceof ut;)s=s._def.innerType;e[n]=s}return new ve({...this._def,shape:()=>e})}keyof(){return Gs(pe.objectKeys(this.shape))}}ve.create=(t,e)=>new ve({shape:()=>t,unknownKeys:"strip",catchall:vt.create(),typeName:X.ZodObject,...ne(e)});ve.strictCreate=(t,e)=>new ve({shape:()=>t,unknownKeys:"strict",catchall:vt.create(),typeName:X.ZodObject,...ne(e)});ve.lazycreate=(t,e)=>new ve({shape:t,unknownKeys:"strip",catchall:vt.create(),typeName:X.ZodObject,...ne(e)});class cn extends te{_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.options;function s(i){for(const a of i)if(a.result.status==="valid")return a.result;for(const a of i)if(a.result.status==="dirty")return n.common.issues.push(...a.ctx.common.issues),a.result;const o=i.map(a=>new bt(a.ctx.common.issues));return W(n,{code:I.invalid_union,unionErrors:o}),G}if(n.common.async)return Promise.all(r.map(async i=>{const o={...n,common:{...n.common,issues:[]},parent:null};return{result:await i._parseAsync({data:n.data,path:n.path,parent:o}),ctx:o}})).then(s);{let i;const o=[];for(const l of r){const c={...n,common:{...n.common,issues:[]},parent:null},u=l._parseSync({data:n.data,path:n.path,parent:c});if(u.status==="valid")return u;u.status==="dirty"&&!i&&(i={result:u,ctx:c}),c.common.issues.length&&o.push(c.common.issues)}if(i)return n.common.issues.push(...i.ctx.common.issues),i.result;const a=o.map(l=>new bt(l));return W(n,{code:I.invalid_union,unionErrors:a}),G}}get options(){return this._def.options}}cn.create=(t,e)=>new cn({options:t,typeName:X.ZodUnion,...ne(e)});class ar extends te{_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==j.object)return W(n,{code:I.invalid_type,expected:j.object,received:n.parsedType}),G;const r=this.discriminator,s=n.data[r],i=this.options.get(s);return i?n.common.async?i._parseAsync({data:n.data,path:n.path,parent:n}):i._parseSync({data:n.data,path:n.path,parent:n}):(W(n,{code:I.invalid_union_discriminator,options:this.validDiscriminatorValues,path:[r]}),G)}get discriminator(){return this._def.discriminator}get validDiscriminatorValues(){return Array.from(this.options.keys())}get options(){return this._def.options}static create(e,n,r){const s=new Map;try{n.forEach(i=>{const o=i.shape[e].value;s.set(o,i)})}catch{throw new Error("The discriminator value could not be extracted from all the provided schemas")}if(s.size!==n.length)throw new Error("Some of the discriminator values are not unique");return new ar({typeName:X.ZodDiscriminatedUnion,discriminator:e,options:s,...ne(r)})}}function Sr(t,e){const n=Et(t),r=Et(e);if(t===e)return{valid:!0,data:t};if(n===j.object&&r===j.object){const s=pe.objectKeys(e),i=pe.objectKeys(t).filter(a=>s.indexOf(a)!==-1),o={...t,...e};for(const a of i){const l=Sr(t[a],e[a]);if(!l.valid)return{valid:!1};o[a]=l.data}return{valid:!0,data:o}}else if(n===j.array&&r===j.array){if(t.length!==e.length)return{valid:!1};const s=[];for(let i=0;i<t.length;i++){const o=t[i],a=e[i],l=Sr(o,a);if(!l.valid)return{valid:!1};s.push(l.data)}return{valid:!0,data:s}}else return n===j.date&&r===j.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class un extends te{_parse(e){const{status:n,ctx:r}=this._processInputParams(e),s=(i,o)=>{if(Ar(i)||Ar(o))return G;const a=Sr(i.value,o.value);return a.valid?((Er(i)||Er(o))&&n.dirty(),{status:n.value,value:a.data}):(W(r,{code:I.invalid_intersection_types}),G)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([i,o])=>s(i,o)):s(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}un.create=(t,e,n)=>new un({left:t,right:e,typeName:X.ZodIntersection,...ne(n)});class mt extends te{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==j.array)return W(r,{code:I.invalid_type,expected:j.array,received:r.parsedType}),G;if(r.data.length<this._def.items.length)return W(r,{code:I.too_small,minimum:this._def.items.length,inclusive:!0,type:"array"}),G;!this._def.rest&&r.data.length>this._def.items.length&&(W(r,{code:I.too_big,maximum:this._def.items.length,inclusive:!0,type:"array"}),n.dirty());const i=r.data.map((o,a)=>{const l=this._def.items[a]||this._def.rest;return l?l._parse(new ft(r,o,r.path,a)):null}).filter(o=>!!o);return r.common.async?Promise.all(i).then(o=>We.mergeArray(n,o)):We.mergeArray(n,i)}get items(){return this._def.items}rest(e){return new mt({...this._def,rest:e})}}mt.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new mt({items:t,typeName:X.ZodTuple,rest:null,...ne(e)})};class dn extends te{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==j.object)return W(r,{code:I.invalid_type,expected:j.object,received:r.parsedType}),G;const s=[],i=this._def.keyType,o=this._def.valueType;for(const a in r.data)s.push({key:i._parse(new ft(r,a,r.path,a)),value:o._parse(new ft(r,r.data[a],r.path,a))});return r.common.async?We.mergeObjectAsync(n,s):We.mergeObjectSync(n,s)}get element(){return this._def.valueType}static create(e,n,r){return n instanceof te?new dn({keyType:e,valueType:n,typeName:X.ZodRecord,...ne(r)}):new dn({keyType:Tt.create(),valueType:e,typeName:X.ZodRecord,...ne(n)})}}class Hn extends te{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==j.map)return W(r,{code:I.invalid_type,expected:j.map,received:r.parsedType}),G;const s=this._def.keyType,i=this._def.valueType,o=[...r.data.entries()].map(([a,l],c)=>({key:s._parse(new ft(r,a,r.path,[c,"key"])),value:i._parse(new ft(r,l,r.path,[c,"value"]))}));if(r.common.async){const a=new Map;return Promise.resolve().then(async()=>{for(const l of o){const c=await l.key,u=await l.value;if(c.status==="aborted"||u.status==="aborted")return G;(c.status==="dirty"||u.status==="dirty")&&n.dirty(),a.set(c.value,u.value)}return{status:n.value,value:a}})}else{const a=new Map;for(const l of o){const c=l.key,u=l.value;if(c.status==="aborted"||u.status==="aborted")return G;(c.status==="dirty"||u.status==="dirty")&&n.dirty(),a.set(c.value,u.value)}return{status:n.value,value:a}}}}Hn.create=(t,e,n)=>new Hn({valueType:e,keyType:t,typeName:X.ZodMap,...ne(n)});class Mt extends te{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==j.set)return W(r,{code:I.invalid_type,expected:j.set,received:r.parsedType}),G;const s=this._def;s.minSize!==null&&r.data.size<s.minSize.value&&(W(r,{code:I.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,message:s.minSize.message}),n.dirty()),s.maxSize!==null&&r.data.size>s.maxSize.value&&(W(r,{code:I.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,message:s.maxSize.message}),n.dirty());const i=this._def.valueType;function o(l){const c=new Set;for(const u of l){if(u.status==="aborted")return G;u.status==="dirty"&&n.dirty(),c.add(u.value)}return{status:n.value,value:c}}const a=[...r.data.values()].map((l,c)=>i._parse(new ft(r,l,r.path,c)));return r.common.async?Promise.all(a).then(l=>o(l)):o(a)}min(e,n){return new Mt({...this._def,minSize:{value:e,message:ie.toString(n)}})}max(e,n){return new Mt({...this._def,maxSize:{value:e,message:ie.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}Mt.create=(t,e)=>new Mt({valueType:t,minSize:null,maxSize:null,typeName:X.ZodSet,...ne(e)});class qt extends te{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==j.function)return W(n,{code:I.invalid_type,expected:j.function,received:n.parsedType}),G;function r(a,l){return Pn({data:a,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,Zn(),ln].filter(c=>!!c),issueData:{code:I.invalid_arguments,argumentsError:l}})}function s(a,l){return Pn({data:a,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,Zn(),ln].filter(c=>!!c),issueData:{code:I.invalid_return_type,returnTypeError:l}})}const i={errorMap:n.common.contextualErrorMap},o=n.data;return this._def.returns instanceof Kt?qe(async(...a)=>{const l=new bt([]),c=await this._def.args.parseAsync(a,i).catch(d=>{throw l.addIssue(r(a,d)),l}),u=await o(...c);return await this._def.returns._def.type.parseAsync(u,i).catch(d=>{throw l.addIssue(s(u,d)),l})}):qe((...a)=>{const l=this._def.args.safeParse(a,i);if(!l.success)throw new bt([r(a,l.error)]);const c=o(...l.data),u=this._def.returns.safeParse(c,i);if(!u.success)throw new bt([s(c,u.error)]);return u.data})}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new qt({...this._def,args:mt.create(e).rest(jt.create())})}returns(e){return new qt({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,n,r){return new qt({args:e||mt.create([]).rest(jt.create()),returns:n||jt.create(),typeName:X.ZodFunction,...ne(r)})}}class Yn extends te{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}Yn.create=(t,e)=>new Yn({getter:t,typeName:X.ZodLazy,...ne(e)});class Vn extends te{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return W(n,{code:I.invalid_literal,expected:this._def.value}),G}return{status:"valid",value:e.data}}get value(){return this._def.value}}Vn.create=(t,e)=>new Vn({value:t,typeName:X.ZodLiteral,...ne(e)});function Gs(t,e){return new lr({values:t,typeName:X.ZodEnum,...ne(e)})}class lr extends te{_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),r=this._def.values;return W(n,{expected:pe.joinValues(r),received:n.parsedType,code:I.invalid_type}),G}if(this._def.values.indexOf(e.data)===-1){const n=this._getOrReturnCtx(e),r=this._def.values;return W(n,{received:n.data,code:I.invalid_enum_value,options:r}),G}return qe(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}}lr.create=Gs;class Jn extends te{_parse(e){const n=pe.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==j.string&&r.parsedType!==j.number){const s=pe.objectValues(n);return W(r,{expected:pe.joinValues(s),received:r.parsedType,code:I.invalid_type}),G}if(n.indexOf(e.data)===-1){const s=pe.objectValues(n);return W(r,{received:r.data,code:I.invalid_enum_value,options:s}),G}return qe(e.data)}get enum(){return this._def.values}}Jn.create=(t,e)=>new Jn({values:t,typeName:X.ZodNativeEnum,...ne(e)});class Kt extends te{_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==j.promise&&n.common.async===!1)return W(n,{code:I.invalid_type,expected:j.promise,received:n.parsedType}),G;const r=n.parsedType===j.promise?n.data:Promise.resolve(n.data);return qe(r.then(s=>this._def.type.parseAsync(s,{path:n.path,errorMap:n.common.contextualErrorMap})))}}Kt.create=(t,e)=>new Kt({type:t,typeName:X.ZodPromise,...ne(e)});class ht extends te{innerType(){return this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),s=this._def.effect||null;if(s.type==="preprocess"){const o=s.transform(r.data);return r.common.async?Promise.resolve(o).then(a=>this._def.schema._parseAsync({data:a,path:r.path,parent:r})):this._def.schema._parseSync({data:o,path:r.path,parent:r})}const i={addIssue:o=>{W(r,o),o.fatal?n.abort():n.dirty()},get path(){return r.path}};if(i.addIssue=i.addIssue.bind(i),s.type==="refinement"){const o=a=>{const l=s.refinement(a,i);if(r.common.async)return Promise.resolve(l);if(l instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return a};if(r.common.async===!1){const a=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?G:(a.status==="dirty"&&n.dirty(),o(a.value),{status:n.value,value:a.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(a=>a.status==="aborted"?G:(a.status==="dirty"&&n.dirty(),o(a.value).then(()=>({status:n.value,value:a.value}))))}if(s.type==="transform")if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!Dn(o))return o;const a=s.transform(o.value,i);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:a}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>Dn(o)?Promise.resolve(s.transform(o.value,i)).then(a=>({status:n.value,value:a})):o);pe.assertNever(s)}}ht.create=(t,e,n)=>new ht({schema:t,typeName:X.ZodEffects,effect:e,...ne(n)});ht.createWithPreprocess=(t,e,n)=>new ht({schema:e,effect:{type:"preprocess",transform:t},typeName:X.ZodEffects,...ne(n)});class ut extends te{_parse(e){return this._getType(e)===j.undefined?qe(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}ut.create=(t,e)=>new ut({innerType:t,typeName:X.ZodOptional,...ne(e)});class Zt extends te{_parse(e){return this._getType(e)===j.null?qe(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Zt.create=(t,e)=>new Zt({innerType:t,typeName:X.ZodNullable,...ne(e)});class qr extends te{_parse(e){const{ctx:n}=this._processInputParams(e);let r=n.data;return n.parsedType===j.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}qr.create=(t,e)=>new ut({innerType:t,typeName:X.ZodOptional,...ne(e)});class Kn extends te{_parse(e){if(this._getType(e)!==j.nan){const r=this._getOrReturnCtx(e);return W(r,{code:I.invalid_type,expected:j.nan,received:r.parsedType}),G}return{status:"valid",value:e.data}}}Kn.create=t=>new Kn({typeName:X.ZodNaN,...ne(t)});const xo=Symbol("zod_brand");class Qs extends te{_parse(e){const{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}const ei=(t,e={},n)=>t?Jt.create().superRefine((r,s)=>{if(!t(r)){const i=typeof e=="function"?e(r):e,o=typeof i=="string"?{message:i}:i;s.addIssue({code:"custom",...o,fatal:n})}}):Jt.create(),To={object:ve.lazycreate};var X;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded"})(X||(X={}));const $o=(t,e={message:`Input not instance of ${t.name}`})=>ei(n=>n instanceof t,e,!0),ti=Tt.create,ni=Lt.create,Oo=Kn.create,No=Fn.create,ri=Un.create,Io=Vt.create,jo=Wn.create,Ro=qn.create,Lo=Jt.create,Mo=jt.create,Zo=vt.create,Po=zn.create,Do=pt.create,Fo=ve.create,Uo=ve.strictCreate,Wo=cn.create,qo=ar.create,zo=un.create,Bo=mt.create,Ho=dn.create,Yo=Hn.create,Vo=Mt.create,Jo=qt.create,Ko=Yn.create,Xo=Vn.create,Go=lr.create,Qo=Jn.create,ea=Kt.create,cs=ht.create,ta=ut.create,na=Zt.create,ra=ht.createWithPreprocess,sa=()=>ti().optional(),ia=()=>ni().optional(),oa=()=>ri().optional(),aa=G;var B=Object.freeze({__proto__:null,getParsedType:Et,ZodParsedType:j,defaultErrorMap:ln,setErrorMap:vo,getErrorMap:Zn,makeIssue:Pn,EMPTY_PATH:wo,addIssueToContext:W,ParseStatus:We,INVALID:G,DIRTY:ko,OK:qe,isAborted:Ar,isDirty:Er,isValid:Dn,isAsync:Cr,ZodType:te,ZodString:Tt,ZodNumber:Lt,ZodBigInt:Fn,ZodBoolean:Un,ZodDate:Vt,ZodUndefined:Wn,ZodNull:qn,ZodAny:Jt,ZodUnknown:jt,ZodNever:vt,ZodVoid:zn,ZodArray:pt,get objectUtil(){return Bn},ZodObject:ve,ZodUnion:cn,ZodDiscriminatedUnion:ar,ZodIntersection:un,ZodTuple:mt,ZodRecord:dn,ZodMap:Hn,ZodSet:Mt,ZodFunction:qt,ZodLazy:Yn,ZodLiteral:Vn,ZodEnum:lr,ZodNativeEnum:Jn,ZodPromise:Kt,ZodEffects:ht,ZodTransformer:ht,ZodOptional:ut,ZodNullable:Zt,ZodDefault:qr,ZodNaN:Kn,BRAND:xo,ZodBranded:Qs,custom:ei,Schema:te,ZodSchema:te,late:To,get ZodFirstPartyTypeKind(){return X},any:Lo,array:Do,bigint:No,boolean:ri,date:Io,discriminatedUnion:qo,effect:cs,enum:Go,function:Jo,instanceof:$o,intersection:zo,lazy:Ko,literal:Xo,map:Yo,nan:Oo,nativeEnum:Qo,never:Zo,null:Ro,nullable:na,number:ni,object:Fo,oboolean:oa,onumber:ia,optional:ta,ostring:sa,preprocess:ra,promise:ea,record:Ho,set:Vo,strictObject:Uo,string:ti,transformer:cs,tuple:Bo,undefined:jo,union:Wo,unknown:Mo,void:Po,NEVER:aa,ZodIssueCode:I,quotelessJson:bo,ZodError:bt});const zr=1,cr=B.object({domain:B.string().trim().min(1,"Domain name can't be empty").refine(t=>!/[A-Z]/.test(t),"Domain name must be lower case").refine(t=>t!=="derivepass",'"derivepass" domain is reserved').refine(t=>!/^(www|\w+:\/\/)/.test(t),"Domain name should not start with `www.`, `http://`, or any `schema://`"),login:B.string().trim().min(1,"Username can't be empty"),revision:B.number().positive("Revision must be a positive number"),allowedChars:B.string().trim().min(1,"Allowed characters can't be empty").refine(os,"Allowed characters contain invalid range"),requiredChars:B.string().trim().refine(os,"Allowed characters contain invalid range"),passwordLen:B.number().positive()}),Br=B.object({id:B.string().min(1),version:B.literal(zr)});Br.and(cr);const si=Br.and(B.object({encrypted:B.string(),modifiedAt:B.number(),removed:B.optional(B.boolean())})),la=Br.and(B.object({encrypted:B.string(),removed:B.optional(B.boolean())}));si.and(B.object({decrypted:B.optional(cr)}));const ca=B.object({host:B.string(),token:B.string(),lastModifiedAt:B.number(),lastSyncedAt:B.number(),localLastModifiedAt:B.number()}),ua=B.object({token:B.string()}),da=B.object({objects:B.array(B.object({id:B.string(),data:B.string(),modifiedAt:B.number()}))}),fa=B.object({modifiedAt:B.number()}),pa=B.object({uuid:B.string(),changedAt:B.number(),removed:B.boolean(),domain:B.string(),login:B.string(),revision:B.string(),options:B.string()}),ma=B.object({allowed:B.string().trim(),required:B.string().trim(),maxLength:B.number().or(B.string())}),fn=new TextEncoder,xr=new TextDecoder,ii=8,oi=32768,ai=4,_r=32,ha=16,_a=64,ya=fn.encode("derivepass/aes"),us=t=>{if(t>=48&&t<=57)return t-48;if(t>=65&&t<=70)return t-65+10;if(t>=97&&t<=102)return t-97+10;throw new Error("Not a hex character, code: "+t)};function Tr(t){if(t.length%2!==0)throw new Error(`Invalid hex: "${t}"`);const e=new Uint8Array(t.length/2);for(let n=0;n<t.length;n+=2){const r=us(t.charCodeAt(n)),s=us(t.charCodeAt(n+1));e[n>>1]=r<<4|s}return e}function li(t){let e="";for(let n=0;n<t.length;n++){let r=t[n].toString(16);r.length<2&&(r="0"+r),e+=r}return e}function ga({union:t,passwordLen:e}){return Math.ceil(Math.log2(t.length)*e)}function ba(t,{required:e,passwordLen:n,allowed:r,union:s}){const i=new Uint8Array([...t].reverse());let o=BigInt("0x"+li(i));const a=new Set(e);let l="";for(;l.length<n;){let c;a.size===0?c=r:a.size===n-l.length?c=Array.from(a):c=s;const u=BigInt(c.length),f=c[Number(o%u)];o=o/u,a.delete(f),l+=f}return l}const va=18,vn="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789_.".split("");function wa(t){if(t.length!==va)throw new Error("Invalid raw bytes");let e="";for(let n=0;n<t.length;n+=3){const r=t[n],s=t[n+1],i=t[n+2];e+=vn[r>>>2],e+=vn[(r&3)<<4|s>>>4],e+=vn[(s&15)<<2|i>>>6],e+=vn[i&63]}return e}const Nn={allowedChars:"a-zA-Z0-9_.",requiredChars:"",passwordLen:24};function ka({allowedChars:t,requiredChars:e,passwordLen:n}){return t===Nn.allowedChars&&e===Nn.requiredChars&&n===Nn.passwordLen}function Aa({master:t},e){const n=`${e.domain}/${e.login}${e.revision>1?`#${e.revision}`:""}`,r=kr(e.allowedChars),s=kr(e.requiredChars),i=[...new Set([...r,...s])].sort(),o={allowed:r,required:s,union:i,passwordLen:e.passwordLen},a=Math.ceil(ga(o)/8),l=Vs(ii,oi,ai,fn.encode(t),fn.encode(n),a);return ka(e)?wa(l):ba(l,o)}function Ea(t){const e=Vs(ii,oi,ai,fn.encode(t),ya,_r+_a);return{master:t,aes:e.slice(0,_r),hmac:e.slice(_r)}}function ci({aes:t,hmac:e},n){const r=fn.encode(JSON.stringify(n)),s=new Uint8Array(ha);return window.crypto.getRandomValues(s),li(mo(t,e,s,r))}function Ca({aes:t,hmac:e},n){const r=JSON.parse(xr.decode(Js(t,e,Tr(n))));return cr.parse(r)}function wn({aes:t,hmac:e},n){return n.startsWith("v1:")?xr.decode(Js(t,e,Tr(n.slice(3)))):xr.decode(ho(t,Tr(n)))}const Sa=Ks(),$r=1e3,ui=60*$r,xa=60*ui,di="dp:v2:",at=ot();let kn;at.subscribe(t=>{kn!==void 0&&(clearTimeout(kn),kn=void 0),t!==void 0&&(kn=setTimeout(()=>{at.set(void 0)},15*ui))});const fi="/assets/logo.f23d4d62.svg",Ta="2.0.3",$a="https://github.com/derivepass/derivepass-web#readme";function Oa(t){let e,n;const r=t[2].default,s=Gn(r,t,t[1],null);return{c(){e=$("a"),s&&s.c(),v(e,"href",t[0]),v(e,"target","_blank"),v(e,"rel","noreferrer"),v(e,"class","text-blue-600 hover:underline")},m(i,o){A(i,e,o),s&&s.m(e,null),n=!0},p(i,[o]){s&&s.p&&(!n||o&2)&&er(s,r,i,i[1],n?Qn(r,i[1],o,null):tr(i[1]),null),(!n||o&1)&&v(e,"href",i[0])},i(i){n||(L(s,i),n=!0)},o(i){Z(s,i),n=!1},d(i){i&&k(e),s&&s.d(i)}}}function Na(t,e,n){let{$$slots:r={},$$scope:s}=e,{href:i}=e;return t.$$set=o=>{"href"in o&&n(0,i=o.href),"$$scope"in o&&n(1,s=o.$$scope)},[i,s,r]}class en extends Be{constructor(e){super(),ze(this,e,Na,Oa,Me,{href:0})}}function Ia(t){let e;return{c(){e=U("scrypt")},m(n,r){A(n,e,r)},d(n){n&&k(e)}}}function ja(t){let e;return{c(){e=U("salt")},m(n,r){A(n,e,r)},d(n){n&&k(e)}}}function Ra(t){let e;return{c(){e=U("AES")},m(n,r){A(n,e,r)},d(n){n&&k(e)}}}function La(t){let e;return{c(){e=U("HMAC-SHA256")},m(n,r){A(n,e,r)},d(n){n&&k(e)}}}function Ma(t){let e,n;return{c(){e=U("source code @ "),n=U(Ta)},m(r,s){A(r,e,s),A(r,n,s)},p:K,d(r){r&&k(e),r&&k(n)}}}function Za(t){let e,n,r,s,i,o,a,l,c,u,f,d,p,m,h,b,w,R,M,y,S,g,D,P,V,ke,q,ge,me,Ae,be,Q,Ie,Oe,T,z,J,de,le,re,Ee,he,Ze,Ce,xe,Pe,$e,we,O,_,N,Y,Ne,E,De,Se,Te;return Q=new en({props:{href:"https://en.wikipedia.org/wiki/Scrypt",$$slots:{default:[Ia]},$$scope:{ctx:t}}}),le=new en({props:{href:"https://en.wikipedia.org/wiki/Salt_(cryptography)",$$slots:{default:[ja]},$$scope:{ctx:t}}}),Ce=new en({props:{href:"https://en.wikipedia.org/wiki/Advanced_Encryption_Standard",$$slots:{default:[Ra]},$$scope:{ctx:t}}}),we=new en({props:{href:"https://en.wikipedia.org/wiki/HMAC",$$slots:{default:[La]},$$scope:{ctx:t}}}),E=new en({props:{href:$a,$$slots:{default:[Ma]},$$scope:{ctx:t}}}),{c(){e=$("container"),n=$("img"),s=F(),i=$("container"),o=$("h1"),o.textContent="DerivePass",a=F(),l=$("h2"),l.textContent="Compute secure passwords without storing them anywhere.",c=F(),u=$("a"),u.textContent="Start",f=F(),d=$("p"),d.textContent=`Most websites require a password on Sign Up.
  Using the same password everywhere is insecure.
  Using individual secure passwords and remembering all of them - impossible!`,p=F(),m=$("p"),m.innerHTML=`<b>DerivePass</b> is here to help with the task!
  Choose the Master Password once and use it to generate an <b>unlimited</b>
  number of secure website passwords.`,h=F(),b=$("p"),b.innerHTML=`Unlike traditional password managers, <b>DerivePass</b> never uploads
  neither the Master Password or website passwords to the cloud. The only
  information that is stored is <b>encrypted</b> website domain names and
  usernames.`,w=F(),R=$("hr"),M=F(),y=$("h3"),y.textContent="Privacy",S=F(),g=$("p"),g.innerHTML=`Your privacy is important to us. Your data is stored only locally
  <b>on your computer</b>, by default, unless you manually decide to use
  remote storage (e.g., iCloud). We <b>never</b> store unencrypted website
  domain names, usernames, or passwords. <b>No tracking</b> of any kind is
  used on this website.`,D=F(),P=$("hr"),V=F(),ke=$("h3"),ke.textContent="Security",q=F(),ge=$("h4"),ge.textContent="(Technical Details)",me=F(),Ae=$("p"),be=U(`The
  `),ue(Q.$$.fragment),Ie=U(`
  algorithm is used for deriving application passwords and
  encryption/authentication keys. Due to the strong cryptographic properties
  of scrypt, the compromise of any single application password does not
  compromise any other application passwords or the Master password.`),Oe=F(),T=$("p"),z=U(`An application's domain name (website), username, and revision are used for
  generating unique and secure passwords. In particular,
  `),J=$("code"),J.textContent="domain/username(#revision)",de=U(`
  is used as a
  `),ue(le.$$.fragment),re=U(`
  parameter of scrypt. Thus every revision increment will result in a
  completely different generated password. This is convenient for changing the
  password whenever it is required.`),Ee=F(),he=$("p"),Ze=U(`Every bit of information that is stored locally and/or remotely (through
  optional iCloud synchronization) is encrypted with an
  `),ue(Ce.$$.fragment),xe=U(`
  key generated from the Master Password via the scrypt algorithm, using
  `),Pe=$("code"),Pe.textContent="derivepass/aes",$e=U(`
  as a salt. The data is further passed to the
  `),ue(we.$$.fragment),O=U(`
  algorithm to ensure the data integrity.`),_=F(),N=$("footer"),Y=$("p"),Y.textContent=`Copyright ${t[0]}, Fedor Indutny`,Ne=F(),ue(E.$$.fragment),js(n.src,r=fi)||v(n,"src",r),v(n,"alt","Big Logotype"),v(n,"class","grow max-w-xs lg:max-w-full"),v(o,"class","text-4xl font-semibold mb-4"),v(l,"class","text-xl mb-4"),v(u,"href","/login"),v(u,"class","inline-block px-4 py-2 rounded bg-blue-500 hover:bg-blue-600 text-white text-xl"),v(i,"class","grow basis-96 mb-4"),v(e,"class","flex flex-row-reverse flex-wrap justify-center items-center text-center sm:text-start"),v(d,"class","my-2"),v(m,"class","my-2"),v(b,"class","my-2"),v(R,"class","my-4"),v(y,"class","my-4 text-3xl text-semibold"),v(P,"class","my-4"),v(ke,"class","my-4 text-3xl text-semibold"),v(ge,"class","my-2 text-lg"),v(Ae,"class","my-2"),v(J,"class","border border-slate-200 bg-slate-100 px-1"),v(T,"class","my-2"),v(Pe,"class","border border-slate-200 bg-slate-100 px-1"),v(he,"class","my-2"),v(N,"class","text-xs text-right")},m(x,H){A(x,e,H),C(e,n),C(e,s),C(e,i),C(i,o),C(i,a),C(i,l),C(i,c),C(i,u),A(x,f,H),A(x,d,H),A(x,p,H),A(x,m,H),A(x,h,H),A(x,b,H),A(x,w,H),A(x,R,H),A(x,M,H),A(x,y,H),A(x,S,H),A(x,g,H),A(x,D,H),A(x,P,H),A(x,V,H),A(x,ke,H),A(x,q,H),A(x,ge,H),A(x,me,H),A(x,Ae,H),C(Ae,be),oe(Q,Ae,null),C(Ae,Ie),A(x,Oe,H),A(x,T,H),C(T,z),C(T,J),C(T,de),oe(le,T,null),C(T,re),A(x,Ee,H),A(x,he,H),C(he,Ze),oe(Ce,he,null),C(he,xe),C(he,Pe),C(he,$e),oe(we,he,null),C(he,O),A(x,_,H),A(x,N,H),C(N,Y),C(N,Ne),oe(E,N,null),De=!0,Se||(Te=Yt(Wr.call(null,u)),Se=!0)},p(x,[H]){const nt={};H&2&&(nt.$$scope={dirty:H,ctx:x}),Q.$set(nt);const _n={};H&2&&(_n.$$scope={dirty:H,ctx:x}),le.$set(_n);const _e={};H&2&&(_e.$$scope={dirty:H,ctx:x}),Ce.$set(_e);const fe={};H&2&&(fe.$$scope={dirty:H,ctx:x}),we.$set(fe);const je={};H&2&&(je.$$scope={dirty:H,ctx:x}),E.$set(je)},i(x){De||(L(Q.$$.fragment,x),L(le.$$.fragment,x),L(Ce.$$.fragment,x),L(we.$$.fragment,x),L(E.$$.fragment,x),De=!0)},o(x){Z(Q.$$.fragment,x),Z(le.$$.fragment,x),Z(Ce.$$.fragment,x),Z(we.$$.fragment,x),Z(E.$$.fragment,x),De=!1},d(x){x&&k(e),x&&k(f),x&&k(d),x&&k(p),x&&k(m),x&&k(h),x&&k(b),x&&k(w),x&&k(R),x&&k(M),x&&k(y),x&&k(S),x&&k(g),x&&k(D),x&&k(P),x&&k(V),x&&k(ke),x&&k(q),x&&k(ge),x&&k(me),x&&k(Ae),ae(Q),x&&k(Oe),x&&k(T),ae(le),x&&k(Ee),x&&k(he),ae(Ce),ae(we),x&&k(_),x&&k(N),ae(E),Se=!1,Te()}}}function Pa(t){return[new Date().getFullYear()]}class yr extends Be{constructor(e){super(),ze(this,e,Pa,Za,Me,{})}}const pi={},mi={};function Da(t,e){return Object.keys(t).some(r=>e(t[r]))}function ur(t,e){return Object.keys(t||{}).reduce((r,s)=>Object.assign(Object.assign({},r),{[s]:e(t[s])}),{})}function se(t){return Object.prototype.toString.call(t)==="[object Object]"}function Ye(t){return Object.keys(t||{}).reduce((e,n)=>Object.assign(Object.assign({},e),{[n]:se(t[n])?Ye(t[n]):Array.isArray(t[n])?[...t[n]]:t[n]}),{})}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function Fa(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function Ua(t){return function(e){if(se(e)){const n=Ve(e,t);return Fa(n,["key"])}return t}}function Ve(t,e){return ur(t,n=>se(n)?Ve(n,e):Array.isArray(n)?n.map(Ua(e)):e)}function St(...t){const e=t.pop(),n=t.shift();if(typeof n=="string")return n;const r=Ye(n);if(t.length===0)return r;for(const s of t){if(!s)continue;if(typeof s=="string")return s;let i=e(r,s);if(typeof i<"u")return i;const o=Array.from(new Set(Object.keys(r).concat(Object.keys(s))));for(const a of o)if(i=e(r[a],s[a]),typeof i<"u")r[a]=i;else if(se(s[a])&&se(r[a]))r[a]=St(r[a],s[a],e);else if(Array.isArray(s[a]))r[a]=s[a].map((l,c)=>{if(!se(l))return l;const u=Array.isArray(r[a])?r[a][c]:r[a];return St(u,l,e)});else if(se(s[a])){const l=Ve(Ye(s[a]),void 0);r[a]=St(l,s[a],e)}else typeof s[a]<"u"&&(r[a]=s[a])}return r}function Wa(t,e){if(!(se(t)&&se(e))){if(Array.isArray(e)){if(e.some(se))return;const n=Array.isArray(t)?t:[];return e.map((r,s)=>{var i;return(i=n[s])!==null&&i!==void 0?i:r})}if(typeof t<"u")return t}}function ds(...t){return St(...t,Wa)}function hi(...t){return St(...t,()=>{})}function dt(t,e,n){const r=i=>String.prototype.split.call(e,i).filter(Boolean).reduce((o,a)=>o!=null?o[a]:o,t),s=r(/[,[\]]+?/)||r(/[,[\].]+?/);return s===void 0||s===t?n:s}function Xt(t,e,n){t&&(t=Ye(t)),se(t)||(t={});const r=Array.isArray(e)?e:e.match(/[^.[\]]+/g)||[],s=r[r.length-1];if(!s)return t;let i=t;for(let o=0;o<r.length-1;o++){const a=r[o];if(!i[a]||!se(i[a])&&!Array.isArray(i[a])){const l=r[o+1];isNaN(Number(l))?i[a]={}:i[a]=[]}i=i[a]}return i[s]=n(i[s]),t}function ye(t,e,n){return Xt(t,e,()=>n)}function nn(t,e){if(!t||Object(t)!==t)return;typeof t<"u"&&(t=Ye(t));const n=Array.isArray(e)?e:e.toString().match(/[^.[\]]+/g)||[],r=n.length===1?t:dt(t,n.slice(0,-1).join("."));return Array.isArray(r)?r.splice(Number(n[n.length-1]),1):r==null||delete r[n[n.length-1]],t}function pn(t,e){return Da(t,n=>se(n)?pn(n,e):Array.isArray(n)?n.length===0||n.every(r=>typeof r=="string")?e(n):n.some(r=>se(r)?pn(r,e):e(r)):e(n))}function zt(t){var e;return((e=t)===null||e===void 0?void 0:e.nodeName)==="INPUT"}function qa(t){var e;return((e=t)===null||e===void 0?void 0:e.nodeName)==="TEXTAREA"}function Bt(t){var e;return((e=t)===null||e===void 0?void 0:e.nodeName)==="SELECT"}function dr(t){var e;return((e=t)===null||e===void 0?void 0:e.nodeName)==="FIELDSET"}function Le(t){return zt(t)||qa(t)||Bt(t)}function fs(t){return t.nodeType===Node.ELEMENT_NODE}function Re(t,e){return e!=null?e:Le(t)?t.name:""}function gr(t){let e=t;for(;e&&e.nodeName!=="FORM";){if(e.hasAttribute("data-felte-ignore"))return!0;e=e.parentElement}return!1}function za(t,e){if(!(se(t)||se(e))){if(t===null||t==="")return e;if(e===null||e===""||!e)return t;if(!(!t||!e)){if(Array.isArray(t)){if(!Array.isArray(e))return[...t,e];const n=[],r=Math.max(e.length,t.length);for(let s=0;s<r;s++){let i=t[s],o=e[s];!se(i)&&!se(o)?(Array.isArray(i)||(i=[i]),Array.isArray(o)||(o=[o]),n.push(...i,...o)):n.push(Ft([i!=null?i:{},o!=null?o:{}]))}return n.filter(Boolean)}return Array.isArray(e)||(e=[e]),[t,...e].reduce((n,r)=>n.concat(r),[]).filter(Boolean)}}}function Ft(t){return St(...t,za)}function Ba(t,e){return e?(Array.isArray(e)?e:[e]).map(r=>r(t)):[]}function Or(t,e){return e?Array.isArray(e)?e.reduce((n,r)=>r(n),t):e(t):t}function Hr(t=8){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";let n="";for(let r=0;r<t;r++)n+=e.charAt(Math.floor(Math.random()*e.length));return n}function Xn(t,e,{onInit:n,onEnd:r}={}){let s;return(...i)=>{s||n==null||n(),s&&clearTimeout(s),s=setTimeout(()=>{t.apply(this,i),s=void 0,r==null||r()},e)}}function Nr(t){if(Le(t))return[t];if(t.childElementCount===0)return[];const e=new Set;for(const n of t.children){if(Le(n)&&e.add(n),dr(n))for(const r of n.elements)Le(r)&&e.add(r);n.childElementCount>0&&Nr(n).forEach(r=>e.add(r))}return Array.from(e)}function _i(t){for(const e of t.elements)!Le(e)&&!dr(e)||t.hasAttribute("data-felte-keep-on-remove")&&!e.hasAttribute("data-felte-keep-on-remove")&&(e.dataset.felteKeepOnRemove=t.dataset.felteKeepOnRemove)}function yi(t){return t.type.match(/^(number|range)$/)?t.value?+t.value:void 0:t.value}function ps(t){var e;let n={},r={};for(const s of t.elements){if(dr(s)&&_i(s),!Le(s)||!s.name)continue;const i=Re(s);if(zt(s)){if(s.type==="checkbox"){if(typeof dt(n,i)>"u"){if(Array.from(t.querySelectorAll(`[name="${s.name}"]`)).filter(l=>Le(l)?i===Re(l):!1).length===1){n=ye(n,i,s.checked),r=ye(r,i,!1);continue}n=ye(n,i,s.checked?[s.value]:[]),r=ye(r,i,!1);continue}Array.isArray(dt(n,i))&&s.checked&&(n=Xt(n,i,a=>[...a,s.value]));continue}if(s.type==="radio"){if(dt(n,i))continue;n=ye(n,i,s.checked?s.value:void 0),r=ye(r,i,!1);continue}if(s.type==="file"){n=ye(n,i,s.multiple?Array.from(s.files||[]):(e=s.files)===null||e===void 0?void 0:e[0]),r=ye(r,i,!1);continue}}else if(Bt(s)){if(!s.multiple)n=ye(n,i,s.value);else{const l=Array.from(s.options).filter(c=>c.selected).map(c=>c.value);n=ye(n,i,l)}r=ye(r,i,!1);continue}const o=yi(s);n=ye(n,i,o),r=ye(r,i,!1)}return{defaultData:n,defaultTouched:r}}function Ha(t,e){var n;if(!Le(t))return;const r=e;if(zt(t)){if(t.type==="checkbox"){const s=r;if(typeof s>"u"||typeof s=="boolean"){t.checked=!!s;return}Array.isArray(s)&&(s.includes(t.value)?t.checked=!0:t.checked=!1);return}if(t.type==="radio"){const s=r;t.value===s?t.checked=!0:t.checked=!1;return}if(t.type==="file"){t.files=null,t.value="";return}}else if(Bt(t)){if(t.multiple){if(Array.isArray(r)){t.value=String((n=r[0])!==null&&n!==void 0?n:"");const i=r.map(o=>String(o));for(const o of t.options)i.includes(o.value)?o.selected=!0:o.selected=!1}}else{t.value=String(r!=null?r:"");for(const i of t.options)i.value===String(r)?i.selected=!0:i.selected=!1}return}t.value=String(r!=null?r:"")}function An(t,e){for(const n of t.elements){if(dr(n)&&_i(n),!Le(n)||!n.name)continue;const r=Re(n);Ha(n,dt(e,r))}}function ms(t){const e=t.config;if(t.stage==="SETUP"){if(!e.__felteReporterSvelteId){const n=Hr(21);e.__felteReporterSvelteId=n,pi[n]=t.errors,mi[n]=t.warnings}return{}}return t.form.hasAttribute("data-felte-reporter-svelte-id")||(t.form.dataset.felteReporterSvelteId=e.__felteReporterSvelteId),{onSubmitError(){const n=t&&t.form.querySelector('[aria-invalid="true"]:not([type="hidden"])');n&&n.focus()}}}function Ya(t){return!t||"preventFocusOnError"in t?e=>ms(e):ms(t)}const Va=t=>({messages:t&4}),hs=t=>({messages:t[2]}),Ja=t=>({messages:t&4}),_s=t=>({messages:t[2]});function Ka(t){let e;const n=t[9].placeholder,r=Gn(n,t,t[8],hs);return{c(){r&&r.c()},m(s,i){r&&r.m(s,i),e=!0},p(s,i){r&&r.p&&(!e||i&260)&&er(r,n,s,s[8],e?Qn(n,s[8],i,Va):tr(s[8]),hs)},i(s){e||(L(r,s),e=!0)},o(s){Z(r,s),e=!1},d(s){r&&r.d(s)}}}function Xa(t){let e;const n=t[9].default,r=Gn(n,t,t[8],_s);return{c(){r&&r.c()},m(s,i){r&&r.m(s,i),e=!0},p(s,i){r&&r.p&&(!e||i&260)&&er(r,n,s,s[8],e?Qn(n,s[8],i,Ja):tr(s[8]),_s)},i(s){e||(L(r,s),e=!0)},o(s){Z(r,s),e=!1},d(s){r&&r.d(s)}}}function Ga(t){let e,n,r,s,i,o;const a=[Xa,Ka],l=[];function c(u,f){return!u[3].placeholder||u[2]?0:1}return r=c(t),s=l[r]=a[r](t),{c(){e=$("div"),n=F(),s.c(),i=$t(),Ps(e,"display","none")},m(u,f){A(u,e,f),t[10](e),A(u,n,f),l[r].m(u,f),A(u,i,f),o=!0},p(u,[f]){let d=r;r=c(u),r===d?l[r].p(u,f):(Je(),Z(l[d],1,1,()=>{l[d]=null}),Ke(),s=l[r],s?s.p(u,f):(s=l[r]=a[r](u),s.c()),L(s,1),s.m(i.parentNode,i))},i(u){o||(L(s),o=!0)},o(u){Z(s),o=!1},d(u){u&&k(e),t[10](null),u&&k(n),l[r].d(u),u&&k(i)}}}function Qa(t,e,n){let r,s,i=K,o=()=>(i(),i=Zr(d,w=>n(7,s=w)),d);t.$$.on_destroy.push(()=>i());let{$$slots:a={},$$scope:l}=e;const c=Ii(a);let{level:u="error"}=e,{for:f}=e,d,p,m;function h(){return m.closest("form")}Wi(()=>{n(6,p=Re(m,f));const R=h();o(R?u==="error"?n(0,d=pi[R.dataset.felteReporterSvelteId]):n(0,d=mi[R.dataset.felteReporterSvelteId]):n(0,d=ot({})))});function b(w){Mn[w?"unshift":"push"](()=>{m=w,n(1,m)})}return t.$$set=w=>{"level"in w&&n(4,u=w.level),"for"in w&&n(5,f=w.for),"$$scope"in w&&n(8,l=w.$$scope)},t.$$.update=()=>{t.$$.dirty&192&&n(2,r=p&&dt(s,p))},[d,m,r,c,u,f,p,s,l,a,b]}class el extends Be{constructor(e){super(),ze(this,e,Qa,Ga,Me,{level:4,for:5})}}const tl=el;function ys(t){let e,n,r;return{c(){e=$("p"),n=$("small"),r=U(t[4]),v(e,"class","text-gray-500")},m(s,i){A(s,e,i),C(e,n),C(n,r)},p(s,i){i&16&&it(r,s[4])},d(s){s&&k(e)}}}function gs(t){let e,n;return e=new tl({props:{for:t[1],$$slots:{placeholder:[rl,({messages:r})=>({9:r}),({messages:r})=>r?512:0],default:[nl,({messages:r})=>({9:r}),({messages:r})=>r?512:0]},$$scope:{ctx:t}}}),{c(){ue(e.$$.fragment)},m(r,s){oe(e,r,s),n=!0},p(r,s){const i={};s&2&&(i.for=r[1]),s&1536&&(i.$$scope={dirty:s,ctx:r}),e.$set(i)},i(r){n||(L(e.$$.fragment,r),n=!0)},o(r){Z(e.$$.fragment,r),n=!1},d(r){ae(e,r)}}}function nl(t){let e,n=t[9]+"",r;return{c(){e=$("p"),r=U(n),v(e,"class","text-red-500 my-2")},m(s,i){A(s,e,i),C(e,r)},p(s,i){i&512&&n!==(n=s[9]+"")&&it(r,n)},d(s){s&&k(e)}}}function rl(t){let e;return{c(){e=$("span"),v(e,"slot","placeholder")},m(n,r){A(n,e,r)},p:K,d(n){n&&k(e)}}}function sl(t){let e,n,r,s,i,o,a,l,c,u,f,d=t[4]&&ys(t),p=t[1]!==void 0&&gs(t);return{c(){e=$("section"),n=$("label"),r=$("p"),s=U(t[3]),i=F(),o=$("input"),a=F(),d&&d.c(),l=F(),p&&p.c(),v(r,"class","mb-2"),v(o,"class","w-full p-2 rounded border outline-2 aria-[invalid]:outline aria-[invalid]:outline-red-500"),v(o,"name",t[1]),v(o,"type",t[2]),v(o,"autocomplete","off"),v(o,"autocorrect","off"),v(o,"autocapitalize","none"),o.required=t[5],o.disabled=t[6],v(o,"aria-required",t[5]),v(o,"placeholder",t[7]),o.value=t[0],v(e,"class","mb-2")},m(m,h){A(m,e,h),C(e,n),C(n,r),C(r,s),C(n,i),C(n,o),C(e,a),d&&d.m(e,null),C(e,l),p&&p.m(e,null),c=!0,u||(f=Fe(o,"input",t[8]),u=!0)},p(m,[h]){(!c||h&8)&&it(s,m[3]),(!c||h&2)&&v(o,"name",m[1]),(!c||h&4)&&v(o,"type",m[2]),(!c||h&32)&&(o.required=m[5]),(!c||h&64)&&(o.disabled=m[6]),(!c||h&32)&&v(o,"aria-required",m[5]),(!c||h&128)&&v(o,"placeholder",m[7]),(!c||h&1&&o.value!==m[0])&&(o.value=m[0]),m[4]?d?d.p(m,h):(d=ys(m),d.c(),d.m(e,l)):d&&(d.d(1),d=null),m[1]!==void 0?p?(p.p(m,h),h&2&&L(p,1)):(p=gs(m),p.c(),L(p,1),p.m(e,null)):p&&(Je(),Z(p,1,1,()=>{p=null}),Ke())},i(m){c||(L(p),c=!0)},o(m){Z(p),c=!1},d(m){m&&k(e),d&&d.d(),p&&p.d(),u=!1,f()}}}function il(t,e,n){let{name:r=void 0}=e,{type:s="text"}=e,{label:i}=e,{hint:o=void 0}=e,{required:a=!1}=e,{disabled:l=!1}=e,{placeholder:c=void 0}=e,{value:u=void 0}=e;function f(d){s==="number"?n(0,u=parseInt(d.currentTarget.value,10)):n(0,u=d.currentTarget.value)}return t.$$set=d=>{"name"in d&&n(1,r=d.name),"type"in d&&n(2,s=d.type),"label"in d&&n(3,i=d.label),"hint"in d&&n(4,o=d.hint),"required"in d&&n(5,a=d.required),"disabled"in d&&n(6,l=d.disabled),"placeholder"in d&&n(7,c=d.placeholder),"value"in d&&n(0,u=d.value)},[u,r,s,i,o,a,l,c,f]}class lt extends Be{constructor(e){super(),ze(this,e,il,sl,Me,{name:1,type:2,label:3,hint:4,required:5,disabled:6,placeholder:7,value:0})}}function ol(t){let e,n;return{c(){e=Kr("svg"),n=Kr("path"),v(n,"d","M4.233 0a4.233 4.233 0 0 0-2.986 1.247l.742.742a3.175 3.175 0 0 1 2.244-.93 3.175 3.175 0 0 1 2.245.93l.748-.748A4.233 4.233 0 0 0 4.233 0Z"),Ps(n,"fill","white"),v(e,"xmlns","http://www.w3.org/2000/svg"),v(e,"class","inline-block animate-spin"),v(e,"width",t[0]),v(e,"height",t[0]),v(e,"viewBox","0 0 8.467 8.467")},m(r,s){A(r,e,s),C(e,n)},p(r,[s]){s&1&&v(e,"width",r[0]),s&1&&v(e,"height",r[0])},i:K,o:K,d(r){r&&k(e)}}}function al(t,e,n){let{size:r=16}=e;return t.$$set=s=>{"size"in s&&n(0,r=s.size)},[r]}class gi extends Be{constructor(e){super(),ze(this,e,al,ol,Me,{size:0})}}function ll(t){let e;return{c(){e=U("Decrypt Storage")},m(n,r){A(n,e,r)},i:K,o:K,d(n){n&&k(e)}}}function cl(t){let e,n,r;return e=new gi({}),{c(){ue(e.$$.fragment),n=U(`
      Decrypting Storage`)},m(s,i){oe(e,s,i),A(s,n,i),r=!0},i(s){r||(L(e.$$.fragment,s),r=!0)},o(s){Z(e.$$.fragment,s),r=!1},d(s){ae(e,s),s&&k(n)}}}function ul(t){let e,n,r,s,i,o,a,l,c,u,f;function d(w){t[3](w)}let p={type:"password",label:"Enter your Master Password",hint:"Used for decrypting storage and computing passwords",disabled:t[1]};t[0]!==void 0&&(p.value=t[0]),n=new lt({props:p}),Mn.push(()=>Gi(n,"value",d));const m=[cl,ll],h=[];function b(w,R){return w[1]?0:1}return o=b(t),a=h[o]=m[o](t),{c(){e=$("form"),ue(n.$$.fragment),s=F(),i=$("button"),a.c(),v(i,"class","px-4 py-2 rounded bg-blue-500 hover:bg-blue-600 text-white disabled:bg-blue-400 flex gap-2 items-center"),v(i,"type","submit"),i.disabled=l=!t[0]||t[1],v(e,"autocomplete","off")},m(w,R){A(w,e,R),oe(n,e,null),C(e,s),C(e,i),h[o].m(i,null),c=!0,u||(f=Fe(e,"submit",Ge(t[2])),u=!0)},p(w,[R]){const M={};R&2&&(M.disabled=w[1]),!r&&R&1&&(r=!0,M.value=w[0],zi(()=>r=!1)),n.$set(M);let y=o;o=b(w),o!==y&&(Je(),Z(h[y],1,1,()=>{h[y]=null}),Ke(),a=h[o],a||(a=h[o]=m[o](w),a.c()),L(a,1),a.m(i,null)),(!c||R&3&&l!==(l=!w[0]||w[1]))&&(i.disabled=l)},i(w){c||(L(n.$$.fragment,w),L(a),c=!0)},o(w){Z(n.$$.fragment,w),Z(a),c=!1},d(w){w&&k(e),ae(n),h[o].d(),u=!1,f()}}}function dl(t,e,n){let r;Qe(t,at,l=>n(4,r=l));let s="",i=!1;function o(){n(1,i=!0),setTimeout(()=>{n(1,i=!1),nr(at,r=Ea(s),r),Wt("/applications")},0)}function a(l){s=l,n(0,s)}return[s,i,o,a]}class fl extends Be{constructor(e){super(),ze(this,e,dl,ul,Me,{})}}function pl(t,e,n){let r;return Qe(t,at,s=>n(0,r=s)),nr(at,r=void 0,r),ir("/login"),[]}class ml extends Be{constructor(e){super(),ze(this,e,pl,null,Me,{})}}function hl(t,...e){const n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function Ct(t){let e;return hl(t,n=>e=n)(),e}class _l extends Error{constructor(e,n){super(e),this.name="FelteSubmitError",this.response=n}}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function bi(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function _t(t,e){return ur(t,n=>se(n)?_t(n,e):Array.isArray(n)?n.length===0||n.every(r=>typeof r=="string")?e:n.map(r=>{const s=_t(r,e);return bi(s,["key"])}):e)}function wt(t){return t?ur(t,e=>se(e)?wt(e):Array.isArray(e)?e.length===0||e.every(n=>typeof n=="string")?e:e.map(n=>{if(!se(n))return n;const r=wt(n);return r.key||(r.key=Hr()),r}):e):{}}function rn(t){return t?ur(t,e=>se(e)?wt(e):Array.isArray(e)?e.length===0||e.every(n=>typeof n=="string")?e:e.map(n=>{if(!se(n))return n;const r=wt(n);return bi(r,["key"])}):e):{}}function yl(){class t extends CustomEvent{constructor(s){super("feltesuccess",{detail:s})}}class e extends CustomEvent{constructor(s){super("felteerror",{detail:s,cancelable:!0})}setErrors(s){this.preventDefault(),this.errors=s}}class n extends Event{constructor(){super("feltesubmit",{cancelable:!0})}handleSubmit(s){this.onSubmit=s}handleError(s){this.onError=s}handleSuccess(s){this.onSuccess=s}}return{createErrorEvent:r=>new e(r),createSubmitEvent:()=>new n,createSuccessEvent:r=>new t(r)}}function gl(t){if(!!t)return async function(){let n=new FormData(t);const r=new URL(t.action),s=t.method.toLowerCase()==="get"?"get":r.searchParams.get("_method")||t.method;let i=t.enctype;t.querySelector('input[type="file"]')&&(i="multipart/form-data"),(s==="get"||i==="application/x-www-form-urlencoded")&&(n=new URLSearchParams(n));let o;s==="get"?(n.forEach((l,c)=>{r.searchParams.append(c,l)}),o={method:s,headers:{Accept:"application/json"}}):o={method:s,body:n,headers:Object.assign(Object.assign({},i!=="multipart/form-data"&&{"Content-Type":i}),{Accept:"application/json"})};const a=await window.fetch(r.toString(),o);if(a.ok)return a;throw new _l("An error occurred while submitting the form",a)}}function En(t,e,n,r){return Xt(t,e,s=>(typeof s<"u"&&!Array.isArray(s)||(s||(s=[]),typeof r>"u"?s.push(n):s.splice(r,0,n)),s))}function bl(t,e,n,r){return Xt(t,e,s=>(!s||!Array.isArray(s)||([s[n],s[r]]=[s[r],s[n]]),s))}function vl(t,e,n,r){return Xt(t,e,s=>(!s||!Array.isArray(s)||s.splice(r,0,s.splice(n,1)[0]),s))}function bs(t){return typeof t=="function"}function At(t){return(n,r)=>{if(typeof n=="string"){const s=n;t(i=>{const o=bs(r)?r(dt(i,s)):r;return ye(i,s,o)})}else t(s=>bs(n)?n(s):n)}}function wl({stores:t,config:e,validateErrors:n,validateWarnings:r,_getCurrentExtenders:s}){var i;let o,a=wt((i=e.initialValues)!==null&&i!==void 0?i:{});const{data:l,touched:c,errors:u,warnings:f,isDirty:d,isSubmitting:p,interacted:m}=t,h=At(l.update),b=At(c.update),w=At(u.update),R=At(f.update);function M(T){h(z=>{const J=T(z);return o&&An(o,J),J})}const y=(T,z,J)=>{At(M)(T,z),typeof T=="string"&&J&&b(T,!0)};function S(T,z,J){const de=se(z)?_t(z,!1):!1,le=se(de)?Ve(de,[]):[];z=se(z)?Object.assign(Object.assign({},z),{key:Hr()}):z,u.update(re=>En(re,T,le,J)),f.update(re=>En(re,T,le,J)),c.update(re=>En(re,T,de,J)),l.update(re=>{const Ee=En(re,T,z,J);return setTimeout(()=>o&&An(o,Ee)),Ee})}function g(T){u.update(T),f.update(T),c.update(T),l.update(z=>{const J=T(z);return setTimeout(()=>o&&An(o,J)),J})}function D(T){g(z=>nn(z,T))}function P(T,z,J){g(de=>bl(de,T,z,J))}function V(T,z,J){g(de=>vl(de,T,z,J))}function ke(T){const z=dt(a,T),J=se(z)?_t(z,!1):!1,de=se(J)?Ve(J,[]):[];l.update(le=>{const re=ye(le,T,z);return o&&An(o,re),re}),c.update(le=>ye(le,T,J)),u.update(le=>ye(le,T,de)),f.update(le=>ye(le,T,de))}const q=At(p.update),ge=At(d.update),me=At(m.update);async function Ae(){const T=Ct(l);c.set(_t(T,!0)),m.set(null);const z=await n(T);return await r(T),z}function be(){y(Ye(a)),b(T=>Ve(T,!1)),m.set(null),d.set(!1)}function Q(T){return async function(J){var de,le,re,Ee,he,Ze,Ce;const{createErrorEvent:xe,createSubmitEvent:Pe,createSuccessEvent:$e}=yl(),we=Pe();o==null||o.dispatchEvent(we);const O=(le=(de=we.onError)!==null&&de!==void 0?de:T==null?void 0:T.onError)!==null&&le!==void 0?le:e.onError,_=(Ee=(re=we.onSuccess)!==null&&re!==void 0?re:T==null?void 0:T.onSuccess)!==null&&Ee!==void 0?Ee:e.onSuccess,N=(Ce=(Ze=(he=we.onSubmit)!==null&&he!==void 0?he:T==null?void 0:T.onSubmit)!==null&&Ze!==void 0?Ze:e.onSubmit)!==null&&Ce!==void 0?Ce:gl(o);if(!N||(J==null||J.preventDefault(),we.defaultPrevented))return;p.set(!0),m.set(null);const Y=rn(Ct(l)),Ne=await n(Y,T==null?void 0:T.validate),E=await r(Y,T==null?void 0:T.warn);if(E&&f.set(hi(Ve(Y,[]),E)),c.set(_t(Y,!0)),Ne&&(c.set(_t(Ne,!0)),pn(Ne,Te=>Array.isArray(Te)?Te.length>=1:!!Te))){await new Promise(Te=>setTimeout(Te)),s().forEach(Te=>{var x;return(x=Te.onSubmitError)===null||x===void 0?void 0:x.call(Te,{data:Y,errors:Ne})}),p.set(!1);return}const De={setFields:y,setData:h,setTouched:b,setErrors:w,setWarnings:R,unsetField:D,addField:S,resetField:ke,reset:be,setInitialValues:Ie.setInitialValues,moveField:V,swapFields:P,form:o,controls:o&&Array.from(o.elements).filter(Le),config:Object.assign(Object.assign({},e),T)};try{const Se=await N(Y,De);o==null||o.dispatchEvent($e(Object.assign({response:Se},De))),await(_==null?void 0:_(Se,De))}catch(Se){const Te=xe(Object.assign({error:Se},De));if(o==null||o.dispatchEvent(Te),!O&&!Te.defaultPrevented)throw Se;if(!O&&!Te.errors)return;const x=Te.errors||await(O==null?void 0:O(Se,De));x&&(c.set(_t(x,!0)),u.set(x),await new Promise(H=>setTimeout(H)),s().forEach(H=>{var nt;return(nt=H.onSubmitError)===null||nt===void 0?void 0:nt.call(H,{data:Y,errors:Ct(u)})}))}finally{p.set(!1)}}}const Ie={setData:h,setFields:y,setTouched:b,setErrors:w,setWarnings:R,setIsSubmitting:q,setIsDirty:ge,setInteracted:me,validate:Ae,reset:be,unsetField:D,resetField:ke,addField:S,swapFields:P,moveField:V,createSubmitHandler:Q,handleSubmit:Q(),setInitialValues:T=>{a=wt(T)}};return{public:Ie,private:{_setFormNode(T){o=T},_getInitialValues:()=>a}}}function kl({helpers:t,stores:e,config:n,extender:r,createSubmitHandler:s,handleSubmit:i,_setFormNode:o,_getInitialValues:a,_setCurrentExtenders:l,_getCurrentExtenders:c}){const{setFields:u,setTouched:f,reset:d,setInitialValues:p}=t,{addValidator:m,addTransformer:h,validate:b}=t,{data:w,errors:R,warnings:M,touched:y,isSubmitting:S,isDirty:g,interacted:D,isValid:P,isValidating:V}=e;function ke(q){q.requestSubmit||(q.requestSubmit=i);function ge(O){return function(_){return _({form:q,stage:O,controls:Array.from(q.elements).filter(Le),data:w,errors:R,warnings:M,touched:y,isValid:P,isValidating:V,isSubmitting:S,isDirty:g,interacted:D,config:n,addValidator:m,addTransformer:h,setFields:u,validate:b,reset:d,createSubmitHandler:s,handleSubmit:i})}}l(r.map(ge("MOUNT"))),q.noValidate=!!n.validate;const{defaultData:me,defaultTouched:Ae}=ps(q);o(q),p(hi(Ye(me),a())),u(a()),y.set(Ae);function be(O){const _=Re(O),N=Array.from(q.querySelectorAll(`[name="${O.name}"]`)).filter(Y=>Le(Y)?_===Re(Y):!1);if(N.length!==0)return N.length===1?w.update(Y=>ye(Y,Re(O),O.checked)):w.update(Y=>ye(Y,Re(O),N.filter(zt).filter(Ne=>Ne.checked).map(Ne=>Ne.value)))}function Q(O){const _=q.querySelectorAll(`[name="${O.name}"]`),N=Array.from(_).find(Y=>zt(Y)&&Y.checked);w.update(Y=>ye(Y,Re(O),N==null?void 0:N.value))}function Ie(O){var _;const N=Array.from((_=O.files)!==null&&_!==void 0?_:[]);w.update(Y=>ye(Y,Re(O),O.multiple?N:N[0]))}function Oe(O){if(!O.multiple)w.update(_=>ye(_,Re(O),O.value));else{const _=Array.from(O.options).filter(N=>N.selected).map(N=>N.value);w.update(N=>ye(N,Re(O),_))}}function T(O){const _=O.target;if(!_||!Le(_)||Bt(_)||gr(_)||["checkbox","radio","file"].includes(_.type)||!_.name)return;g.set(!0);const N=yi(_);D.set(_.name),w.update(Y=>ye(Y,Re(_),N))}function z(O){const _=O.target;if(!(!_||!Le(_)||gr(_))&&!!_.name)if(f(Re(_),!0),D.set(_.name),(Bt(_)||["checkbox","radio","file","hidden"].includes(_.type))&&g.set(!0),_.type==="hidden"&&w.update(N=>ye(N,Re(_),_.value)),Bt(_))Oe(_);else if(zt(_))_.type==="checkbox"?be(_):_.type==="radio"?Q(_):_.type==="file"&&Ie(_);else return}function J(O){const _=O.target;!_||!Le(_)||gr(_)||!_.name||(f(Re(_),!0),D.set(_.name))}function de(O){O.preventDefault(),d()}const le={childList:!0,subtree:!0};function re(O){let _=Ct(w),N=Ct(y),Y=Ct(R),Ne=Ct(M);for(const E of O.reverse()){if(E.hasAttribute("data-felte-keep-on-remove")&&E.dataset.felteKeepOnRemove!=="false")continue;const De=/.*(\[[0-9]+\]|\.[0-9]+)\.[^.]+$/;let Se=Re(E);const Te=Ct(y);if(De.test(Se)){const H=Se.split(".").slice(0,-1).join("."),nt=dt(Te,H);se(nt)&&Object.keys(nt).length<=1&&(Se=H)}_=nn(_,Se),N=nn(N,Se),Y=nn(Y,Se),Ne=nn(Ne,Se)}w.set(_),y.set(N),R.set(Y),M.set(Ne)}const Ee=Xn(()=>{c().forEach(N=>{var Y;return(Y=N.destroy)===null||Y===void 0?void 0:Y.call(N)}),l(r.map(ge("UPDATE")));const{defaultData:O,defaultTouched:_}=ps(q);w.update(N=>ds(N,O)),y.update(N=>ds(N,_))},0);let he=[];const Ze=Xn(()=>{c().forEach(O=>{var _;return(_=O.destroy)===null||_===void 0?void 0:_.call(O)}),l(r.map(ge("UPDATE"))),re(he),he=[]},0);function Ce(O){!Array.from(O.addedNodes).some(N=>fs(N)?Le(N)?!0:Nr(N).length>0:!1)||Ee()}function xe(O){for(const _ of O.removedNodes){if(!fs(_))continue;const N=Nr(_);N.length!==0&&(he.push(...N),Ze())}}function Pe(O){for(const _ of O)_.type==="childList"&&(_.addedNodes.length>0&&Ce(_),_.removedNodes.length>0&&xe(_))}const $e=new MutationObserver(Pe);$e.observe(q,le),q.addEventListener("input",T),q.addEventListener("change",z),q.addEventListener("focusout",J),q.addEventListener("submit",i),q.addEventListener("reset",de);const we=R.subscribe(O=>{for(const _ of q.elements){if(!Le(_)||!_.name)continue;const N=dt(O,Re(_)),Y=Array.isArray(N)?N.join(`
`):typeof N=="string"?N:void 0;Y!==_.dataset.felteValidationMessage&&(Y?(_.dataset.felteValidationMessage=Y,_.setAttribute("aria-invalid","true")):(delete _.dataset.felteValidationMessage,_.removeAttribute("aria-invalid")))}});return{destroy(){$e.disconnect(),q.removeEventListener("input",T),q.removeEventListener("change",z),q.removeEventListener("focusout",J),q.removeEventListener("submit",i),q.removeEventListener("reset",de),we(),c().forEach(O=>{var _;return(_=O.destroy)===null||_===void 0?void 0:_.call(O)})}}}return{form:ke}}function Al(t){const e={aborted:!1,priority:t};return{signal:e,abort(){e.aborted=!0}}}function El(t,e){if(se(t))return!e||se(e)&&Object.keys(e).length===0?Ve(t,null):void 0;if(Array.isArray(t)){if(t.some(se))return;const n=Array.isArray(e)?e:[];return t.map((r,s)=>{const i=n[s];return Array.isArray(i)&&i.length===0?null:r&&i||null})}return Array.isArray(e)&&e.length===0?null:Array.isArray(e)?t?e:null:t&&e?[e]:null}function Cl(t,e){if(se(t))return!e||se(e)&&Object.keys(e).length===0?Ve(t,null):void 0;if(Array.isArray(t)){if(t.some(se))return;const n=Array.isArray(e)?e:[];return t.map((r,s)=>{const i=n[s];return Array.isArray(i)&&i.length===0?null:i||null})}return Array.isArray(e)&&e.length===0?null:Array.isArray(e)?e:e?[e]:null}function Sl([t,e]){return St(e,t,El)}function xl([t,e]){return St(e,t,Cl)}function Tl(t){return function(n,r,s){const i=Array.isArray(n)?n:[n],o=new Array(i.length),a=t(s),l=a.set,c=a.subscribe;let u;function f(){u=i.map((p,m)=>p.subscribe(h=>{o[m]=h,l(r(o))}))}function d(){u==null||u.forEach(p=>p())}return a.subscribe=function(m){const h=c(m);return()=>{h()}},[a,f,d]}}function $l(t,e){var n,r,s,i,o,a,l,c,u;const f=Tl(t),d=e.initialValues=e.initialValues?wt(Or(Ye(e.initialValues),e.transform)):{},p=_t(rn(d),!1),m=t(p),h=t(0),[b,w,R]=f([m,h],([_e,fe])=>pn(_e,Xe=>!!Xe)&&fe>=1,!1);delete b.set,delete b.update;function M(_e){let fe;return async function(Xe,rt,He,Nt=!1){if(!He||!Xe)return;let kt=rt&&Object.keys(rt).length>0?rt:Ve(Xe,[]);const It=Al(Nt);if((!(fe!=null&&fe.signal.priority)||Nt)&&(fe==null||fe.abort(),fe=It),fe.signal.priority&&!Nt)return;h.update(Gt=>Gt+1);const Vr=Ba(Xe,He);return Vr.forEach(async Gt=>{const Ti=await Gt;It.signal.aborted||(kt=Ft([kt,Ti]),_e.set(kt))}),await Promise.all(Vr),fe=void 0,h.update(Gt=>Gt-1),kt}}let y=Ve(p,[]);const S=t(d),g=Ve(p,[]),D=t(g),P=t(Ye(g)),[V,ke,q]=f([D,P],Ft,Ye(g)),ge=Ve(p,[]),me=t(ge),Ae=t(Ye(ge)),[be,Q,Ie]=f([me,Ae],Ft,Ye(ge)),[Oe,T,z]=f([V,m],Sl,Ye(g)),[J,de,le]=f([be,m],xl,Ye(ge));let re=!1;const[Ee,he,Ze]=f(V,([_e])=>{var fe;return re?!pn(_e,je=>Array.isArray(je)?je.length>=1:!!je):(re=!0,!e.validate&&!(!((fe=e.debounced)===null||fe===void 0)&&fe.validate))},!e.validate&&!(!((n=e.debounced)===null||n===void 0)&&n.validate));delete Ee.set,delete Ee.update;const Ce=t(!1),xe=t(!1),Pe=t(null),$e=M(D),we=M(me),O=M(P),_=M(Ae),N=Xn(O,(o=(s=(r=e.debounced)===null||r===void 0?void 0:r.validateTimeout)!==null&&s!==void 0?s:(i=e.debounced)===null||i===void 0?void 0:i.timeout)!==null&&o!==void 0?o:300,{onInit:()=>{h.update(_e=>_e+1)},onEnd:()=>{h.update(_e=>_e-1)}}),Y=Xn(_,(u=(l=(a=e.debounced)===null||a===void 0?void 0:a.warnTimeout)!==null&&l!==void 0?l:(c=e.debounced)===null||c===void 0?void 0:c.timeout)!==null&&u!==void 0?u:300);async function Ne(_e,fe){var je;const Xe=rn(_e),rt=$e(Xe,y,fe!=null?fe:e.validate,!0);if(fe)return rt;const He=O(Xe,y,(je=e.debounced)===null||je===void 0?void 0:je.validate,!0);return Ft(await Promise.all([rt,He]))}async function E(_e,fe){var je;const Xe=rn(_e),rt=we(Xe,y,fe!=null?fe:e.warn,!0);if(fe)return rt;const He=_(Xe,y,(je=e.debounced)===null||je===void 0?void 0:je.warn,!0);return Ft(await Promise.all([rt,He]))}let De=g,Se=ge;function Te(){const _e=S.subscribe(He=>{var Nt,kt;const It=rn(He);$e(It,y,e.validate),we(It,y,e.warn),N(It,y,(Nt=e.debounced)===null||Nt===void 0?void 0:Nt.validate),Y(It,y,(kt=e.debounced)===null||kt===void 0?void 0:kt.warn)}),fe=m.subscribe(He=>{y=Ve(He,[])}),je=V.subscribe(He=>{De=He}),Xe=be.subscribe(He=>{Se=He});ke(),he(),Q(),T(),de(),w();function rt(){_e(),z(),q(),Ie(),le(),Ze(),R(),fe(),je(),Xe()}return rt}function x(_e){D.set(_e(De)),P.set({})}function H(_e){me.set(_e(Se)),Ae.set({})}function nt(_e){x(()=>_e)}function _n(_e){H(()=>_e)}return Oe.set=nt,Oe.update=x,J.set=_n,J.update=H,{data:S,errors:Oe,warnings:J,touched:m,isValid:Ee,isSubmitting:Ce,isDirty:xe,isValidating:b,interacted:Pe,validateErrors:Ne,validateWarnings:E,cleanup:e.preventStoreStart?()=>{}:Te(),start:Te}}function Ol(t,e){var n,r;(n=t.extend)!==null&&n!==void 0||(t.extend=[]),(r=t.debounced)!==null&&r!==void 0||(t.debounced={}),t.validate&&!Array.isArray(t.validate)&&(t.validate=[t.validate]),t.debounced.validate&&!Array.isArray(t.debounced.validate)&&(t.debounced.validate=[t.debounced.validate]),t.transform&&!Array.isArray(t.transform)&&(t.transform=[t.transform]),t.warn&&!Array.isArray(t.warn)&&(t.warn=[t.warn]),t.debounced.warn&&!Array.isArray(t.debounced.warn)&&(t.debounced.warn=[t.debounced.warn]);function s(Q,{debounced:Ie,level:Oe}={debounced:!1,level:"error"}){var T;const z=Oe==="error"?"validate":"warn";(T=t.debounced)!==null&&T!==void 0||(t.debounced={});const J=Ie?t.debounced:t;J[z]?J[z]=[...J[z],Q]:J[z]=[Q]}function i(Q){t.transform?t.transform=[...t.transform,Q]:t.transform=[Q]}const o=Array.isArray(t.extend)?t.extend:[t.extend];let a=[];const l=()=>a,c=Q=>{a=Q},{isSubmitting:u,isValidating:f,data:d,errors:p,warnings:m,touched:h,isValid:b,isDirty:w,cleanup:R,start:M,validateErrors:y,validateWarnings:S,interacted:g}=$l(e.storeFactory,t),D=d.update,P=d.set,V=Q=>D(Ie=>wt(Or(Q(Ie),t.transform))),ke=Q=>P(wt(Or(Q,t.transform)));d.update=V,d.set=ke;const q=wl({extender:o,config:t,addValidator:s,addTransformer:i,validateErrors:y,validateWarnings:S,_getCurrentExtenders:l,stores:{data:d,errors:p,warnings:m,touched:h,isValid:b,isValidating:f,isSubmitting:u,isDirty:w,interacted:g}}),{createSubmitHandler:ge,handleSubmit:me}=q.public;a=o.map(Q=>Q({stage:"SETUP",errors:p,warnings:m,touched:h,data:d,isDirty:w,isValid:b,isValidating:f,isSubmitting:u,interacted:g,config:t,addValidator:s,addTransformer:i,setFields:q.public.setFields,reset:q.public.reset,validate:q.public.validate,handleSubmit:me,createSubmitHandler:ge}));const Ae=Object.assign({config:t,stores:{data:d,touched:h,errors:p,warnings:m,isSubmitting:u,isValidating:f,isValid:b,isDirty:w,interacted:g},createSubmitHandler:ge,handleSubmit:me,helpers:Object.assign(Object.assign({},q.public),{addTransformer:i,addValidator:s}),extender:o,_getCurrentExtenders:l,_setCurrentExtenders:c},q.private),{form:be}=kl(Ae);return Object.assign({data:d,errors:p,warnings:m,touched:h,isValid:b,isSubmitting:u,isValidating:f,isDirty:w,interacted:g,form:be,cleanup:R,startStores:M},q.public)}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function Nl(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function vi(t){var e=Ol(t!=null?t:{},{storeFactory:ot}),n=e.cleanup;e.startStores;var r=Nl(e,["cleanup","startStores"]);return Dr(n),r}var Ir={exports:{}},br,vs;function Il(){if(vs)return br;vs=1;var t=1e3,e=t*60,n=e*60,r=n*24,s=r*7,i=r*365.25;br=function(u,f){f=f||{};var d=typeof u;if(d==="string"&&u.length>0)return o(u);if(d==="number"&&isFinite(u))return f.long?l(u):a(u);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(u))};function o(u){if(u=String(u),!(u.length>100)){var f=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(u);if(!!f){var d=parseFloat(f[1]),p=(f[2]||"ms").toLowerCase();switch(p){case"years":case"year":case"yrs":case"yr":case"y":return d*i;case"weeks":case"week":case"w":return d*s;case"days":case"day":case"d":return d*r;case"hours":case"hour":case"hrs":case"hr":case"h":return d*n;case"minutes":case"minute":case"mins":case"min":case"m":return d*e;case"seconds":case"second":case"secs":case"sec":case"s":return d*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return d;default:return}}}}function a(u){var f=Math.abs(u);return f>=r?Math.round(u/r)+"d":f>=n?Math.round(u/n)+"h":f>=e?Math.round(u/e)+"m":f>=t?Math.round(u/t)+"s":u+"ms"}function l(u){var f=Math.abs(u);return f>=r?c(u,f,r,"day"):f>=n?c(u,f,n,"hour"):f>=e?c(u,f,e,"minute"):f>=t?c(u,f,t,"second"):u+" ms"}function c(u,f,d,p){var m=f>=d*1.5;return Math.round(u/d)+" "+p+(m?"s":"")}return br}function jl(t){n.debug=n,n.default=n,n.coerce=l,n.disable=i,n.enable=s,n.enabled=o,n.humanize=Il(),n.destroy=c,Object.keys(t).forEach(u=>{n[u]=t[u]}),n.names=[],n.skips=[],n.formatters={};function e(u){let f=0;for(let d=0;d<u.length;d++)f=(f<<5)-f+u.charCodeAt(d),f|=0;return n.colors[Math.abs(f)%n.colors.length]}n.selectColor=e;function n(u){let f,d=null,p,m;function h(...b){if(!h.enabled)return;const w=h,R=Number(new Date),M=R-(f||R);w.diff=M,w.prev=f,w.curr=R,f=R,b[0]=n.coerce(b[0]),typeof b[0]!="string"&&b.unshift("%O");let y=0;b[0]=b[0].replace(/%([a-zA-Z%])/g,(g,D)=>{if(g==="%%")return"%";y++;const P=n.formatters[D];if(typeof P=="function"){const V=b[y];g=P.call(w,V),b.splice(y,1),y--}return g}),n.formatArgs.call(w,b),(w.log||n.log).apply(w,b)}return h.namespace=u,h.useColors=n.useColors(),h.color=n.selectColor(u),h.extend=r,h.destroy=n.destroy,Object.defineProperty(h,"enabled",{enumerable:!0,configurable:!1,get:()=>d!==null?d:(p!==n.namespaces&&(p=n.namespaces,m=n.enabled(u)),m),set:b=>{d=b}}),typeof n.init=="function"&&n.init(h),h}function r(u,f){const d=n(this.namespace+(typeof f>"u"?":":f)+u);return d.log=this.log,d}function s(u){n.save(u),n.namespaces=u,n.names=[],n.skips=[];let f;const d=(typeof u=="string"?u:"").split(/[\s,]+/),p=d.length;for(f=0;f<p;f++)!d[f]||(u=d[f].replace(/\*/g,".*?"),u[0]==="-"?n.skips.push(new RegExp("^"+u.slice(1)+"$")):n.names.push(new RegExp("^"+u+"$")))}function i(){const u=[...n.names.map(a),...n.skips.map(a).map(f=>"-"+f)].join(",");return n.enable(""),u}function o(u){if(u[u.length-1]==="*")return!0;let f,d;for(f=0,d=n.skips.length;f<d;f++)if(n.skips[f].test(u))return!1;for(f=0,d=n.names.length;f<d;f++)if(n.names[f].test(u))return!0;return!1}function a(u){return u.toString().substring(2,u.toString().length-2).replace(/\.\*\?$/,"*")}function l(u){return u instanceof Error?u.stack||u.message:u}function c(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return n.enable(n.load()),n}var Rl=jl;(function(t,e){e.formatArgs=r,e.save=s,e.load=i,e.useColors=n,e.storage=o(),e.destroy=(()=>{let l=!1;return()=>{l||(l=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function n(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function r(l){if(l[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+l[0]+(this.useColors?"%c ":" ")+"+"+t.exports.humanize(this.diff),!this.useColors)return;const c="color: "+this.color;l.splice(1,0,c,"color: inherit");let u=0,f=0;l[0].replace(/%[a-zA-Z%]/g,d=>{d!=="%%"&&(u++,d==="%c"&&(f=u))}),l.splice(f,0,c)}e.log=console.debug||console.log||(()=>{});function s(l){try{l?e.storage.setItem("debug",l):e.storage.removeItem("debug")}catch{}}function i(){let l;try{l=e.storage.getItem("debug")}catch{}return!l&&typeof process<"u"&&"env"in process&&(l=process.env.DEBUG),l}function o(){try{return localStorage}catch{}}t.exports=Rl(e);const{formatters:a}=t.exports;a.j=function(l){try{return JSON.stringify(l)}catch(c){return"[UnexpectedJSONParseError]: "+c.message}}})(Ir,Ir.exports);const Yr=Ir.exports;var Ll=Dl,ct=[],ws="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var Cn=0,Ml=ws.length;Cn<Ml;++Cn)ct[Cn]=ws[Cn];function Zl(t){return ct[t>>18&63]+ct[t>>12&63]+ct[t>>6&63]+ct[t&63]}function Pl(t,e,n){for(var r,s=[],i=e;i<n;i+=3)r=(t[i]<<16&16711680)+(t[i+1]<<8&65280)+(t[i+2]&255),s.push(Zl(r));return s.join("")}function Dl(t){for(var e,n=t.length,r=n%3,s=[],i=16383,o=0,a=n-r;o<a;o+=i)s.push(Pl(t,o,o+i>a?a:o+i));return r===1?(e=t[n-1],s.push(ct[e>>2]+ct[e<<4&63]+"==")):r===2&&(e=(t[n-2]<<8)+t[n-1],s.push(ct[e>>10]+ct[e>>4&63]+ct[e<<2&63]+"=")),s.join("")}const Fl=new TextEncoder;function Ul(t){return Ll(Fl.encode(t))}const Ue=Yr("dp:stores:remoteSync"),jr=`${di}remote-state`,Ot=ot(),wi=ot(0);let Sn;function ki(){Sn!==void 0&&clearTimeout(Sn),Sn=setTimeout(()=>{Sn=void 0,fr()},xa)}async function Wl({host:t,username:e,password:n}){const r=Ul(`${e}:${n}`),s=await fetch(`https://${t}/user/token`,{method:"PUT",headers:{authorization:`Basic ${r}`,accept:"application/json"}});if(!s.ok)throw new Error("Request failed");const{token:i}=ua.parse(await s.json()),o={host:t,token:i,lastModifiedAt:0,localLastModifiedAt:0,lastSyncedAt:0};Ot.set(o),fr()}function Rr(t){return{authorization:`Bearer ${t.token}`,accept:"application/json","content-type":"application/json"}}async function Ai(t){let e=!0;if(Ot.update(n=>{if(n!==t)return n;e=!1}),!(t===void 0||e))try{await fetch(`https://${t.host}/user/token`,{method:"DELETE",headers:Rr(t),body:JSON.stringify({token:t.token})})}catch(n){Ue("failed to delete old token",n)}}function fr(){Ue("trigger sync"),wi.update(t=>t+1)}async function ks(t,e){if((e.status===401||e.status===403)&&await Ai(t),!e.ok){const n=await e.text();throw new Error(`Failed to send request: ${n}`)}}async function ql(t,e){const n=new Map;if(t===void 0)return{updated:n};const r=`https://${t.host}/objects`,s=await fetch(`${r}?since=${t.lastModifiedAt}`,{headers:Rr(t)});await ks(t,s);const{objects:i}=da.parse(await s.json());Ue("got %d remote objects since %j",i.length,t.lastModifiedAt,i);const o=new Map(e.map(d=>[d.id,d]));let a=t.lastModifiedAt;for(const{id:d,data:p,modifiedAt:m}of i){a=Math.max(a,m),o.delete(d);let h;try{h=la.parse(JSON.parse(p))}catch(b){Ue("failed to parse remote application",p,b);continue}n.set(h.id,h)}const l=new Array;let c=t.localLastModifiedAt;const u=Array.from(o.values()).sort((d,p)=>d.modifiedAt-p.modifiedAt);for(const d of u)d.modifiedAt<=t.localLastModifiedAt||(c=Math.max(c,d.modifiedAt),l.push({id:d.id,version:d.version,encrypted:d.encrypted,removed:d.removed}));if(l.length>0){Ue("uploading %d new objects since %j",l.length,t.localLastModifiedAt);const d=await fetch(r,{method:"PUT",headers:Rr(t),body:JSON.stringify({objects:l.map(m=>({id:m.id,data:m}))})});await ks(t,d),a=fa.parse(await d.json()).modifiedAt}const f={...t,lastModifiedAt:a,localLastModifiedAt:c,lastSyncedAt:Date.now()};return Ot.update(d=>d!==t?d:f),{updated:n}}function zl(t,e,n,{updated:r}){if(r.size===0){Ue("no changes, not applying results");return}e.update(s=>{const{localLastModifiedAt:i}=t;let o=i;const a=s.map(l=>{const c=r.get(l.id);return r.delete(l.id),l.modifiedAt>i?(Ue("app %j modified in flight",l.id),l):c===void 0?l:(o=n.next(),Ue("updated app %j",l.id),{...l,encrypted:c.encrypted,modifiedAt:o})});for(const l of r.values())o=n.next(),Ue("added app %j",l.id),a.push({...l,modifiedAt:o});return Ot.update(l=>{if(l===t)return{...l,localLastModifiedAt:o}}),a})}function Bl(t,e){let n;Ot.subscribe(i=>n=i);const r=rr([t,wi],([i])=>i);let s=0;r.subscribe(async i=>{if(ki(),n===void 0){Ue("no remote state, not sync");return}if(++s!==1){Ue("%d syncs already running",s);return}Ue("starting sync");try{const o=await ql(n,i);zl(n,t,e,o)}catch(o){Ue("failed to run sync or apply sync results",o)}--s!==0&&(s=0,Ue("re-triggering sync"),fr())})}const As=localStorage.getItem(jr);if(As)try{Ot.set(ca.parse(JSON.parse(As)))}catch(t){Ue("Failed to update remote state store",t)}ki();Ot.subscribe(async t=>{if(t===void 0){localStorage.removeItem(jr);return}localStorage.setItem(jr,JSON.stringify(t))});function Hl(t){let e,n,r,s,i,o,a,l,c,u,f,d,p,m;s=new lt({props:{required:!0,name:"host",label:"Storage server hostname",placeholder:"storage.example.com"}}),s.$on("input",t[4]),s.$on("change",t[5]),s.$on("focus",t[6]),s.$on("blur",t[7]),o=new lt({props:{required:!0,name:"username",label:"Username",placeholder:"me@my.server"}}),o.$on("input",t[8]),o.$on("change",t[9]),o.$on("focus",t[10]),o.$on("blur",t[11]),l=new lt({props:{required:!0,name:"password",type:"password",label:"Password"}}),l.$on("input",t[12]),l.$on("change",t[13]),l.$on("focus",t[14]),l.$on("blur",t[15]);let h=t[0]!==void 0&&Es(t);return{c(){e=$("h2"),e.textContent="Setup Synchronization",n=F(),r=$("form"),ue(s.$$.fragment),i=F(),ue(o.$$.fragment),a=F(),ue(l.$$.fragment),c=F(),h&&h.c(),u=F(),f=$("button"),f.textContent="Login",v(e,"class","text-3xl mb-4"),v(f,"type","submit"),v(f,"class","px-4 py-2 rounded bg-blue-500 hover:bg-blue-600 text-white disabled:bg-blue-400")},m(b,w){A(b,e,w),A(b,n,w),A(b,r,w),oe(s,r,null),C(r,i),oe(o,r,null),C(r,a),oe(l,r,null),C(r,c),h&&h.m(r,null),C(r,u),C(r,f),d=!0,p||(m=Yt(t[2].call(null,r)),p=!0)},p(b,w){b[0]!==void 0?h?h.p(b,w):(h=Es(b),h.c(),h.m(r,u)):h&&(h.d(1),h=null)},i(b){d||(L(s.$$.fragment,b),L(o.$$.fragment,b),L(l.$$.fragment,b),d=!0)},o(b){Z(s.$$.fragment,b),Z(o.$$.fragment,b),Z(l.$$.fragment,b),d=!1},d(b){b&&k(e),b&&k(n),b&&k(r),ae(s),ae(o),ae(l),h&&h.d(),p=!1,m()}}}function Yl(t){let e,n,r,s,i,o,a,l,c,u;function f(m,h){return m[1].lastSyncedAt?Jl:Vl}let d=f(t),p=d(t);return{c(){e=$("h2"),e.textContent="Synchronization",n=F(),r=$("p"),p.c(),s=F(),i=$("section"),o=$("button"),o.textContent="Sync Now",a=F(),l=$("button"),l.textContent="Unlink",v(e,"class","text-3xl mb-4"),v(r,"class","my-2"),v(o,"type","button"),v(o,"class","px-4 py-2 rounded bg-blue-500 hover:bg-blue-600 text-white disabled:bg-blue-400"),v(l,"type","reset"),v(l,"class","px-4 py-2 rounded bg-red-500 hover:bg-red-600 text-white disabled:bg-red-400"),v(i,"class","mt-4 flex gap-1")},m(m,h){A(m,e,h),A(m,n,h),A(m,r,h),p.m(r,null),A(m,s,h),A(m,i,h),C(i,o),C(i,a),C(i,l),c||(u=[Fe(o,"click",Ge(fr)),Fe(l,"click",Ge(t[3]))],c=!0)},p(m,h){d===(d=f(m))&&p?p.p(m,h):(p.d(1),p=d(m),p&&(p.c(),p.m(r,null)))},i:K,o:K,d(m){m&&k(e),m&&k(n),m&&k(r),p.d(),m&&k(s),m&&k(i),c=!1,tt(u)}}}function Es(t){let e,n;return{c(){e=$("p"),n=U(t[0]),v(e,"class","my-2 text-red-500")},m(r,s){A(r,e,s),C(e,n)},p(r,s){s&1&&it(n,r[0])},d(r){r&&k(e)}}}function Vl(t){let e,n,r=t[1].host+"",s,i;return{c(){e=U("Awaiting initial sync with "),n=$("b"),s=U(r),i=U(".")},m(o,a){A(o,e,a),A(o,n,a),C(n,s),A(o,i,a)},p(o,a){a&2&&r!==(r=o[1].host+"")&&it(s,r)},d(o){o&&k(e),o&&k(n),o&&k(i)}}}function Jl(t){let e,n,r=t[1].host+"",s,i,o,a,l,c=new Date(t[1].lastSyncedAt).toLocaleString()+"",u,f;return{c(){e=U("Last synchronized with "),n=$("b"),s=U(r),i=F(),o=$("br"),a=U(`
      on `),l=$("b"),u=U(c),f=U(".")},m(d,p){A(d,e,p),A(d,n,p),C(n,s),A(d,i,p),A(d,o,p),A(d,a,p),A(d,l,p),C(l,u),A(d,f,p)},p(d,p){p&2&&r!==(r=d[1].host+"")&&it(s,r),p&2&&c!==(c=new Date(d[1].lastSyncedAt).toLocaleString()+"")&&it(u,c)},d(d){d&&k(e),d&&k(n),d&&k(i),d&&k(o),d&&k(a),d&&k(l),d&&k(f)}}}function Kl(t){let e,n,r,s;const i=[Yl,Hl],o=[];function a(l,c){return l[1]?0:1}return e=a(t),n=o[e]=i[e](t),{c(){n.c(),r=$t()},m(l,c){o[e].m(l,c),A(l,r,c),s=!0},p(l,[c]){let u=e;e=a(l),e===u?o[e].p(l,c):(Je(),Z(o[u],1,1,()=>{o[u]=null}),Ke(),n=o[e],n?n.p(l,c):(n=o[e]=i[e](l),n.c()),L(n,1),n.m(r.parentNode,r))},i(l){s||(L(n),s=!0)},o(l){Z(n),s=!1},d(l){o[e].d(l),l&&k(r)}}}function Xl(t,e,n){var M;let r;Qe(t,Ot,y=>n(1,r=y));let s;const{form:i}=vi({initialValues:{host:(M=r==null?void 0:r.host)!=null?M:"",username:"",password:""},async onSubmit(y){return n(0,s=void 0),Wl(y)},onError(){n(0,s="Invalid credentials or unreachable server")}}),o=()=>Ai(r);function a(y){ee.call(this,t,y)}function l(y){ee.call(this,t,y)}function c(y){ee.call(this,t,y)}function u(y){ee.call(this,t,y)}function f(y){ee.call(this,t,y)}function d(y){ee.call(this,t,y)}function p(y){ee.call(this,t,y)}function m(y){ee.call(this,t,y)}function h(y){ee.call(this,t,y)}function b(y){ee.call(this,t,y)}function w(y){ee.call(this,t,y)}function R(y){ee.call(this,t,y)}return[s,r,i,o,a,l,c,u,f,d,p,m,h,b,w,R]}class Gl extends Be{constructor(e){super(),ze(this,e,Xl,Kl,Me,{})}}function Ql(t){let e,n,r,s,i,o,a,l;return{c(){e=$("a"),n=$("h3"),r=U(t[1]),s=F(),i=U(t[2]),v(n,"class","text-lg font-semibold"),v(e,"href",o="/applications/"+t[0]),v(e,"class","px-4 text-blue-500 py-8 rounded border my-4 flex flex-col hover:bg-gray-100")},m(c,u){A(c,e,u),C(e,n),C(n,r),C(e,s),C(e,i),a||(l=Yt(Wr.call(null,e)),a=!0)},p(c,[u]){u&2&&it(r,c[1]),u&4&&it(i,c[2]),u&1&&o!==(o="/applications/"+c[0])&&v(e,"href",o)},i:K,o:K,d(c){c&&k(e),a=!1,l()}}}function ec(t,e,n){let{id:r}=e,{domain:s}=e,{login:i}=e;return t.$$set=o=>{"id"in o&&n(0,r=o.id),"domain"in o&&n(1,s=o.domain),"login"in o&&n(2,i=o.login)},[r,s,i]}class tc extends Be{constructor(e){super(),ze(this,e,ec,Ql,Me,{id:0,domain:1,login:2})}}let Ei=(t=21)=>crypto.getRandomValues(new Uint8Array(t)).reduce((e,n)=>(n&=63,n<36?e+=n.toString(36):n<62?e+=(n-26).toString(36).toUpperCase():n>62?e+="-":e+="_",e),"");const nc=Yr("dp:localSync"),Cs=`${di}i:`;function rc(t){var s,i;const e=new Array,n=ot(0);for(let o=0;o<localStorage.length;o++){const a=(s=localStorage.key(o))!=null?s:"";if(!!a.startsWith(Cs))try{const l=JSON.parse((i=localStorage.getItem(a))!=null?i:""),c=si.parse(l);n.update(u=>Math.max(u,c.modifiedAt)),e.push(c)}catch{}}nc("loaded %d apps",e.length),t.set(e);const r=new Map;return t.subscribe(o=>{const a=new Array;for(const{decrypted:l,...c}of o){const u=c,f=r.get(c.id);if(r.set(c.id,c.modifiedAt),f===void 0){a.push(u);continue}f!==u.modifiedAt&&a.push(u)}for(const l of a)localStorage.setItem(`${Cs}${l.id}`,JSON.stringify(l))}),{lastModifiedAt:{subscribe:n.subscribe,next(){let o=Date.now();return n.update(a=>(o=Math.max(o,a+1),o)),o}}}}const sc=Yr("dp:migrator"),ic="derivepass/production/";function oc(t){at.subscribe(e=>{var r,s;if(e===void 0)return;let n=0;for(let i=0;i<localStorage.length;i++){const o=(r=localStorage.key(i))!=null?r:"";if(!!o.startsWith(ic))try{const a=JSON.parse((s=localStorage.getItem(o))!=null?s:""),{changedAt:l,domain:c,login:u,revision:f,options:d,removed:p}=pa.parse(a);if(p)continue;const m=wn(e,c),h=wn(e,u),b=wn(e,f),w=ma.parse(JSON.parse(wn(e,d))),R=parseInt(b,10);if(R<1||isNaN(R))throw new Error("Negative or NaN revision");const{allowed:M,required:y,maxLength:S}=w,g=typeof S=="number"?S:parseInt(S,10);if(g<1||isNaN(g))throw new Error("Negative or NaN passwordLen");const D=ci(e,{domain:m,login:h,revision:R,allowedChars:M,requiredChars:y,passwordLen:g});t.update(P=>[...P,{id:Ei(),version:zr,encrypted:D,modifiedAt:l}]),localStorage.removeItem(o),n++}catch{}}sc("migrated %d records",n)})}const Rt=ot([]),{lastModifiedAt:Lr}=rc(Rt);Bl(Rt,Lr);oc(Rt);at.subscribe(t=>{Rt.update(e=>e.map(({decrypted:n,encrypted:r,...s})=>{let i;if(s.removed)return{encrypted:"",...s};if(t!==void 0)try{i=Ca(t,r)}catch{}return{decrypted:i,encrypted:r,...s}}))});const sn={subscribe:rr(Rt,t=>t.slice().sort((e,n)=>n.modifiedAt-e.modifiedAt).map(e=>{if(!(e.removed||e.decrypted===void 0))return{id:e.id,version:e.version,...e.decrypted}}).filter(e=>e!==void 0)).subscribe,getTemplate(){return{id:Ei(),version:zr,domain:"",login:"",revision:1,...Nn}},deleteById(t){Rt.update(e=>e.map(n=>n.id===t?{id:n.id,version:n.version,encrypted:"",removed:!0,modifiedAt:Lr.next()}:n))},save(t,{id:e,version:n,...r}){const s=ci(t,r),i={id:e,version:n,decrypted:r,encrypted:s,modifiedAt:Lr.next()};Rt.update(o=>{let a=!1;const l=o.map(c=>c.id===i.id?(a=!0,i):c);return a?l:[...o,i]})}};function Ss(t,e,n){const r=t.slice();return r[6]=e[n],r}function xs(t,e){let n,r,s;return r=new tc({props:{id:e[6].id,domain:e[6].domain,login:e[6].login}}),{key:t,first:null,c(){n=$t(),ue(r.$$.fragment),this.first=n},m(i,o){A(i,n,o),oe(r,i,o),s=!0},p(i,o){e=i;const a={};o&2&&(a.id=e[6].id),o&2&&(a.domain=e[6].domain),o&2&&(a.login=e[6].login),r.$set(a)},i(i){s||(L(r.$$.fragment,i),s=!0)},o(i){Z(r.$$.fragment,i),s=!1},d(i){i&&k(n),ae(r,i)}}}function ac(t){let e,n,r,s,i,o=[],a=new Map,l,c,u,f,d=t[1];const p=m=>m[6].id;for(let m=0;m<d.length;m+=1){let h=Ss(t,d,m),b=p(h);a.set(b,o[m]=xs(b,h))}return{c(){e=$("form"),n=$("input"),r=F(),s=$("input"),i=F();for(let m=0;m<o.length;m+=1)o[m].c();l=$t(),v(n,"class","grow px-4 py-2 min-w-0 rounded-l border focus:outline-none svelte-o2ushb"),v(n,"type","search"),v(n,"autocomplete","off"),v(n,"placeholder","Filter applications"),v(s,"class","shrink px-4 py-2 rounded-r border-y border-blue-500 hover:border-blue-600 bg-blue-500 hover:bg-blue-600 text-white"),v(s,"type","button"),s.value="Add application",v(e,"class","flex items-center rounded focus-within:outline-2 focus-within:outline outline-blue-500"),v(e,"autocomplete","off")},m(m,h){A(m,e,h),C(e,n),Xr(n,t[0]),C(e,r),C(e,s),A(m,i,h);for(let b=0;b<o.length;b+=1)o[b].m(m,h);A(m,l,h),c=!0,u||(f=[Fe(n,"input",t[5]),Fe(s,"click",Ge(t[2])),Fe(e,"submit",Ge(lc))],u=!0)},p(m,[h]){h&1&&Xr(n,m[0]),h&2&&(d=m[1],Je(),o=Xi(o,h,p,1,m,d,a,l.parentNode,Ki,xs,l,Ss),Ke())},i(m){if(!c){for(let h=0;h<d.length;h+=1)L(o[h]);c=!0}},o(m){for(let h=0;h<o.length;h+=1)Z(o[h]);c=!1},d(m){m&&k(e),m&&k(i);for(let h=0;h<o.length;h+=1)o[h].d(m);m&&k(l),u=!1,tt(f)}}}const lc=()=>{};function cc(t,e,n){let r,s,i;Qe(t,sn,c=>n(4,i=c));let o="";function a(){Wt("/applications/new")}function l(){o=this.value,n(0,o)}return t.$$.update=()=>{t.$$.dirty&1&&n(3,r=o.toLowerCase()),t.$$.dirty&24&&n(1,s=i.filter(({domain:c,login:u})=>`${c}/${u}`.toLowerCase().includes(r)))},[o,s,a,r,i,l]}class uc extends Be{constructor(e){super(),ze(this,e,cc,ac,Me,{})}}function dc(t){function e(n){return n.issues.reduce((r,s)=>s.path?Xt(r,s.path.join("."),i=>!i||!Array.isArray(i)?[s.message]:[...i,s.message]):r,{})}return async function(r){try{await t.parseAsync(r)}catch(s){return e(s)}}}function fc({schema:t,level:e="error"}){return function(r){if(r.stage!=="SETUP")return{};const s=dc(t);return r.addValidator(s,{level:e}),{}}}function pc(t){let e,n,r=t[8].domain+"",s,i,o=t[8].login+"",a;return{c(){e=$("h2"),n=$("b"),s=U(r),i=U("/"),a=U(o),v(e,"class","text-2xl")},m(l,c){A(l,e,c),C(e,n),C(n,s),C(e,i),C(e,a)},p(l,c){c[0]&256&&r!==(r=l[8].domain+"")&&it(s,r),c[0]&256&&o!==(o=l[8].login+"")&&it(a,o)},d(l){l&&k(e)}}}function mc(t){let e;return{c(){e=$("h2"),e.textContent="New Application",v(e,"class","text-2xl")},m(n,r){A(n,e,r)},p:K,d(n){n&&k(e)}}}function hc(t){let e;return{c(){e=U("Copied")},m(n,r){A(n,e,r)},i:K,o:K,d(n){n&&k(e)}}}function _c(t){let e;return{c(){e=U("Copy password")},m(n,r){A(n,e,r)},i:K,o:K,d(n){n&&k(e)}}}function yc(t){let e,n,r,s;return n=new gi({}),{c(){e=$("div"),ue(n.$$.fragment),r=U(" Computing..."),v(e,"class","flex gap-2 items-center")},m(i,o){A(i,e,o),oe(n,e,null),C(e,r),s=!0},i(i){s||(L(n.$$.fragment,i),s=!0)},o(i){Z(n.$$.fragment,i),s=!1},d(i){i&&k(e),ae(n)}}}function gc(t){let e;return{c(){e=U("Compute password")},m(n,r){A(n,e,r)},i:K,o:K,d(n){n&&k(e)}}}function Ts(t){let e,n,r,s;function i(l,c){return l[6]===l[2].Initial?vc:bc}let o=i(t),a=o(t);return{c(){e=$("button"),a.c(),v(e,"type","button"),v(e,"class","px-4 py-2 last:rounded-r bg-red-500 hover:bg-red-600 text-white disabled:bg-red-400"),e.disabled=n=t[6]===t[2].Safety},m(l,c){A(l,e,c),a.m(e,null),r||(s=Fe(e,"click",Ge(t[16])),r=!0)},p(l,c){o!==(o=i(l))&&(a.d(1),a=o(l),a&&(a.c(),a.m(e,null))),c[0]&68&&n!==(n=l[6]===l[2].Safety)&&(e.disabled=n)},d(l){l&&k(e),a.d(),r=!1,s()}}}function bc(t){let e;return{c(){e=U("Confirm Deletion")},m(n,r){A(n,e,r)},d(n){n&&k(e)}}}function vc(t){let e;return{c(){e=U("Delete")},m(n,r){A(n,e,r)},d(n){n&&k(e)}}}function wc(t){let e,n,r,s,i,o,a,l,c,u,f,d,p,m,h,b,w,R,M,y,S,g,D,P,V,ke,q,ge,me,Ae,be,Q,Ie,Oe,T,z,J,de,le,re,Ee,he;function Ze(_,N){return _[0]?mc:pc}let Ce=Ze(t),xe=Ce(t);const Pe=[gc,yc,_c,hc],$e=[];function we(_,N){return _[5]===_[1].Initial?0:_[5]===_[1].Computing?1:_[5]===_[1].Computed?2:3}s=we(t),i=$e[s]=Pe[s](t),m=new lt({props:{name:"domain",label:"Domain name",placeholder:"mastodon.social",hint:"Examples: google.com, fb.com, etc"}}),m.$on("input",t[21]),m.$on("change",t[22]),m.$on("focus",t[23]),m.$on("blur",t[24]),b=new lt({props:{name:"login",type:"email",label:"Username",placeholder:"my@email.com",hint:"Examples: my_user_name, derivepass82"}}),b.$on("input",t[25]),b.$on("change",t[26]),b.$on("focus",t[27]),b.$on("blur",t[28]),R=new lt({props:{name:"revision",type:"number",label:"Revision",hint:"Increment this by one to change the password"}}),R.$on("input",t[29]),R.$on("change",t[30]),R.$on("focus",t[31]),R.$on("blur",t[32]),V=new lt({props:{name:"allowedChars",label:"Allowed characters",hint:"Characters that can be present in the password"}}),V.$on("input",t[33]),V.$on("change",t[34]),V.$on("focus",t[35]),V.$on("blur",t[36]),q=new lt({props:{name:"requiredChars",label:"Required characters",hint:"Characters that must be present in the password"}}),q.$on("input",t[37]),q.$on("change",t[38]),q.$on("focus",t[39]),q.$on("blur",t[40]),me=new lt({props:{name:"passwordLen",type:"number",label:"Password length"}}),me.$on("input",t[41]),me.$on("change",t[42]),me.$on("focus",t[43]),me.$on("blur",t[44]);let O=!t[0]&&Ts(t);return{c(){xe.c(),e=F(),n=$("section"),r=$("button"),i.c(),a=F(),l=$("button"),l.textContent="Edit",c=F(),u=$("button"),f=U("Back"),d=F(),p=$("form"),ue(m.$$.fragment),h=F(),ue(b.$$.fragment),w=F(),ue(R.$$.fragment),M=F(),y=$("button"),y.textContent="Extra",S=F(),g=$("section"),D=$("p"),D.textContent="Most applications don't require editing options below.",P=F(),ue(V.$$.fragment),ke=F(),ue(q.$$.fragment),ge=F(),ue(me.$$.fragment),Ae=F(),be=$("section"),Q=$("button"),Ie=U("Save"),T=F(),z=$("button"),J=U("Reset"),le=F(),O&&O.c(),r.disabled=o=!t[9]||t[5]===t[1].Computing,v(r,"class","px-4 py-2 rounded bg-blue-500 hover:bg-blue-600 text-white disabled:bg-blue-400"),v(l,"class","text-blue-500 hover:text-blue-600 hover:underline"),v(u,"class","text-blue-500 hover:text-blue-600 hover:enabled:underline disabled:text-gray-400"),u.disabled=t[7],v(n,"class","mt-2 mb-4 flex gap-4 content-center"),v(y,"type","button"),v(y,"class","my-2 px-4 py-2 rounded border border-red-500 hover:border-red-600 text-red-500 hover:text-red-600"),v(D,"class","text-red-500 my-2"),v(g,"class","my-2"),gn(g,"hidden",!t[4]),v(Q,"type","submit"),Q.disabled=Oe=t[9]&&!t[7],v(Q,"class","px-4 py-2 rounded-l bg-blue-500 hover:bg-blue-600 text-white disabled:bg-blue-400"),v(z,"type","reset"),z.disabled=de=!t[7],v(z,"class","px-4 py-2 last:rounded-r bg-gray-500 hover:bg-gray-600 text-white disabled:bg-gray-400"),v(be,"class","flex my-2"),gn(p,"hidden",!t[3])},m(_,N){xe.m(_,N),A(_,e,N),A(_,n,N),C(n,r),$e[s].m(r,null),C(n,a),C(n,l),C(n,c),C(n,u),C(u,f),A(_,d,N),A(_,p,N),oe(m,p,null),C(p,h),oe(b,p,null),C(p,w),oe(R,p,null),C(p,M),C(p,y),C(p,S),C(p,g),C(g,D),C(g,P),oe(V,g,null),C(g,ke),oe(q,g,null),C(g,ge),oe(me,g,null),C(p,Ae),C(p,be),C(be,Q),C(Q,Ie),C(be,T),C(be,z),C(z,J),C(be,le),O&&O.m(be,null),re=!0,Ee||(he=[Fe(r,"click",Ge(t[10])),Fe(l,"click",Ge(t[17])),Fe(u,"click",Ge(t[18])),Fe(y,"click",Ge(t[19])),Fe(z,"click",Ge(t[13])),Yt(t[11].call(null,p))],Ee=!0)},p(_,N){Ce===(Ce=Ze(_))&&xe?xe.p(_,N):(xe.d(1),xe=Ce(_),xe&&(xe.c(),xe.m(e.parentNode,e)));let Y=s;s=we(_),s!==Y&&(Je(),Z($e[Y],1,1,()=>{$e[Y]=null}),Ke(),i=$e[s],i||(i=$e[s]=Pe[s](_),i.c()),L(i,1),i.m(r,null)),(!re||N[0]&546&&o!==(o=!_[9]||_[5]===_[1].Computing))&&(r.disabled=o),(!re||N[0]&128)&&(u.disabled=_[7]),(!re||N[0]&16)&&gn(g,"hidden",!_[4]),(!re||N[0]&640&&Oe!==(Oe=_[9]&&!_[7]))&&(Q.disabled=Oe),(!re||N[0]&128&&de!==(de=!_[7]))&&(z.disabled=de),_[0]?O&&(O.d(1),O=null):O?O.p(_,N):(O=Ts(_),O.c(),O.m(be,null)),(!re||N[0]&8)&&gn(p,"hidden",!_[3])},i(_){re||(L(i),L(m.$$.fragment,_),L(b.$$.fragment,_),L(R.$$.fragment,_),L(V.$$.fragment,_),L(q.$$.fragment,_),L(me.$$.fragment,_),re=!0)},o(_){Z(i),Z(m.$$.fragment,_),Z(b.$$.fragment,_),Z(R.$$.fragment,_),Z(V.$$.fragment,_),Z(q.$$.fragment,_),Z(me.$$.fragment,_),re=!1},d(_){xe.d(_),_&&k(e),_&&k(n),$e[s].d(),_&&k(d),_&&k(p),ae(m),ae(b),ae(R),ae(V),ae(q),ae(me),O&&O.d(),Ee=!1,tt(he)}}}function kc(t,e,n){let r,s,i,o;Qe(t,at,E=>n(48,i=E));let{app:a}=e,{isNew:l}=e;var c;(function(E){E[E.Initial=0]="Initial",E[E.Computing=1]="Computing",E[E.Computed=2]="Computed",E[E.Copied=3]="Copied"})(c||(c={}));var u;(function(E){E[E.Initial=0]="Initial",E[E.Safety=1]="Safety",E[E.Confirming=2]="Confirming"})(u||(u={}));let f=l,d=!1,p,m=c.Initial,h=u.Initial,b,w;Dr(()=>{b!==void 0&&(clearTimeout(b),b=void 0),w!==void 0&&(clearTimeout(w),w=void 0)});async function R(){const E=i;if(E===void 0){ir("/");return}if(m===c.Initial){n(5,m=c.Computing),setTimeout(()=>{p=Aa(E,{...a,...s}),n(5,m=c.Computed)},0);return}navigator.clipboard.writeText(p!=null?p:""),b!==void 0&&clearTimeout(b),n(5,m=c.Copied),b=setTimeout(()=>{b=void 0,n(5,m=c.Computed)},5*$r)}const M=Fs(),{form:y,data:S,reset:g,setInitialValues:D,isDirty:P,isValid:V}=vi({initialValues:a,onSubmit(E){D(E),nr(P,r=!1,r),M("submit",E)},extend:[fc({schema:cr}),Ya]});Qe(t,S,E=>n(8,s=E)),Qe(t,P,E=>n(7,r=E)),Qe(t,V,E=>n(9,o=E));function ke(){if(h===u.Initial)n(6,h=u.Safety),w=setTimeout(()=>{w=void 0,n(6,h=u.Confirming)},5*$r);else{if(h===u.Safety)return;h===u.Confirming&&(M("delete"),n(6,h=u.Initial))}}function q(){n(3,f=!f)}function ge(){Wt("/applications")}function me(){n(4,d=!d)}function Ae(E){ee.call(this,t,E)}function be(E){ee.call(this,t,E)}function Q(E){ee.call(this,t,E)}function Ie(E){ee.call(this,t,E)}function Oe(E){ee.call(this,t,E)}function T(E){ee.call(this,t,E)}function z(E){ee.call(this,t,E)}function J(E){ee.call(this,t,E)}function de(E){ee.call(this,t,E)}function le(E){ee.call(this,t,E)}function re(E){ee.call(this,t,E)}function Ee(E){ee.call(this,t,E)}function he(E){ee.call(this,t,E)}function Ze(E){ee.call(this,t,E)}function Ce(E){ee.call(this,t,E)}function xe(E){ee.call(this,t,E)}function Pe(E){ee.call(this,t,E)}function $e(E){ee.call(this,t,E)}function we(E){ee.call(this,t,E)}function O(E){ee.call(this,t,E)}function _(E){ee.call(this,t,E)}function N(E){ee.call(this,t,E)}function Y(E){ee.call(this,t,E)}function Ne(E){ee.call(this,t,E)}return t.$$set=E=>{"app"in E&&n(20,a=E.app),"isNew"in E&&n(0,l=E.isNew)},[l,c,u,f,d,m,h,r,s,o,R,y,S,g,P,V,ke,q,ge,me,a,Ae,be,Q,Ie,Oe,T,z,J,de,le,re,Ee,he,Ze,Ce,xe,Pe,$e,we,O,_,N,Y,Ne]}class Ac extends Be{constructor(e){super(),ze(this,e,kc,wc,Me,{app:20,isNew:0},null,[-1,-1])}}function Ec(t){let e=t[6]()+"",n;return{c(){n=U(e)},m(r,s){A(r,n,s)},p:K,i:K,o:K,d(r){r&&k(n)}}}function Cc(t){let e,n;return e=new Ac({props:{isNew:t[1],app:t[0]}}),e.$on("submit",t[2]),e.$on("delete",t[3]),{c(){ue(e.$$.fragment)},m(r,s){oe(e,r,s),n=!0},p(r,s){const i={};s&2&&(i.isNew=r[1]),s&1&&(i.app=r[0]),e.$set(i)},i(r){n||(L(e.$$.fragment,r),n=!0)},o(r){Z(e.$$.fragment,r),n=!1},d(r){ae(e,r)}}}function Sc(t){let e,n,r,s;const i=[Cc,Ec],o=[];function a(l,c){return l[0]?0:1}return e=a(t),n=o[e]=i[e](t),{c(){n.c(),r=$t()},m(l,c){o[e].m(l,c),A(l,r,c),s=!0},p(l,[c]){let u=e;e=a(l),e===u?o[e].p(l,c):(Je(),Z(o[u],1,1,()=>{o[u]=null}),Ke(),n=o[e],n?n.p(l,c):(n=o[e]=i[e](l),n.c()),L(n,1),n.m(r.parentNode,r))},i(l){s||(L(n),s=!0)},o(l){Z(n),s=!1},d(l){o[e].d(l),l&&k(r)}}}function xc(t,e,n){let r,s,i,o;Qe(t,at,f=>n(7,i=f)),Qe(t,sn,f=>n(5,o=f));let{params:a}=e;function l({detail:f}){const d=i;if(d===void 0){Wt("/login");return}sn.save(d,f),r&&Wt(`/applications/${f.id}`)}function c(){s&&sn.deleteById(s.id),Wt("/applications")}const u=()=>ir("/applications");return t.$$set=f=>{"params"in f&&n(4,a=f.params)},t.$$.update=()=>{t.$$.dirty&16&&n(1,r=a.id==="new"),t.$$.dirty&50&&n(0,s=r?sn.getTemplate():o.find(f=>f.id===a.id))},[s,r,l,c,a,o,u]}class Tc extends Be{constructor(e){super(),ze(this,e,xc,Sc,Me,{params:4})}}const In=[];let Ci;function Si(t){const e=t.pattern.test(Ci);$s(t,t.className,e),$s(t,t.inactiveClassName,!e)}function $s(t,e,n){(e||"").split(" ").forEach(r=>{!r||(t.node.classList.remove(r),n&&t.node.classList.add(r))})}sr.subscribe(t=>{Ci=t.location+(t.querystring?"?"+t.querystring:""),In.map(Si)});function $c(t,e){if(e&&(typeof e=="string"||typeof e=="object"&&e instanceof RegExp)?e={path:e}:e=e||{},!e.path&&t.hasAttribute("href")&&(e.path=t.getAttribute("href"),e.path&&e.path.length>1&&e.path.charAt(0)=="#"&&(e.path=e.path.substring(1))),e.className||(e.className="active"),!e.path||typeof e.path=="string"&&(e.path.length<1||e.path.charAt(0)!="/"&&e.path.charAt(0)!="*"))throw Error('Invalid value for "path" argument');const{pattern:n}=typeof e.path=="string"?Hs(e.path):{pattern:e.path},r={node:t,className:e.className,inactiveClassName:e.inactiveClassName,pattern:n};return In.push(r),Si(r),{destroy(){In.splice(In.indexOf(r),1)}}}function Oc(t){let e,n,r,s;const i=t[2].default,o=Gn(i,t,t[1],null);return{c(){e=$("a"),o&&o.c(),v(e,"href",t[0]),v(e,"class","text-zinc-500 hover:text-black")},m(a,l){A(a,e,l),o&&o.m(e,null),n=!0,r||(s=[Yt(Wr.call(null,e)),Yt($c.call(null,e,{className:"text-black"}))],r=!0)},p(a,[l]){o&&o.p&&(!n||l&2)&&er(o,i,a,a[1],n?Qn(i,a[1],l,null):tr(a[1]),null),(!n||l&1)&&v(e,"href",a[0])},i(a){n||(L(o,a),n=!0)},o(a){Z(o,a),n=!1},d(a){a&&k(e),o&&o.d(a),r=!1,tt(s)}}}function Nc(t,e,n){let{$$slots:r={},$$scope:s}=e,{href:i}=e;return t.$$set=o=>{"href"in o&&n(0,i=o.href),"$$scope"in o&&n(1,s=o.$$scope)},[i,s,r]}class Ht extends Be{constructor(e){super(),ze(this,e,Nc,Oc,Me,{href:0})}}function Os(t){let e,n,r,s,i,o,a,l,c;return{c(){e=$("header"),n=U(`New version is available:
  `),r=$("button"),r.textContent="Reload",s=F(),i=$("button"),i.textContent="Skip",v(r,"type","submit"),v(r,"class","px-4 py-2 rounded bg-blue-500 hover:bg-blue-600 text-white"),v(i,"type","reset"),v(i,"class","px-4 py-2 rounded text-yellow-500 hover:text-yellow-600 hover:underline"),v(e,"class","bg-white px-4 py-2 flex items-center gap-4 border-b")},m(u,f){A(u,e,f),C(e,n),C(e,r),C(e,s),C(e,i),a=!0,l||(c=[Fe(r,"click",Ge(t[6])),Fe(i,"click",Ge(t[7]))],l=!0)},p:K,i(u){a||(an(()=>{o||(o=Qr(e,es,{},!0)),o.run(1)}),a=!0)},o(u){o||(o=Qr(e,es,{},!1)),o.run(0),a=!1},d(u){u&&k(e),u&&o&&o.end(),l=!1,tt(c)}}}function Ic(t){let e,n;return{c(){e=$("img"),js(e.src,n=fi)||v(e,"src",n),v(e,"width","32"),v(e,"height","32"),v(e,"alt","Logotype")},m(r,s){A(r,e,s)},p:K,d(r){r&&k(e)}}}function jc(t){let e,n;return e=new Ht({props:{href:"/applications",$$slots:{default:[Lc]},$$scope:{ctx:t}}}),{c(){ue(e.$$.fragment)},m(r,s){oe(e,r,s),n=!0},i(r){n||(L(e.$$.fragment,r),n=!0)},o(r){Z(e.$$.fragment,r),n=!1},d(r){ae(e,r)}}}function Rc(t){let e,n;return e=new Ht({props:{href:"/login",$$slots:{default:[Mc]},$$scope:{ctx:t}}}),{c(){ue(e.$$.fragment)},m(r,s){oe(e,r,s),n=!0},i(r){n||(L(e.$$.fragment,r),n=!0)},o(r){Z(e.$$.fragment,r),n=!1},d(r){ae(e,r)}}}function Lc(t){let e;return{c(){e=U("Applications")},m(n,r){A(n,e,r)},d(n){n&&k(e)}}}function Mc(t){let e;return{c(){e=U("Master Password")},m(n,r){A(n,e,r)},d(n){n&&k(e)}}}function Zc(t){let e;return{c(){e=U("Sync")},m(n,r){A(n,e,r)},d(n){n&&k(e)}}}function Pc(t){let e;return{c(){e=U("About")},m(n,r){A(n,e,r)},d(n){n&&k(e)}}}function Ns(t){let e,n;return e=new Ht({props:{href:"/logout",$$slots:{default:[Dc]},$$scope:{ctx:t}}}),{c(){ue(e.$$.fragment)},m(r,s){oe(e,r,s),n=!0},i(r){n||(L(e.$$.fragment,r),n=!0)},o(r){Z(e.$$.fragment,r),n=!1},d(r){ae(e,r)}}}function Dc(t){let e;return{c(){e=U("Logout")},m(n,r){A(n,e,r)},d(n){n&&k(e)}}}function Fc(t){let e,n,r=t[10].message+"",s;return{c(){e=$("b"),n=U("Failed to initalize cryptography: "),s=U(r),v(e,"class","text-red-500")},m(i,o){A(i,e,o),C(e,n),C(e,s)},p:K,i:K,o:K,d(i){i&&k(e)}}}function Uc(t){let e,n;return e=new ao({props:{routes:t[4]}}),e.$on("conditionsFailed",t[5]),{c(){ue(e.$$.fragment)},m(r,s){oe(e,r,s),n=!0},p:K,i(r){n||(L(e.$$.fragment,r),n=!0)},o(r){Z(e.$$.fragment,r),n=!1},d(r){ae(e,r)}}}function Wc(t){return{c:K,m:K,p:K,i:K,o:K,d:K}}function qc(t){let e,n,r,s,i,o,a,l,c,u,f,d,p,m,h=t[1]&&Os(t);r=new Ht({props:{href:"/",$$slots:{default:[Ic]},$$scope:{ctx:t}}});const b=[Rc,jc],w=[];function R(S,g){return S[0]===void 0?0:1}i=R(t),o=w[i]=b[i](t),l=new Ht({props:{href:"/sync",$$slots:{default:[Zc]},$$scope:{ctx:t}}}),u=new Ht({props:{href:"/about",$$slots:{default:[Pc]},$$scope:{ctx:t}}});let M=t[0]!==void 0&&Ns(t),y={ctx:t,current:null,token:null,hasCatch:!0,pending:Wc,then:Uc,catch:Fc,error:10,blocks:[,,,]};return Vi(Sa,y),{c(){h&&h.c(),e=F(),n=$("nav"),ue(r.$$.fragment),s=F(),o.c(),a=F(),ue(l.$$.fragment),c=F(),ue(u.$$.fragment),f=F(),M&&M.c(),d=F(),p=$("div"),y.block.c(),v(n,"class","flex gap-4 items-center p-4"),v(p,"class","container mx-auto max-w-screen-md p-4")},m(S,g){h&&h.m(S,g),A(S,e,g),A(S,n,g),oe(r,n,null),C(n,s),w[i].m(n,null),C(n,a),oe(l,n,null),C(n,c),oe(u,n,null),C(n,f),M&&M.m(n,null),A(S,d,g),A(S,p,g),y.block.m(p,y.anchor=null),y.mount=()=>p,y.anchor=null,m=!0},p(S,[g]){t=S,t[1]?h?(h.p(t,g),g&2&&L(h,1)):(h=Os(t),h.c(),L(h,1),h.m(e.parentNode,e)):h&&(Je(),Z(h,1,1,()=>{h=null}),Ke());const D={};g&2048&&(D.$$scope={dirty:g,ctx:t}),r.$set(D);let P=i;i=R(t),i!==P&&(Je(),Z(w[P],1,1,()=>{w[P]=null}),Ke(),o=w[i],o||(o=w[i]=b[i](t),o.c()),L(o,1),o.m(n,a));const V={};g&2048&&(V.$$scope={dirty:g,ctx:t}),l.$set(V);const ke={};g&2048&&(ke.$$scope={dirty:g,ctx:t}),u.$set(ke),t[0]!==void 0?M?g&1&&L(M,1):(M=Ns(t),M.c(),L(M,1),M.m(n,null)):M&&(Je(),Z(M,1,1,()=>{M=null}),Ke()),Ji(y,t,g)},i(S){m||(L(h),L(r.$$.fragment,S),L(o),L(l.$$.fragment,S),L(u.$$.fragment,S),L(M),L(y.block),m=!0)},o(S){Z(h),Z(r.$$.fragment,S),Z(o),Z(l.$$.fragment,S),Z(u.$$.fragment,S),Z(M);for(let g=0;g<3;g+=1){const D=y.blocks[g];Z(D)}m=!1},d(S){h&&h.d(S),S&&k(e),S&&k(n),ae(r),w[i].d(),ae(l),ae(u),M&&M.d(),S&&k(d),S&&k(p),y.block.d(),y.token=null,y=null}}}function zc(t,e,n){let r,s;Qe(t,at,p=>n(0,r=p));const{needRefresh:i,updateServiceWorker:o}=po();Qe(t,i,p=>n(1,s=p));const a=()=>r!==void 0,c={"/":yr,"/about":yr,"/sync":Gl,"/login":hr({component:fl,conditions:[()=>r===void 0]}),"/applications":hr({component:uc,conditions:[a]}),"/applications/:id":hr({component:Tc,conditions:[a]}),"/logout":ml,"/*":yr};function u(){ir("/login")}return[r,s,i,o,c,u,()=>o(),()=>nr(i,s=!1,s)]}class Bc extends Be{constructor(e){super(),ze(this,e,zc,qc,Me,{})}}const xi=document.getElementById("app");if(!xi)throw new Error("#app not found");new Bc({target:xi});
