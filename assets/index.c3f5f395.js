(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerpolicy&&(i.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?i.credentials="include":s.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function K(){}const Ei=t=>t;function Ir(t,e){for(const n in e)t[n]=e[n];return t}function Ci(t){return t&&typeof t=="object"&&typeof t.then=="function"}function $s(t){return t()}function Hr(){return Object.create(null)}function rt(t){t.forEach($s)}function yn(t){return typeof t=="function"}function Fe(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}let bn;function Os(t,e){return bn||(bn=document.createElement("a")),bn.href=e,t===bn.href}function Si(t){return Object.keys(t).length===0}function jr(t,...e){if(t==null)return K;const n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function nt(t,e,n){t.$$.on_destroy.push(jr(e,n))}function Gn(t,e,n,r){if(t){const s=Ns(t,e,n,r);return t[0](s)}}function Ns(t,e,n,r){return t[1]&&r?Ir(n.ctx.slice(),t[1](r(e))):n.ctx}function Qn(t,e,n,r){if(t[2]&&r){const s=t[2](r(n));if(e.dirty===void 0)return s;if(typeof s=="object"){const i=[],o=Math.max(e.dirty.length,s.length);for(let a=0;a<o;a+=1)i[a]=e.dirty[a]|s[a];return i}return e.dirty|s}return e.dirty}function er(t,e,n,r,s,i){if(s){const o=Ns(e,n,r,i);t.p(o,s)}}function tr(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let r=0;r<n;r++)e[r]=-1;return e}return-1}function xi(t){const e={};for(const n in t)e[n]=!0;return e}function nr(t,e,n){return t.set(n),e}function Jt(t){return t&&yn(t.destroy)?t.destroy:K}const Is=typeof window<"u";let Ti=Is?()=>window.performance.now():()=>Date.now(),Rr=Is?t=>requestAnimationFrame(t):K;const Wt=new Set;function js(t){Wt.forEach(e=>{e.c(t)||(Wt.delete(e),e.f())}),Wt.size!==0&&Rr(js)}function $i(t){let e;return Wt.size===0&&Rr(js),{promise:new Promise(n=>{Wt.add(e={c:t,f:n})}),abort(){Wt.delete(e)}}}function k(t,e){t.appendChild(e)}function Rs(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;return e&&e.host?e:t.ownerDocument}function Oi(t){const e=T("style");return Ni(Rs(t),e),e.sheet}function Ni(t,e){return k(t.head||t,e),e.sheet}function w(t,e,n){t.insertBefore(e,n||null)}function v(t){t.parentNode&&t.parentNode.removeChild(t)}function T(t){return document.createElement(t)}function Vr(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function P(t){return document.createTextNode(t)}function U(){return P(" ")}function Nt(){return P("")}function We(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function tt(t){return function(e){return e.preventDefault(),t.call(this,e)}}function b(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function Ii(t){return Array.from(t.childNodes)}function it(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function Jr(t,e){t.value=e==null?"":e}function Ls(t,e,n,r){n===null?t.style.removeProperty(e):t.style.setProperty(e,n,r?"important":"")}function vn(t,e,n){t.classList[n?"add":"remove"](e)}function Ms(t,e,{bubbles:n=!1,cancelable:r=!1}={}){const s=document.createEvent("CustomEvent");return s.initCustomEvent(t,n,r,e),s}function jn(t,e){return new t(e)}const Rn=new Map;let Ln=0;function ji(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}function Ri(t,e){const n={stylesheet:Oi(e),rules:{}};return Rn.set(t,n),n}function Yr(t,e,n,r,s,i,o,a=0){const l=16.666/r;let c=`{
`;for(let A=0;A<=1;A+=l){const E=e+(n-e)*i(A);c+=A*100+`%{${o(E,1-E)}}
`}const u=c+`100% {${o(n,1-n)}}
}`,f=`__svelte_${ji(u)}_${a}`,d=Rs(t),{stylesheet:p,rules:m}=Rn.get(d)||Ri(d,t);m[f]||(m[f]=!0,p.insertRule(`@keyframes ${f} ${u}`,p.cssRules.length));const h=t.style.animation||"";return t.style.animation=`${h?`${h}, `:""}${f} ${r}ms linear ${s}ms 1 both`,Ln+=1,f}function Li(t,e){const n=(t.style.animation||"").split(", "),r=n.filter(e?i=>i.indexOf(e)<0:i=>i.indexOf("__svelte")===-1),s=n.length-r.length;s&&(t.style.animation=r.join(", "),Ln-=s,Ln||Mi())}function Mi(){Rr(()=>{Ln||(Rn.forEach(t=>{const{ownerNode:e}=t.stylesheet;e&&v(e)}),Rn.clear())})}let ln;function bt(t){ln=t}function _n(){if(!ln)throw new Error("Function called outside component initialization");return ln}function Zi(t){_n().$$.on_mount.push(t)}function Pi(t){_n().$$.after_update.push(t)}function Lr(t){_n().$$.on_destroy.push(t)}function Zs(){const t=_n();return(e,n,{cancelable:r=!1}={})=>{const s=t.$$.callbacks[e];if(s){const i=Ms(e,n,{cancelable:r});return s.slice().forEach(o=>{o.call(t,i)}),!i.defaultPrevented}return!0}}function Q(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach(r=>r.call(this,e))}const rn=[],Mn=[],Tn=[],_r=[],Ps=Promise.resolve();let gr=!1;function Fs(){gr||(gr=!0,Ps.then(Zr))}function Mr(){return Fs(),Ps}function cn(t){Tn.push(t)}function Fi(t){_r.push(t)}const dr=new Set;let wn=0;function Zr(){const t=ln;do{for(;wn<rn.length;){const e=rn[wn];wn++,bt(e),Di(e.$$)}for(bt(null),rn.length=0,wn=0;Mn.length;)Mn.pop()();for(let e=0;e<Tn.length;e+=1){const n=Tn[e];dr.has(n)||(dr.add(n),n())}Tn.length=0}while(rn.length);for(;_r.length;)_r.pop()();gr=!1,dr.clear(),bt(t)}function Di(t){if(t.fragment!==null){t.update(),rt(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(cn)}}let nn;function Ui(){return nn||(nn=Promise.resolve(),nn.then(()=>{nn=null})),nn}function fr(t,e,n){t.dispatchEvent(Ms(`${e?"intro":"outro"}${n}`))}const $n=new Set;let vt;function Qe(){vt={r:0,c:[],p:vt}}function et(){vt.r||rt(vt.c),vt=vt.p}function Z(t,e){t&&t.i&&($n.delete(t),t.i(e))}function F(t,e,n,r){if(t&&t.o){if($n.has(t))return;$n.add(t),vt.c.push(()=>{$n.delete(t),r&&(n&&t.d(1),r())}),t.o(e)}else r&&r()}const Wi={duration:0};function Kr(t,e,n,r){let s=e(t,n),i=r?0:1,o=null,a=null,l=null;function c(){l&&Li(t,l)}function u(d,p){const m=d.b-i;return p*=Math.abs(m),{a:i,b:d.b,d:m,duration:p,start:d.start,end:d.start+p,group:d.group}}function f(d){const{delay:p=0,duration:m=300,easing:h=Ei,tick:A=K,css:E}=s||Wi,j={start:Ti()+p,b:d};d||(j.group=vt,vt.r+=1),o||a?a=j:(E&&(c(),l=Yr(t,i,d,m,p,h,E)),d&&A(0,1),o=u(j,m),cn(()=>fr(t,d,"start")),$i(L=>{if(a&&L>a.start&&(o=u(a,m),a=null,fr(t,o.b,"start"),E&&(c(),l=Yr(t,i,o.b,o.duration,0,h,s.css))),o){if(L>=o.end)A(i=o.b,1-i),fr(t,o.b,"end"),a||(o.b?c():--o.group.r||rt(o.group.c)),o=null;else if(L>=o.start){const g=L-o.start;i=o.a+o.d*h(g/o.duration),A(i,1-i)}}return!!(o||a)}))}return{run(d){yn(s)?Ui().then(()=>{s=s(),f(d)}):f(d)},end(){c(),o=a=null}}}function zi(t,e){const n=e.token={};function r(s,i,o,a){if(e.token!==n)return;e.resolved=a;let l=e.ctx;o!==void 0&&(l=l.slice(),l[o]=a);const c=s&&(e.current=s)(l);let u=!1;e.block&&(e.blocks?e.blocks.forEach((f,d)=>{d!==i&&f&&(Qe(),F(f,1,1,()=>{e.blocks[d]===f&&(e.blocks[d]=null)}),et())}):e.block.d(1),c.c(),Z(c,1),c.m(e.mount(),e.anchor),u=!0),e.block=c,e.blocks&&(e.blocks[i]=c),u&&Zr()}if(Ci(t)){const s=_n();if(t.then(i=>{bt(s),r(e.then,1,e.value,i),bt(null)},i=>{if(bt(s),r(e.catch,2,e.error,i),bt(null),!e.hasCatch)throw i}),e.current!==e.pending)return r(e.pending,0),!0}else{if(e.current!==e.then)return r(e.then,1,e.value,t),!0;e.resolved=t}}function qi(t,e,n){const r=e.slice(),{resolved:s}=t;t.current===t.then&&(r[t.value]=s),t.current===t.catch&&(r[t.error]=s),t.block.p(r,n)}function Bi(t,e){F(t,1,1,()=>{e.delete(t.key)})}function Hi(t,e,n,r,s,i,o,a,l,c,u,f){let d=t.length,p=i.length,m=d;const h={};for(;m--;)h[t[m].key]=m;const A=[],E=new Map,j=new Map;for(m=p;m--;){const y=f(s,i,m),M=n(y);let D=o.get(M);D?r&&D.p(y,e):(D=c(M,y),D.c()),E.set(M,A[m]=D),M in h&&j.set(M,Math.abs(m-h[M]))}const L=new Set,g=new Set;function C(y){Z(y,1),y.m(a,u),o.set(y.key,y),u=y.first,p--}for(;d&&p;){const y=A[p-1],M=t[d-1],D=y.key,Y=M.key;y===M?(u=y.first,d--,p--):E.has(Y)?!o.has(D)||L.has(D)?C(y):g.has(Y)?d--:j.get(D)>j.get(Y)?(g.add(D),C(y)):(L.add(Y),d--):(l(M,o),d--)}for(;d--;){const y=t[d];E.has(y.key)||l(y,o)}for(;p;)C(A[p-1]);return A}function Ds(t,e){const n={},r={},s={$$scope:1};let i=t.length;for(;i--;){const o=t[i],a=e[i];if(a){for(const l in o)l in a||(r[l]=1);for(const l in a)s[l]||(n[l]=a[l],s[l]=1);t[i]=a}else for(const l in o)s[l]=1}for(const o in r)o in n||(n[o]=void 0);return n}function Us(t){return typeof t=="object"&&t!==null?t:{}}function Vi(t,e,n){const r=t.$$.props[e];r!==void 0&&(t.$$.bound[r]=n,n(t.$$.ctx[r]))}function le(t){t&&t.c()}function oe(t,e,n,r){const{fragment:s,after_update:i}=t.$$;s&&s.m(e,n),r||cn(()=>{const o=t.$$.on_mount.map($s).filter(yn);t.$$.on_destroy?t.$$.on_destroy.push(...o):rt(o),t.$$.on_mount=[]}),i.forEach(cn)}function ae(t,e){const n=t.$$;n.fragment!==null&&(rt(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function Ji(t,e){t.$$.dirty[0]===-1&&(rn.push(t),Fs(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function He(t,e,n,r,s,i,o,a=[-1]){const l=ln;bt(t);const c=t.$$={fragment:null,ctx:[],props:i,update:K,not_equal:s,bound:Hr(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(l?l.$$.context:[])),callbacks:Hr(),dirty:a,skip_bound:!1,root:e.target||l.$$.root};o&&o(c.root);let u=!1;if(c.ctx=n?n(t,e.props||{},(f,d,...p)=>{const m=p.length?p[0]:d;return c.ctx&&s(c.ctx[f],c.ctx[f]=m)&&(!c.skip_bound&&c.bound[f]&&c.bound[f](m),u&&Ji(t,f)),d}):[],c.update(),u=!0,rt(c.before_update),c.fragment=r?r(c.ctx):!1,e.target){if(e.hydrate){const f=Ii(e.target);c.fragment&&c.fragment.l(f),f.forEach(v)}else c.fragment&&c.fragment.c();e.intro&&Z(t.$$.fragment),oe(t,e.target,e.anchor,e.customElement),Zr()}bt(l)}class Ve{$destroy(){ae(this,1),this.$destroy=K}$on(e,n){if(!yn(n))return K;const r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(n),()=>{const s=r.indexOf(n);s!==-1&&r.splice(s,1)}}$set(e){this.$$set&&!Si(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}function Yi(t){const e=t-1;return e*e*e+1}function Xr(t,{delay:e=0,duration:n=400,easing:r=Yi}={}){const s=getComputedStyle(t),i=+s.opacity,o=parseFloat(s.height),a=parseFloat(s.paddingTop),l=parseFloat(s.paddingBottom),c=parseFloat(s.marginTop),u=parseFloat(s.marginBottom),f=parseFloat(s.borderTopWidth),d=parseFloat(s.borderBottomWidth);return{delay:e,duration:n,easing:r,css:p=>`overflow: hidden;opacity: ${Math.min(p*20,1)*i};height: ${p*o}px;padding-top: ${p*a}px;padding-bottom: ${p*l}px;margin-top: ${p*c}px;margin-bottom: ${p*u}px;border-top-width: ${p*f}px;border-bottom-width: ${p*d}px;`}}function pr(t){if(!t)throw Error("Parameter args is required");if(!t.component==!t.asyncComponent)throw Error("One and only one of component and asyncComponent is required");if(t.component&&(t.asyncComponent=()=>Promise.resolve(t.component)),typeof t.asyncComponent!="function")throw Error("Parameter asyncComponent must be a function");if(t.conditions){Array.isArray(t.conditions)||(t.conditions=[t.conditions]);for(let n=0;n<t.conditions.length;n++)if(!t.conditions[n]||typeof t.conditions[n]!="function")throw Error("Invalid parameter conditions["+n+"]")}return t.loadingComponent&&(t.asyncComponent.loading=t.loadingComponent,t.asyncComponent.loadingParams=t.loadingParams||void 0),{component:t.asyncComponent,userData:t.userData,conditions:t.conditions&&t.conditions.length?t.conditions:void 0,props:t.props&&Object.keys(t.props).length?t.props:{},_sveltesparouter:!0}}const Ft=[];function Ws(t,e){return{subscribe:ot(t,e).subscribe}}function ot(t,e=K){let n;const r=new Set;function s(a){if(Fe(t,a)&&(t=a,n)){const l=!Ft.length;for(const c of r)c[1](),Ft.push(c,t);if(l){for(let c=0;c<Ft.length;c+=2)Ft[c][0](Ft[c+1]);Ft.length=0}}}function i(a){s(a(t))}function o(a,l=K){const c=[a,l];return r.add(c),r.size===1&&(n=e(s)||K),a(t),()=>{r.delete(c),r.size===0&&(n(),n=null)}}return{set:s,update:i,subscribe:o}}function rr(t,e,n){const r=!Array.isArray(t),s=r?[t]:t,i=e.length<2;return Ws(n,o=>{let a=!1;const l=[];let c=0,u=K;const f=()=>{if(c)return;u();const p=e(r?l[0]:l,o);i?o(p):u=yn(p)?p:K},d=s.map((p,m)=>jr(p,h=>{l[m]=h,c&=~(1<<m),a&&f()},()=>{c|=1<<m}));return a=!0,f(),function(){rt(d),u()}})}function zs(t,e){if(t instanceof RegExp)return{keys:!1,pattern:t};var n,r,s,i,o=[],a="",l=t.split("/");for(l[0]||l.shift();s=l.shift();)n=s[0],n==="*"?(o.push("wild"),a+="/(.*)"):n===":"?(r=s.indexOf("?",1),i=s.indexOf(".",1),o.push(s.substring(1,~r?r:~i?i:s.length)),a+=!!~r&&!~i?"(?:/([^/]+?))?":"/([^/]+?)",~i&&(a+=(~r?"?":"")+"\\"+s.substring(i))):a+="/"+s;return{keys:o,pattern:new RegExp("^"+a+(e?"(?=$|/)":"/?$"),"i")}}function Ki(t){let e,n,r;const s=[t[2]];var i=t[0];function o(a){let l={};for(let c=0;c<s.length;c+=1)l=Ir(l,s[c]);return{props:l}}return i&&(e=jn(i,o()),e.$on("routeEvent",t[7])),{c(){e&&le(e.$$.fragment),n=Nt()},m(a,l){e&&oe(e,a,l),w(a,n,l),r=!0},p(a,l){const c=l&4?Ds(s,[Us(a[2])]):{};if(i!==(i=a[0])){if(e){Qe();const u=e;F(u.$$.fragment,1,0,()=>{ae(u,1)}),et()}i?(e=jn(i,o()),e.$on("routeEvent",a[7]),le(e.$$.fragment),Z(e.$$.fragment,1),oe(e,n.parentNode,n)):e=null}else i&&e.$set(c)},i(a){r||(e&&Z(e.$$.fragment,a),r=!0)},o(a){e&&F(e.$$.fragment,a),r=!1},d(a){a&&v(n),e&&ae(e,a)}}}function Xi(t){let e,n,r;const s=[{params:t[1]},t[2]];var i=t[0];function o(a){let l={};for(let c=0;c<s.length;c+=1)l=Ir(l,s[c]);return{props:l}}return i&&(e=jn(i,o()),e.$on("routeEvent",t[6])),{c(){e&&le(e.$$.fragment),n=Nt()},m(a,l){e&&oe(e,a,l),w(a,n,l),r=!0},p(a,l){const c=l&6?Ds(s,[l&2&&{params:a[1]},l&4&&Us(a[2])]):{};if(i!==(i=a[0])){if(e){Qe();const u=e;F(u.$$.fragment,1,0,()=>{ae(u,1)}),et()}i?(e=jn(i,o()),e.$on("routeEvent",a[6]),le(e.$$.fragment),Z(e.$$.fragment,1),oe(e,n.parentNode,n)):e=null}else i&&e.$set(c)},i(a){r||(e&&Z(e.$$.fragment,a),r=!0)},o(a){e&&F(e.$$.fragment,a),r=!1},d(a){a&&v(n),e&&ae(e,a)}}}function Gi(t){let e,n,r,s;const i=[Xi,Ki],o=[];function a(l,c){return l[1]?0:1}return e=a(t),n=o[e]=i[e](t),{c(){n.c(),r=Nt()},m(l,c){o[e].m(l,c),w(l,r,c),s=!0},p(l,[c]){let u=e;e=a(l),e===u?o[e].p(l,c):(Qe(),F(o[u],1,1,()=>{o[u]=null}),et(),n=o[e],n?n.p(l,c):(n=o[e]=i[e](l),n.c()),Z(n,1),n.m(r.parentNode,r))},i(l){s||(Z(n),s=!0)},o(l){F(n),s=!1},d(l){o[e].d(l),l&&v(r)}}}function Gr(){const t=window.location.href.indexOf("#/");let e=t>-1?window.location.href.substr(t+1):"/";const n=e.indexOf("?");let r="";return n>-1&&(r=e.substr(n+1),e=e.substr(0,n)),{location:e,querystring:r}}const sr=Ws(null,function(e){e(Gr());const n=()=>{e(Gr())};return window.addEventListener("hashchange",n,!1),function(){window.removeEventListener("hashchange",n,!1)}});rr(sr,t=>t.location);rr(sr,t=>t.querystring);const Qr=ot(void 0);async function zt(t){if(!t||t.length<1||t.charAt(0)!="/"&&t.indexOf("#/")!==0)throw Error("Invalid parameter location");await Mr(),history.replaceState({...history.state,__svelte_spa_router_scrollX:window.scrollX,__svelte_spa_router_scrollY:window.scrollY},void 0),window.location.hash=(t.charAt(0)=="#"?"":"#")+t}async function un(t){if(!t||t.length<1||t.charAt(0)!="/"&&t.indexOf("#/")!==0)throw Error("Invalid parameter location");await Mr();const e=(t.charAt(0)=="#"?"":"#")+t;try{const n={...history.state};delete n.__svelte_spa_router_scrollX,delete n.__svelte_spa_router_scrollY,window.history.replaceState(n,void 0,e)}catch{console.warn("Caught exception while replacing the current page. If you're running this in the Svelte REPL, please note that the `replace` method might not work in this environment.")}window.dispatchEvent(new Event("hashchange"))}function Pr(t,e){if(e=ts(e),!t||!t.tagName||t.tagName.toLowerCase()!="a")throw Error('Action "link" can only be used with <a> tags');return es(t,e),{update(n){n=ts(n),es(t,n)}}}function Qi(t){t?window.scrollTo(t.__svelte_spa_router_scrollX,t.__svelte_spa_router_scrollY):window.scrollTo(0,0)}function es(t,e){let n=e.href||t.getAttribute("href");if(n&&n.charAt(0)=="/")n="#"+n;else if(!n||n.length<2||n.slice(0,2)!="#/")throw Error('Invalid value for "href" attribute: '+n);t.setAttribute("href",n),t.addEventListener("click",r=>{r.preventDefault(),e.disabled||eo(r.currentTarget.getAttribute("href"))})}function ts(t){return t&&typeof t=="string"?{href:t}:t||{}}function eo(t){history.replaceState({...history.state,__svelte_spa_router_scrollX:window.scrollX,__svelte_spa_router_scrollY:window.scrollY},void 0),window.location.hash=t}function to(t,e,n){let{routes:r={}}=e,{prefix:s=""}=e,{restoreScrollState:i=!1}=e;class o{constructor(C,y){if(!y||typeof y!="function"&&(typeof y!="object"||y._sveltesparouter!==!0))throw Error("Invalid component object");if(!C||typeof C=="string"&&(C.length<1||C.charAt(0)!="/"&&C.charAt(0)!="*")||typeof C=="object"&&!(C instanceof RegExp))throw Error('Invalid value for "path" argument - strings must start with / or *');const{pattern:M,keys:D}=zs(C);this.path=C,typeof y=="object"&&y._sveltesparouter===!0?(this.component=y.component,this.conditions=y.conditions||[],this.userData=y.userData,this.props=y.props||{}):(this.component=()=>Promise.resolve(y),this.conditions=[],this.props={}),this._pattern=M,this._keys=D}match(C){if(s){if(typeof s=="string")if(C.startsWith(s))C=C.substr(s.length)||"/";else return null;else if(s instanceof RegExp){const Y=C.match(s);if(Y&&Y[0])C=C.substr(Y[0].length)||"/";else return null}}const y=this._pattern.exec(C);if(y===null)return null;if(this._keys===!1)return y;const M={};let D=0;for(;D<this._keys.length;){try{M[this._keys[D]]=decodeURIComponent(y[D+1]||"")||null}catch{M[this._keys[D]]=null}D++}return M}async checkConditions(C){for(let y=0;y<this.conditions.length;y++)if(!await this.conditions[y](C))return!1;return!0}}const a=[];r instanceof Map?r.forEach((g,C)=>{a.push(new o(C,g))}):Object.keys(r).forEach(g=>{a.push(new o(g,r[g]))});let l=null,c=null,u={};const f=Zs();async function d(g,C){await Mr(),f(g,C)}let p=null,m=null;i&&(m=g=>{g.state&&(g.state.__svelte_spa_router_scrollY||g.state.__svelte_spa_router_scrollX)?p=g.state:p=null},window.addEventListener("popstate",m),Pi(()=>{Qi(p)}));let h=null,A=null;const E=sr.subscribe(async g=>{h=g;let C=0;for(;C<a.length;){const y=a[C].match(g.location);if(!y){C++;continue}const M={route:a[C].path,location:g.location,querystring:g.querystring,userData:a[C].userData,params:y&&typeof y=="object"&&Object.keys(y).length?y:null};if(!await a[C].checkConditions(M)){n(0,l=null),A=null,d("conditionsFailed",M);return}d("routeLoading",Object.assign({},M));const D=a[C].component;if(A!=D){D.loading?(n(0,l=D.loading),A=D,n(1,c=D.loadingParams),n(2,u={}),d("routeLoaded",Object.assign({},M,{component:l,name:l.name,params:c}))):(n(0,l=null),A=null);const Y=await D();if(g!=h)return;n(0,l=Y&&Y.default||Y),A=D}y&&typeof y=="object"&&Object.keys(y).length?n(1,c=y):n(1,c=null),n(2,u=a[C].props),d("routeLoaded",Object.assign({},M,{component:l,name:l.name,params:c})).then(()=>{Qr.set(c)});return}n(0,l=null),A=null,Qr.set(void 0)});Lr(()=>{E(),m&&window.removeEventListener("popstate",m)});function j(g){Q.call(this,t,g)}function L(g){Q.call(this,t,g)}return t.$$set=g=>{"routes"in g&&n(3,r=g.routes),"prefix"in g&&n(4,s=g.prefix),"restoreScrollState"in g&&n(5,i=g.restoreScrollState)},t.$$.update=()=>{t.$$.dirty&32&&(history.scrollRestoration=i?"manual":"auto")},[l,c,u,r,s,i,j,L]}class no extends Ve{constructor(e){super(),He(this,e,to,Gi,Fe,{routes:3,prefix:4,restoreScrollState:5})}}const ro="modulepreload",so=function(t){return"/"+t},ns={},io=function(e,n,r){if(!n||n.length===0)return e();const s=document.getElementsByTagName("link");return Promise.all(n.map(i=>{if(i=so(i),i in ns)return;ns[i]=!0;const o=i.endsWith(".css"),a=o?'[rel="stylesheet"]':"";if(!!r)for(let u=s.length-1;u>=0;u--){const f=s[u];if(f.href===i&&(!o||f.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${i}"]${a}`))return;const c=document.createElement("link");if(c.rel=o?"stylesheet":ro,o||(c.as="script",c.crossOrigin=""),c.href=i,document.head.appendChild(c),o)return new Promise((u,f)=>{c.addEventListener("load",u),c.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${i}`)))})})).then(()=>e())};function oo(t={}){const{immediate:e=!1,onNeedRefresh:n,onOfflineReady:r,onRegistered:s,onRegisteredSW:i,onRegisterError:o}=t;let a,l,c,u;const f=async(p=!0)=>{await c,p&&(a==null||a.addEventListener("controlling",m=>{m.isUpdate&&window.location.reload()})),await(u==null?void 0:u())};async function d(){if("serviceWorker"in navigator){const{Workbox:p,messageSW:m}=await io(()=>import("./workbox-window.prod.es5.d2780aeb.js"),[]);u=async()=>{l&&l.waiting&&await m(l.waiting,{type:"SKIP_WAITING"})},a=new p("/sw.js",{scope:"/",type:"classic"}),a.addEventListener("activated",h=>{h.isUpdate||r==null||r()});{const h=()=>{n==null||n()};a.addEventListener("waiting",h),a.addEventListener("externalwaiting",h)}a.register({immediate:e}).then(h=>{l=h,i?i("/sw.js",h):s==null||s(h)}).catch(h=>{o==null||o(h)})}}return c=d(),f}function ao(t={}){const{immediate:e=!0,onNeedRefresh:n,onOfflineReady:r,onRegistered:s,onRegisteredSW:i,onRegisterError:o}=t,a=ot(!1),l=ot(!1),c=oo({immediate:e,onOfflineReady(){l.set(!0),r==null||r()},onNeedRefresh(){a.set(!0),n==null||n()},onRegistered:s,onRegisteredSW:i,onRegisterError:o});return{needRefresh:a,offlineReady:l,updateServiceWorker:c}}let ge,On=new Uint8Array;function qs(){return On.byteLength===0&&(On=new Uint8Array(ge.memory.buffer)),On}let dt=0;function wt(t,e){const n=e(t.length*1);return qs().set(t,n/1),dt=t.length,n}let Nn=new Int32Array;function Yt(){return Nn.byteLength===0&&(Nn=new Int32Array(ge.memory.buffer)),Nn}function Fr(t,e){return qs().subarray(t/1,t/1+e)}function lo(t,e,n,r){try{const a=ge.__wbindgen_add_to_stack_pointer(-16),l=wt(t,ge.__wbindgen_malloc),c=dt,u=wt(e,ge.__wbindgen_malloc),f=dt,d=wt(n,ge.__wbindgen_malloc),p=dt,m=wt(r,ge.__wbindgen_malloc),h=dt;ge.encrypt(a,l,c,u,f,d,p,m,h);var s=Yt()[a/4+0],i=Yt()[a/4+1],o=Fr(s,i).slice();return ge.__wbindgen_free(s,i*1),o}finally{ge.__wbindgen_add_to_stack_pointer(16)}}function Bs(t,e,n){try{const i=ge.__wbindgen_add_to_stack_pointer(-16),o=wt(t,ge.__wbindgen_malloc),a=dt,l=wt(e,ge.__wbindgen_malloc),c=dt,u=wt(n,ge.__wbindgen_malloc),f=dt;ge.decrypt(i,o,a,l,c,u,f);var r=Yt()[i/4+0],s=Yt()[i/4+1];let d;return r!==0&&(d=Fr(r,s).slice(),ge.__wbindgen_free(r,s*1)),d}finally{ge.__wbindgen_add_to_stack_pointer(16)}}function co(t,e){try{const s=ge.__wbindgen_add_to_stack_pointer(-16),i=wt(t,ge.__wbindgen_malloc),o=dt,a=wt(e,ge.__wbindgen_malloc),l=dt;ge.decrypt_legacy(s,i,o,a,l);var n=Yt()[s/4+0],r=Yt()[s/4+1];let c;return n!==0&&(c=Fr(n,r).slice(),ge.__wbindgen_free(n,r*1)),c}finally{ge.__wbindgen_add_to_stack_pointer(16)}}async function uo(t,e){if(typeof Response=="function"&&t instanceof Response){if(typeof WebAssembly.instantiateStreaming=="function")try{return await WebAssembly.instantiateStreaming(t,e)}catch(r){if(t.headers.get("Content-Type")!="application/wasm")console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",r);else throw r}const n=await t.arrayBuffer();return await WebAssembly.instantiate(n,e)}else{const n=await WebAssembly.instantiate(t,e);return n instanceof WebAssembly.Instance?{instance:n,module:t}:n}}function fo(){const t={};return t.wbg={},t}function po(t,e){return ge=t.exports,Hs.__wbindgen_wasm_module=e,Nn=new Int32Array,On=new Uint8Array,ge}async function Hs(t){typeof t>"u"&&(t="/assets/scrypt_crate_bg.wasm");const e=fo();(typeof t=="string"||typeof Request=="function"&&t instanceof Request||typeof URL=="function"&&t instanceof URL)&&(t=fetch(t));const{instance:n,module:r}=await uo(await t,e);return po(n,r)}const mo={allowedChars:"a-zA-Z0-9_.",requiredChars:"",passwordLen:24};function rs(t){if(t>=48&&t<=57)return t-48;if(t>=65&&t<=70)return t-65+10;if(t>=97&&t<=102)return t-97+10;throw new Error("Not a hex character, code: "+t)}function br(t){if(t.length%2!==0)throw new Error(`Invalid hex: "${t}"`);const e=new Uint8Array(t.length/2);for(let n=0;n<t.length;n+=2){const r=rs(t.charCodeAt(n)),s=rs(t.charCodeAt(n+1));e[n>>1]=r<<4|s}return e}function ho(t){let e="";for(let n=0;n<t.length;n++){let r=t[n].toString(16);r.length<2&&(r="0"+r),e+=r}return e}const yo=Hs(),vr=1e3,Vs=60*vr,Js=60*Vs,Ys="dp:v2:",at=ot();let kn;at.subscribe(t=>{kn!==void 0&&(clearTimeout(kn),kn=void 0),t!==void 0&&(kn=setTimeout(()=>{at.set(void 0)},15*Vs))});const Ks="/assets/logo.f23d4d62.svg",_o="2.1.8",go="https://github.com/derivepass/derivepass-web#readme";function bo(t){let e,n;const r=t[2].default,s=Gn(r,t,t[1],null);return{c(){e=T("a"),s&&s.c(),b(e,"href",t[0]),b(e,"target","_blank"),b(e,"rel","noreferrer"),b(e,"class","text-blue-600 hover:underline")},m(i,o){w(i,e,o),s&&s.m(e,null),n=!0},p(i,[o]){s&&s.p&&(!n||o&2)&&er(s,r,i,i[1],n?Qn(r,i[1],o,null):tr(i[1]),null),(!n||o&1)&&b(e,"href",i[0])},i(i){n||(Z(s,i),n=!0)},o(i){F(s,i),n=!1},d(i){i&&v(e),s&&s.d(i)}}}function vo(t,e,n){let{$$slots:r={},$$scope:s}=e,{href:i}=e;return t.$$set=o=>{"href"in o&&n(0,i=o.href),"$$scope"in o&&n(1,s=o.$$scope)},[i,s,r]}class jt extends Ve{constructor(e){super(),He(this,e,vo,bo,Fe,{href:0})}}function wo(t){let e;return{c(){e=P(`self-hosted remote storage
  `)},m(n,r){w(n,e,r)},d(n){n&&v(e)}}}function ko(t){let e;return{c(){e=P("scrypt")},m(n,r){w(n,e,r)},d(n){n&&v(e)}}}function Ao(t){let e;return{c(){e=P("salt")},m(n,r){w(n,e,r)},d(n){n&&v(e)}}}function Eo(t){let e;return{c(){e=P("AES")},m(n,r){w(n,e,r)},d(n){n&&v(e)}}}function Co(t){let e;return{c(){e=P("HMAC-SHA256")},m(n,r){w(n,e,r)},d(n){n&&v(e)}}}function So(t){let e,n;return{c(){e=P("source code @ "),n=P(_o)},m(r,s){w(r,e,s),w(r,n,s)},p:K,d(r){r&&v(e),r&&v(n)}}}function xo(t){let e,n,r,s,i,o,a,l,c,u,f,d,p,m,h,A,E,j,L,g,C,y,M,D,Y,be,q,Ee,pe,Ie,ve,ie,Te,Ne,N,z,V,ue,de,ne,me,Re,Ze,we,Se,De,$e,Ce,O,_,$,J,ke,S,Ue,xe,he,Je,Ye,Pe,en,ye,re,Oe,Le,Ke;return be=new jt({props:{href:"https://github.com/derivepass/derivepass-storage#readme",$$slots:{default:[wo]},$$scope:{ctx:t}}}),me=new jt({props:{href:"https://en.wikipedia.org/wiki/Scrypt",$$slots:{default:[ko]},$$scope:{ctx:t}}}),Ce=new jt({props:{href:"https://en.wikipedia.org/wiki/Salt_(cryptography)",$$slots:{default:[Ao]},$$scope:{ctx:t}}}),ke=new jt({props:{href:"https://en.wikipedia.org/wiki/Advanced_Encryption_Standard",$$slots:{default:[Eo]},$$scope:{ctx:t}}}),he=new jt({props:{href:"https://en.wikipedia.org/wiki/HMAC",$$slots:{default:[Co]},$$scope:{ctx:t}}}),re=new jt({props:{href:go,$$slots:{default:[So]},$$scope:{ctx:t}}}),{c(){e=T("container"),n=T("img"),s=U(),i=T("container"),o=T("h1"),o.textContent="DerivePass",a=U(),l=T("h2"),l.textContent="Compute secure passwords without storing them anywhere.",c=U(),u=T("a"),u.textContent="Start",f=U(),d=T("p"),d.textContent=`Most websites require a password on Sign Up.
  Using the same password everywhere is insecure.
  Using individual secure passwords and remembering all of them - impossible!`,p=U(),m=T("p"),m.innerHTML=`<b>DerivePass</b> is here to help with the task!
  Choose the Master Password once and use it to generate an <b>unlimited</b>
  number of secure website passwords.`,h=U(),A=T("p"),A.innerHTML=`Unlike traditional password managers, <b>DerivePass</b> never uploads
  neither the Master Password nor website passwords to the cloud. The only
  information that is stored is <b>encrypted</b> website domain names and
  usernames.`,E=U(),j=T("hr"),L=U(),g=T("h3"),g.textContent="Privacy",C=U(),y=T("p"),M=P(`Your privacy is important to us. Your data is stored only locally
  `),D=T("b"),D.textContent="on your computer",Y=P(`, by default, unless you manually decide to use
  `),le(be.$$.fragment),q=P(`.
  We `),Ee=T("b"),Ee.textContent="never",pe=P(` store unencrypted website domain names, usernames,
  or passwords. `),Ie=T("b"),Ie.textContent="No tracking",ve=P(" of any kind is used on this website."),ie=U(),Te=T("hr"),Ne=U(),N=T("h3"),N.textContent="Security",z=U(),V=T("h4"),V.textContent="(Technical Details)",ue=U(),de=T("p"),ne=P(`The
  `),le(me.$$.fragment),Re=P(`
  algorithm is used for deriving application passwords and
  encryption/authentication keys. Due to the strong cryptographic properties
  of scrypt, the compromise of any single application password does not
  compromise other passwords or the Master Password itself.`),Ze=U(),we=T("p"),Se=P(`An application's domain name (website), username, and revision are used for
  generating unique and secure passwords. In particular,
  `),De=T("code"),De.textContent="domain/username(#revision)",$e=P(`
  is used as a
  `),le(Ce.$$.fragment),O=P(`
  parameter of scrypt. Thus every revision increment will result in a
  completely different generated password. This is convenient for changing the
  password whenever it is required or just rotating them on a schedule.`),_=U(),$=T("p"),J=P(`Every bit of information that is stored locally and/or remotely (through
  optional synchronization) is encrypted with an
  `),le(ke.$$.fragment),S=P(`
  key generated from the Master Password via the scrypt algorithm, using
  `),Ue=T("code"),Ue.textContent="derivepass/aes",xe=P(`
  as a salt. The data is further passed to the
  `),le(he.$$.fragment),Je=P(`
  algorithm to ensure the data integrity.`),Ye=U(),Pe=T("footer"),en=T("p"),en.textContent=`Copyright ${t[0]}, Fedor Indutny`,ye=U(),le(re.$$.fragment),Os(n.src,r=Ks)||b(n,"src",r),b(n,"alt","Big Logotype"),b(n,"class","grow max-w-xs lg:max-w-full"),b(o,"class","text-4xl font-semibold mb-4"),b(l,"class","text-xl mb-4"),b(u,"href","/login"),b(u,"class","inline-block px-4 py-2 rounded bg-blue-600 hover:bg-blue-700 active:bg-blue-800 text-white text-xl"),b(i,"class","grow basis-96 mb-4"),b(e,"class","flex flex-row-reverse flex-wrap justify-center items-center text-center sm:text-start"),b(d,"class","my-2"),b(m,"class","my-2"),b(A,"class","my-2"),b(j,"class","my-4"),b(g,"class","my-4 text-3xl text-semibold"),b(Te,"class","my-4"),b(N,"class","my-4 text-3xl text-semibold"),b(V,"class","my-2 text-lg"),b(de,"class","my-2"),b(De,"class","border border-slate-200 bg-slate-100 px-1"),b(we,"class","my-2"),b(Ue,"class","border border-slate-200 bg-slate-100 px-1"),b($,"class","my-2"),b(Pe,"class","text-xs text-right")},m(x,H){w(x,e,H),k(e,n),k(e,s),k(e,i),k(i,o),k(i,a),k(i,l),k(i,c),k(i,u),w(x,f,H),w(x,d,H),w(x,p,H),w(x,m,H),w(x,h,H),w(x,A,H),w(x,E,H),w(x,j,H),w(x,L,H),w(x,g,H),w(x,C,H),w(x,y,H),k(y,M),k(y,D),k(y,Y),oe(be,y,null),k(y,q),k(y,Ee),k(y,pe),k(y,Ie),k(y,ve),w(x,ie,H),w(x,Te,H),w(x,Ne,H),w(x,N,H),w(x,z,H),w(x,V,H),w(x,ue,H),w(x,de,H),k(de,ne),oe(me,de,null),k(de,Re),w(x,Ze,H),w(x,we,H),k(we,Se),k(we,De),k(we,$e),oe(Ce,we,null),k(we,O),w(x,_,H),w(x,$,H),k($,J),oe(ke,$,null),k($,S),k($,Ue),k($,xe),oe(he,$,null),k($,Je),w(x,Ye,H),w(x,Pe,H),k(Pe,en),k(Pe,ye),oe(re,Pe,null),Oe=!0,Le||(Ke=Jt(Pr.call(null,u)),Le=!0)},p(x,[H]){const st={};H&2&&(st.$$scope={dirty:H,ctx:x}),be.$set(st);const lt={};H&2&&(lt.$$scope={dirty:H,ctx:x}),me.$set(lt);const tn={};H&2&&(tn.$$scope={dirty:H,ctx:x}),Ce.$set(tn);const Ct={};H&2&&(Ct.$$scope={dirty:H,ctx:x}),ke.$set(Ct);const gn={};H&2&&(gn.$$scope={dirty:H,ctx:x}),he.$set(gn);const Br={};H&2&&(Br.$$scope={dirty:H,ctx:x}),re.$set(Br)},i(x){Oe||(Z(be.$$.fragment,x),Z(me.$$.fragment,x),Z(Ce.$$.fragment,x),Z(ke.$$.fragment,x),Z(he.$$.fragment,x),Z(re.$$.fragment,x),Oe=!0)},o(x){F(be.$$.fragment,x),F(me.$$.fragment,x),F(Ce.$$.fragment,x),F(ke.$$.fragment,x),F(he.$$.fragment,x),F(re.$$.fragment,x),Oe=!1},d(x){x&&v(e),x&&v(f),x&&v(d),x&&v(p),x&&v(m),x&&v(h),x&&v(A),x&&v(E),x&&v(j),x&&v(L),x&&v(g),x&&v(C),x&&v(y),ae(be),x&&v(ie),x&&v(Te),x&&v(Ne),x&&v(N),x&&v(z),x&&v(V),x&&v(ue),x&&v(de),ae(me),x&&v(Ze),x&&v(we),ae(Ce),x&&v(_),x&&v($),ae(ke),ae(he),x&&v(Ye),x&&v(Pe),ae(re),Le=!1,Ke()}}}function To(t){return[new Date().getFullYear()]}class mr extends Ve{constructor(e){super(),He(this,e,To,xo,Fe,{})}}const Xs={},Gs={};function $o(t,e){return Object.keys(t).some(r=>e(t[r]))}function ir(t,e){return Object.keys(t||{}).reduce((r,s)=>Object.assign(Object.assign({},r),{[s]:e(t[s])}),{})}function se(t){return Object.prototype.toString.call(t)==="[object Object]"}function Xe(t){return Object.keys(t||{}).reduce((e,n)=>Object.assign(Object.assign({},e),{[n]:se(t[n])?Xe(t[n]):Array.isArray(t[n])?[...t[n]]:t[n]}),{})}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function Oo(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function No(t){return function(e){if(se(e)){const n=Ge(e,t);return Oo(n,["key"])}return t}}function Ge(t,e){return ir(t,n=>se(n)?Ge(n,e):Array.isArray(n)?n.map(No(e)):e)}function $t(...t){const e=t.pop(),n=t.shift();if(typeof n=="string")return n;const r=Xe(n);if(t.length===0)return r;for(const s of t){if(!s)continue;if(typeof s=="string")return s;let i=e(r,s);if(typeof i<"u")return i;const o=Array.from(new Set(Object.keys(r).concat(Object.keys(s))));for(const a of o)if(i=e(r[a],s[a]),typeof i<"u")r[a]=i;else if(se(s[a])&&se(r[a]))r[a]=$t(r[a],s[a],e);else if(Array.isArray(s[a]))r[a]=s[a].map((l,c)=>{if(!se(l))return l;const u=Array.isArray(r[a])?r[a][c]:r[a];return $t(u,l,e)});else if(se(s[a])){const l=Ge(Xe(s[a]),void 0);r[a]=$t(l,s[a],e)}else typeof s[a]<"u"&&(r[a]=s[a])}return r}function Io(t,e){if(!(se(t)&&se(e))){if(Array.isArray(e)){if(e.some(se))return;const n=Array.isArray(t)?t:[];return e.map((r,s)=>{var i;return(i=n[s])!==null&&i!==void 0?i:r})}if(typeof t<"u")return t}}function ss(...t){return $t(...t,Io)}function Qs(...t){return $t(...t,()=>{})}function ft(t,e,n){const r=i=>String.prototype.split.call(e,i).filter(Boolean).reduce((o,a)=>o!=null?o[a]:o,t),s=r(/[,[\]]+?/)||r(/[,[\].]+?/);return s===void 0||s===t?n:s}function Qt(t,e,n){t&&(t=Xe(t)),se(t)||(t={});const r=Array.isArray(e)?e:e.match(/[^.[\]]+/g)||[],s=r[r.length-1];if(!s)return t;let i=t;for(let o=0;o<r.length-1;o++){const a=r[o];if(!i[a]||!se(i[a])&&!Array.isArray(i[a])){const l=r[o+1];isNaN(Number(l))?i[a]={}:i[a]=[]}i=i[a]}return i[s]=n(i[s]),t}function _e(t,e,n){return Qt(t,e,()=>n)}function sn(t,e){if(!t||Object(t)!==t)return;typeof t<"u"&&(t=Xe(t));const n=Array.isArray(e)?e:e.toString().match(/[^.[\]]+/g)||[],r=n.length===1?t:ft(t,n.slice(0,-1).join("."));return Array.isArray(r)?r.splice(Number(n[n.length-1]),1):r==null||delete r[n[n.length-1]],t}function dn(t,e){return $o(t,n=>se(n)?dn(n,e):Array.isArray(n)?n.length===0||n.every(r=>typeof r=="string")?e(n):n.some(r=>se(r)?dn(r,e):e(r)):e(n))}function qt(t){var e;return((e=t)===null||e===void 0?void 0:e.nodeName)==="INPUT"}function jo(t){var e;return((e=t)===null||e===void 0?void 0:e.nodeName)==="TEXTAREA"}function Bt(t){var e;return((e=t)===null||e===void 0?void 0:e.nodeName)==="SELECT"}function or(t){var e;return((e=t)===null||e===void 0?void 0:e.nodeName)==="FIELDSET"}function Me(t){return qt(t)||jo(t)||Bt(t)}function is(t){return t.nodeType===Node.ELEMENT_NODE}function je(t,e){return e!=null?e:Me(t)?t.name:""}function hr(t){let e=t;for(;e&&e.nodeName!=="FORM";){if(e.hasAttribute("data-felte-ignore"))return!0;e=e.parentElement}return!1}function Ro(t,e){if(!(se(t)||se(e))){if(t===null||t==="")return e;if(e===null||e===""||!e)return t;if(!(!t||!e)){if(Array.isArray(t)){if(!Array.isArray(e))return[...t,e];const n=[],r=Math.max(e.length,t.length);for(let s=0;s<r;s++){let i=t[s],o=e[s];!se(i)&&!se(o)?(Array.isArray(i)||(i=[i]),Array.isArray(o)||(o=[o]),n.push(...i,...o)):n.push(Dt([i!=null?i:{},o!=null?o:{}]))}return n.filter(Boolean)}return Array.isArray(e)||(e=[e]),[t,...e].reduce((n,r)=>n.concat(r),[]).filter(Boolean)}}}function Dt(t){return $t(...t,Ro)}function Lo(t,e){return e?(Array.isArray(e)?e:[e]).map(r=>r(t)):[]}function wr(t,e){return e?Array.isArray(e)?e.reduce((n,r)=>r(n),t):e(t):t}function Dr(t=8){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";let n="";for(let r=0;r<t;r++)n+=e.charAt(Math.floor(Math.random()*e.length));return n}function Zn(t,e,{onInit:n,onEnd:r}={}){let s;return(...i)=>{s||n==null||n(),s&&clearTimeout(s),s=setTimeout(()=>{t.apply(this,i),s=void 0,r==null||r()},e)}}function kr(t){if(Me(t))return[t];if(t.childElementCount===0)return[];const e=new Set;for(const n of t.children){if(Me(n)&&e.add(n),or(n))for(const r of n.elements)Me(r)&&e.add(r);n.childElementCount>0&&kr(n).forEach(r=>e.add(r))}return Array.from(e)}function ei(t){for(const e of t.elements)!Me(e)&&!or(e)||t.hasAttribute("data-felte-keep-on-remove")&&!e.hasAttribute("data-felte-keep-on-remove")&&(e.dataset.felteKeepOnRemove=t.dataset.felteKeepOnRemove)}function ti(t){return t.type.match(/^(number|range)$/)?t.value?+t.value:void 0:t.value}function os(t){var e;let n={},r={};for(const s of t.elements){if(or(s)&&ei(s),!Me(s)||!s.name)continue;const i=je(s);if(qt(s)){if(s.type==="checkbox"){if(typeof ft(n,i)>"u"){if(Array.from(t.querySelectorAll(`[name="${s.name}"]`)).filter(l=>Me(l)?i===je(l):!1).length===1){n=_e(n,i,s.checked),r=_e(r,i,!1);continue}n=_e(n,i,s.checked?[s.value]:[]),r=_e(r,i,!1);continue}Array.isArray(ft(n,i))&&s.checked&&(n=Qt(n,i,a=>[...a,s.value]));continue}if(s.type==="radio"){if(ft(n,i))continue;n=_e(n,i,s.checked?s.value:void 0),r=_e(r,i,!1);continue}if(s.type==="file"){n=_e(n,i,s.multiple?Array.from(s.files||[]):(e=s.files)===null||e===void 0?void 0:e[0]),r=_e(r,i,!1);continue}}else if(Bt(s)){if(!s.multiple)n=_e(n,i,s.value);else{const l=Array.from(s.options).filter(c=>c.selected).map(c=>c.value);n=_e(n,i,l)}r=_e(r,i,!1);continue}const o=ti(s);n=_e(n,i,o),r=_e(r,i,!1)}return{defaultData:n,defaultTouched:r}}function Mo(t,e){var n;if(!Me(t))return;const r=e;if(qt(t)){if(t.type==="checkbox"){const s=r;if(typeof s>"u"||typeof s=="boolean"){t.checked=!!s;return}Array.isArray(s)&&(s.includes(t.value)?t.checked=!0:t.checked=!1);return}if(t.type==="radio"){const s=r;t.value===s?t.checked=!0:t.checked=!1;return}if(t.type==="file"){t.files=null,t.value="";return}}else if(Bt(t)){if(t.multiple){if(Array.isArray(r)){t.value=String((n=r[0])!==null&&n!==void 0?n:"");const i=r.map(o=>String(o));for(const o of t.options)i.includes(o.value)?o.selected=!0:o.selected=!1}}else{t.value=String(r!=null?r:"");for(const i of t.options)i.value===String(r)?i.selected=!0:i.selected=!1}return}t.value=String(r!=null?r:"")}function An(t,e){for(const n of t.elements){if(or(n)&&ei(n),!Me(n)||!n.name)continue;const r=je(n);Mo(n,ft(e,r))}}function as(t){const e=t.config;if(t.stage==="SETUP"){if(!e.__felteReporterSvelteId){const n=Dr(21);e.__felteReporterSvelteId=n,Xs[n]=t.errors,Gs[n]=t.warnings}return{}}return t.form.hasAttribute("data-felte-reporter-svelte-id")||(t.form.dataset.felteReporterSvelteId=e.__felteReporterSvelteId),{onSubmitError(){const n=t&&t.form.querySelector('[aria-invalid="true"]:not([type="hidden"])');n&&n.focus()}}}function Zo(t){return!t||"preventFocusOnError"in t?e=>as(e):as(t)}const Po=t=>({messages:t&4}),ls=t=>({messages:t[2]}),Fo=t=>({messages:t&4}),cs=t=>({messages:t[2]});function Do(t){let e;const n=t[9].placeholder,r=Gn(n,t,t[8],ls);return{c(){r&&r.c()},m(s,i){r&&r.m(s,i),e=!0},p(s,i){r&&r.p&&(!e||i&260)&&er(r,n,s,s[8],e?Qn(n,s[8],i,Po):tr(s[8]),ls)},i(s){e||(Z(r,s),e=!0)},o(s){F(r,s),e=!1},d(s){r&&r.d(s)}}}function Uo(t){let e;const n=t[9].default,r=Gn(n,t,t[8],cs);return{c(){r&&r.c()},m(s,i){r&&r.m(s,i),e=!0},p(s,i){r&&r.p&&(!e||i&260)&&er(r,n,s,s[8],e?Qn(n,s[8],i,Fo):tr(s[8]),cs)},i(s){e||(Z(r,s),e=!0)},o(s){F(r,s),e=!1},d(s){r&&r.d(s)}}}function Wo(t){let e,n,r,s,i,o;const a=[Uo,Do],l=[];function c(u,f){return!u[3].placeholder||u[2]?0:1}return r=c(t),s=l[r]=a[r](t),{c(){e=T("div"),n=U(),s.c(),i=Nt(),Ls(e,"display","none")},m(u,f){w(u,e,f),t[10](e),w(u,n,f),l[r].m(u,f),w(u,i,f),o=!0},p(u,[f]){let d=r;r=c(u),r===d?l[r].p(u,f):(Qe(),F(l[d],1,1,()=>{l[d]=null}),et(),s=l[r],s?s.p(u,f):(s=l[r]=a[r](u),s.c()),Z(s,1),s.m(i.parentNode,i))},i(u){o||(Z(s),o=!0)},o(u){F(s),o=!1},d(u){u&&v(e),t[10](null),u&&v(n),l[r].d(u),u&&v(i)}}}function zo(t,e,n){let r,s,i=K,o=()=>(i(),i=jr(d,E=>n(7,s=E)),d);t.$$.on_destroy.push(()=>i());let{$$slots:a={},$$scope:l}=e;const c=xi(a);let{level:u="error"}=e,{for:f}=e,d,p,m;function h(){return m.closest("form")}Zi(()=>{n(6,p=je(m,f));const j=h();o(j?u==="error"?n(0,d=Xs[j.dataset.felteReporterSvelteId]):n(0,d=Gs[j.dataset.felteReporterSvelteId]):n(0,d=ot({})))});function A(E){Mn[E?"unshift":"push"](()=>{m=E,n(1,m)})}return t.$$set=E=>{"level"in E&&n(4,u=E.level),"for"in E&&n(5,f=E.for),"$$scope"in E&&n(8,l=E.$$scope)},t.$$.update=()=>{t.$$.dirty&192&&n(2,r=p&&ft(s,p))},[d,m,r,c,u,f,p,s,l,a,A]}class qo extends Ve{constructor(e){super(),He(this,e,zo,Wo,Fe,{level:4,for:5})}}const Bo=qo;function us(t){let e,n,r;return{c(){e=T("p"),n=T("small"),r=P(t[4]),b(e,"class","text-gray-500")},m(s,i){w(s,e,i),k(e,n),k(n,r)},p(s,i){i&16&&it(r,s[4])},d(s){s&&v(e)}}}function ds(t){let e,n;return e=new Bo({props:{for:t[1],$$slots:{placeholder:[Vo,({messages:r})=>({9:r}),({messages:r})=>r?512:0],default:[Ho,({messages:r})=>({9:r}),({messages:r})=>r?512:0]},$$scope:{ctx:t}}}),{c(){le(e.$$.fragment)},m(r,s){oe(e,r,s),n=!0},p(r,s){const i={};s&2&&(i.for=r[1]),s&1536&&(i.$$scope={dirty:s,ctx:r}),e.$set(i)},i(r){n||(Z(e.$$.fragment,r),n=!0)},o(r){F(e.$$.fragment,r),n=!1},d(r){ae(e,r)}}}function Ho(t){let e,n=t[9]+"",r;return{c(){e=T("p"),r=P(n),b(e,"class","text-red-500 my-2")},m(s,i){w(s,e,i),k(e,r)},p(s,i){i&512&&n!==(n=s[9]+"")&&it(r,n)},d(s){s&&v(e)}}}function Vo(t){let e;return{c(){e=T("span"),b(e,"slot","placeholder")},m(n,r){w(n,e,r)},p:K,d(n){n&&v(e)}}}function Jo(t){let e,n,r,s,i,o,a,l,c,u,f,d=t[4]&&us(t),p=t[1]!==void 0&&ds(t);return{c(){e=T("section"),n=T("label"),r=T("p"),s=P(t[3]),i=U(),o=T("input"),a=U(),d&&d.c(),l=U(),p&&p.c(),b(r,"class","mb-2"),b(o,"class","w-full p-2 rounded border outline-2 aria-[invalid]:outline aria-[invalid]:outline-red-500"),b(o,"name",t[1]),b(o,"type",t[2]),b(o,"autocomplete","off"),b(o,"autocorrect","off"),b(o,"autocapitalize","none"),o.required=t[5],o.disabled=t[6],b(o,"aria-required",t[5]),b(o,"placeholder",t[7]),o.value=t[0],b(e,"class","mb-2")},m(m,h){w(m,e,h),k(e,n),k(n,r),k(r,s),k(n,i),k(n,o),k(e,a),d&&d.m(e,null),k(e,l),p&&p.m(e,null),c=!0,u||(f=We(o,"input",t[8]),u=!0)},p(m,[h]){(!c||h&8)&&it(s,m[3]),(!c||h&2)&&b(o,"name",m[1]),(!c||h&4)&&b(o,"type",m[2]),(!c||h&32)&&(o.required=m[5]),(!c||h&64)&&(o.disabled=m[6]),(!c||h&32)&&b(o,"aria-required",m[5]),(!c||h&128)&&b(o,"placeholder",m[7]),(!c||h&1&&o.value!==m[0])&&(o.value=m[0]),m[4]?d?d.p(m,h):(d=us(m),d.c(),d.m(e,l)):d&&(d.d(1),d=null),m[1]!==void 0?p?(p.p(m,h),h&2&&Z(p,1)):(p=ds(m),p.c(),Z(p,1),p.m(e,null)):p&&(Qe(),F(p,1,1,()=>{p=null}),et())},i(m){c||(Z(p),c=!0)},o(m){F(p),c=!1},d(m){m&&v(e),d&&d.d(),p&&p.d(),u=!1,f()}}}function Yo(t,e,n){let{name:r=void 0}=e,{type:s="text"}=e,{label:i}=e,{hint:o=void 0}=e,{required:a=!1}=e,{disabled:l=!1}=e,{placeholder:c=void 0}=e,{value:u=void 0}=e;function f(d){s==="number"?n(0,u=parseInt(d.currentTarget.value,10)):n(0,u=d.currentTarget.value)}return t.$$set=d=>{"name"in d&&n(1,r=d.name),"type"in d&&n(2,s=d.type),"label"in d&&n(3,i=d.label),"hint"in d&&n(4,o=d.hint),"required"in d&&n(5,a=d.required),"disabled"in d&&n(6,l=d.disabled),"placeholder"in d&&n(7,c=d.placeholder),"value"in d&&n(0,u=d.value)},[u,r,s,i,o,a,l,c,f]}class ct extends Ve{constructor(e){super(),He(this,e,Yo,Jo,Fe,{name:1,type:2,label:3,hint:4,required:5,disabled:6,placeholder:7,value:0})}}function Ko(t){let e,n;return{c(){e=Vr("svg"),n=Vr("path"),b(n,"d","M4.233 0a4.233 4.233 0 0 0-2.986 1.247l.742.742a3.175 3.175 0 0 1 2.244-.93 3.175 3.175 0 0 1 2.245.93l.748-.748A4.233 4.233 0 0 0 4.233 0Z"),Ls(n,"fill","white"),b(e,"xmlns","http://www.w3.org/2000/svg"),b(e,"class","inline-block animate-spin"),b(e,"width",t[0]),b(e,"height",t[0]),b(e,"viewBox","0 0 8.467 8.467")},m(r,s){w(r,e,s),k(e,n)},p(r,[s]){s&1&&b(e,"width",r[0]),s&1&&b(e,"height",r[0])},i:K,o:K,d(r){r&&v(e)}}}function Xo(t,e,n){let{size:r=16}=e;return t.$$set=s=>{"size"in s&&n(0,r=s.size)},[r]}class ni extends Ve{constructor(e){super(),He(this,e,Xo,Ko,Fe,{size:0})}}function Go(){return new Worker("/assets/worker.9e190674.js")}const ri=new Go,si=new Array;ri.addEventListener("message",t=>{var n;const e=t.data;(n=si.shift())==null||n(e)});function ii(t){return new Promise(e=>{si.push(e),ri.postMessage(t)})}async function Qo(t,e){const n=await ii({type:"computePassword",keys:t,app:e});if(n.type!=="computePassword")throw new Error("Invalid response");return n.result}async function ea(t){const e=await ii({type:"computeKeys",master:t});if(e.type!=="computeKeys")throw new Error("Invalid response");return e.result}function ta(t){let e;return{c(){e=P("Decrypt Storage")},m(n,r){w(n,e,r)},i:K,o:K,d(n){n&&v(e)}}}function na(t){let e,n,r;return e=new ni({}),{c(){le(e.$$.fragment),n=P(`
      Decrypting Storage`)},m(s,i){oe(e,s,i),w(s,n,i),r=!0},i(s){r||(Z(e.$$.fragment,s),r=!0)},o(s){F(e.$$.fragment,s),r=!1},d(s){ae(e,s),s&&v(n)}}}function ra(t){let e,n,r,s,i,o,a,l,c,u,f;function d(E){t[3](E)}let p={type:"password",label:"Enter your Master Password",hint:"Used for decrypting storage and computing passwords",disabled:t[1]};t[0]!==void 0&&(p.value=t[0]),n=new ct({props:p}),Mn.push(()=>Vi(n,"value",d));const m=[na,ta],h=[];function A(E,j){return E[1]?0:1}return o=A(t),a=h[o]=m[o](t),{c(){e=T("form"),le(n.$$.fragment),s=U(),i=T("button"),a.c(),b(i,"class","px-4 py-2 rounded bg-blue-600 hover:bg-blue-700 active:bg-blue-800 text-white disabled:bg-blue-400 flex gap-2 items-center"),b(i,"type","submit"),i.disabled=l=!t[0]||t[1],b(e,"autocomplete","off")},m(E,j){w(E,e,j),oe(n,e,null),k(e,s),k(e,i),h[o].m(i,null),c=!0,u||(f=We(e,"submit",tt(t[2])),u=!0)},p(E,[j]){const L={};j&2&&(L.disabled=E[1]),!r&&j&1&&(r=!0,L.value=E[0],Fi(()=>r=!1)),n.$set(L);let g=o;o=A(E),o!==g&&(Qe(),F(h[g],1,1,()=>{h[g]=null}),et(),a=h[o],a||(a=h[o]=m[o](E),a.c()),Z(a,1),a.m(i,null)),(!c||j&3&&l!==(l=!E[0]||E[1]))&&(i.disabled=l)},i(E){c||(Z(n.$$.fragment,E),Z(a),c=!0)},o(E){F(n.$$.fragment,E),F(a),c=!1},d(E){E&&v(e),ae(n),h[o].d(),u=!1,f()}}}function sa(t,e,n){let r;nt(t,at,l=>n(4,r=l));let s="",i=!1;async function o(){n(1,i=!0),nr(at,r=await ea(s),r),n(1,i=!1),zt("/applications")}function a(l){s=l,n(0,s)}return[s,i,o,a]}class ia extends Ve{constructor(e){super(),He(this,e,sa,ra,Fe,{})}}function oa(t,e,n){let r;return nt(t,at,s=>n(0,r=s)),nr(at,r=void 0,r),un("/login"),[]}class aa extends Ve{constructor(e){super(),He(this,e,oa,null,Fe,{})}}function la(t,...e){const n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function xt(t){let e;return la(t,n=>e=n)(),e}class ca extends Error{constructor(e,n){super(e),this.name="FelteSubmitError",this.response=n}}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function oi(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function gt(t,e){return ir(t,n=>se(n)?gt(n,e):Array.isArray(n)?n.length===0||n.every(r=>typeof r=="string")?e:n.map(r=>{const s=gt(r,e);return oi(s,["key"])}):e)}function At(t){return t?ir(t,e=>se(e)?At(e):Array.isArray(e)?e.length===0||e.every(n=>typeof n=="string")?e:e.map(n=>{if(!se(n))return n;const r=At(n);return r.key||(r.key=Dr()),r}):e):{}}function on(t){return t?ir(t,e=>se(e)?At(e):Array.isArray(e)?e.length===0||e.every(n=>typeof n=="string")?e:e.map(n=>{if(!se(n))return n;const r=At(n);return oi(r,["key"])}):e):{}}function ua(){class t extends CustomEvent{constructor(s){super("feltesuccess",{detail:s})}}class e extends CustomEvent{constructor(s){super("felteerror",{detail:s,cancelable:!0})}setErrors(s){this.preventDefault(),this.errors=s}}class n extends Event{constructor(){super("feltesubmit",{cancelable:!0})}handleSubmit(s){this.onSubmit=s}handleError(s){this.onError=s}handleSuccess(s){this.onSuccess=s}}return{createErrorEvent:r=>new e(r),createSubmitEvent:()=>new n,createSuccessEvent:r=>new t(r)}}function da(t){if(!!t)return async function(){let n=new FormData(t);const r=new URL(t.action),s=t.method.toLowerCase()==="get"?"get":r.searchParams.get("_method")||t.method;let i=t.enctype;t.querySelector('input[type="file"]')&&(i="multipart/form-data"),(s==="get"||i==="application/x-www-form-urlencoded")&&(n=new URLSearchParams(n));let o;s==="get"?(n.forEach((l,c)=>{r.searchParams.append(c,l)}),o={method:s,headers:{Accept:"application/json"}}):o={method:s,body:n,headers:Object.assign(Object.assign({},i!=="multipart/form-data"&&{"Content-Type":i}),{Accept:"application/json"})};const a=await window.fetch(r.toString(),o);if(a.ok)return a;throw new ca("An error occurred while submitting the form",a)}}function En(t,e,n,r){return Qt(t,e,s=>(typeof s<"u"&&!Array.isArray(s)||(s||(s=[]),typeof r>"u"?s.push(n):s.splice(r,0,n)),s))}function fa(t,e,n,r){return Qt(t,e,s=>(!s||!Array.isArray(s)||([s[n],s[r]]=[s[r],s[n]]),s))}function pa(t,e,n,r){return Qt(t,e,s=>(!s||!Array.isArray(s)||s.splice(r,0,s.splice(n,1)[0]),s))}function fs(t){return typeof t=="function"}function St(t){return(n,r)=>{if(typeof n=="string"){const s=n;t(i=>{const o=fs(r)?r(ft(i,s)):r;return _e(i,s,o)})}else t(s=>fs(n)?n(s):n)}}function ma({stores:t,config:e,validateErrors:n,validateWarnings:r,_getCurrentExtenders:s}){var i;let o,a=At((i=e.initialValues)!==null&&i!==void 0?i:{});const{data:l,touched:c,errors:u,warnings:f,isDirty:d,isSubmitting:p,interacted:m}=t,h=St(l.update),A=St(c.update),E=St(u.update),j=St(f.update);function L(N){h(z=>{const V=N(z);return o&&An(o,V),V})}const g=(N,z,V)=>{St(L)(N,z),typeof N=="string"&&V&&A(N,!0)};function C(N,z,V){const ue=se(z)?gt(z,!1):!1,de=se(ue)?Ge(ue,[]):[];z=se(z)?Object.assign(Object.assign({},z),{key:Dr()}):z,u.update(ne=>En(ne,N,de,V)),f.update(ne=>En(ne,N,de,V)),c.update(ne=>En(ne,N,ue,V)),l.update(ne=>{const me=En(ne,N,z,V);return setTimeout(()=>o&&An(o,me)),me})}function y(N){u.update(N),f.update(N),c.update(N),l.update(z=>{const V=N(z);return setTimeout(()=>o&&An(o,V)),V})}function M(N){y(z=>sn(z,N))}function D(N,z,V){y(ue=>fa(ue,N,z,V))}function Y(N,z,V){y(ue=>pa(ue,N,z,V))}function be(N){const z=ft(a,N),V=se(z)?gt(z,!1):!1,ue=se(V)?Ge(V,[]):[];l.update(de=>{const ne=_e(de,N,z);return o&&An(o,ne),ne}),c.update(de=>_e(de,N,V)),u.update(de=>_e(de,N,ue)),f.update(de=>_e(de,N,ue))}const q=St(p.update),Ee=St(d.update),pe=St(m.update);async function Ie(){const N=xt(l);c.set(gt(N,!0)),m.set(null);const z=await n(N);return await r(N),z}function ve(){g(Xe(a)),A(N=>Ge(N,!1)),m.set(null),d.set(!1)}function ie(N){return async function(V){var ue,de,ne,me,Re,Ze,we;const{createErrorEvent:Se,createSubmitEvent:De,createSuccessEvent:$e}=ua(),Ce=De();o==null||o.dispatchEvent(Ce);const O=(de=(ue=Ce.onError)!==null&&ue!==void 0?ue:N==null?void 0:N.onError)!==null&&de!==void 0?de:e.onError,_=(me=(ne=Ce.onSuccess)!==null&&ne!==void 0?ne:N==null?void 0:N.onSuccess)!==null&&me!==void 0?me:e.onSuccess,$=(we=(Ze=(Re=Ce.onSubmit)!==null&&Re!==void 0?Re:N==null?void 0:N.onSubmit)!==null&&Ze!==void 0?Ze:e.onSubmit)!==null&&we!==void 0?we:da(o);if(!$||(V==null||V.preventDefault(),Ce.defaultPrevented))return;p.set(!0),m.set(null);const J=on(xt(l)),ke=await n(J,N==null?void 0:N.validate),S=await r(J,N==null?void 0:N.warn);if(S&&f.set(Qs(Ge(J,[]),S)),c.set(gt(J,!0)),ke&&(c.set(gt(ke,!0)),dn(ke,he=>Array.isArray(he)?he.length>=1:!!he))){await new Promise(he=>setTimeout(he)),s().forEach(he=>{var Je;return(Je=he.onSubmitError)===null||Je===void 0?void 0:Je.call(he,{data:J,errors:ke})}),p.set(!1);return}const Ue={setFields:g,setData:h,setTouched:A,setErrors:E,setWarnings:j,unsetField:M,addField:C,resetField:be,reset:ve,setInitialValues:Te.setInitialValues,moveField:Y,swapFields:D,form:o,controls:o&&Array.from(o.elements).filter(Me),config:Object.assign(Object.assign({},e),N)};try{const xe=await $(J,Ue);o==null||o.dispatchEvent($e(Object.assign({response:xe},Ue))),await(_==null?void 0:_(xe,Ue))}catch(xe){const he=Se(Object.assign({error:xe},Ue));if(o==null||o.dispatchEvent(he),!O&&!he.defaultPrevented)throw xe;if(!O&&!he.errors)return;const Je=he.errors||await(O==null?void 0:O(xe,Ue));Je&&(c.set(gt(Je,!0)),u.set(Je),await new Promise(Ye=>setTimeout(Ye)),s().forEach(Ye=>{var Pe;return(Pe=Ye.onSubmitError)===null||Pe===void 0?void 0:Pe.call(Ye,{data:J,errors:xt(u)})}))}finally{p.set(!1)}}}const Te={setData:h,setFields:g,setTouched:A,setErrors:E,setWarnings:j,setIsSubmitting:q,setIsDirty:Ee,setInteracted:pe,validate:Ie,reset:ve,unsetField:M,resetField:be,addField:C,swapFields:D,moveField:Y,createSubmitHandler:ie,handleSubmit:ie(),setInitialValues:N=>{a=At(N)}};return{public:Te,private:{_setFormNode(N){o=N},_getInitialValues:()=>a}}}function ha({helpers:t,stores:e,config:n,extender:r,createSubmitHandler:s,handleSubmit:i,_setFormNode:o,_getInitialValues:a,_setCurrentExtenders:l,_getCurrentExtenders:c}){const{setFields:u,setTouched:f,reset:d,setInitialValues:p}=t,{addValidator:m,addTransformer:h,validate:A}=t,{data:E,errors:j,warnings:L,touched:g,isSubmitting:C,isDirty:y,interacted:M,isValid:D,isValidating:Y}=e;function be(q){q.requestSubmit||(q.requestSubmit=i);function Ee(O){return function(_){return _({form:q,stage:O,controls:Array.from(q.elements).filter(Me),data:E,errors:j,warnings:L,touched:g,isValid:D,isValidating:Y,isSubmitting:C,isDirty:y,interacted:M,config:n,addValidator:m,addTransformer:h,setFields:u,validate:A,reset:d,createSubmitHandler:s,handleSubmit:i})}}l(r.map(Ee("MOUNT"))),q.noValidate=!!n.validate;const{defaultData:pe,defaultTouched:Ie}=os(q);o(q),p(Qs(Xe(pe),a())),u(a()),g.set(Ie);function ve(O){const _=je(O),$=Array.from(q.querySelectorAll(`[name="${O.name}"]`)).filter(J=>Me(J)?_===je(J):!1);if($.length!==0)return $.length===1?E.update(J=>_e(J,je(O),O.checked)):E.update(J=>_e(J,je(O),$.filter(qt).filter(ke=>ke.checked).map(ke=>ke.value)))}function ie(O){const _=q.querySelectorAll(`[name="${O.name}"]`),$=Array.from(_).find(J=>qt(J)&&J.checked);E.update(J=>_e(J,je(O),$==null?void 0:$.value))}function Te(O){var _;const $=Array.from((_=O.files)!==null&&_!==void 0?_:[]);E.update(J=>_e(J,je(O),O.multiple?$:$[0]))}function Ne(O){if(!O.multiple)E.update(_=>_e(_,je(O),O.value));else{const _=Array.from(O.options).filter($=>$.selected).map($=>$.value);E.update($=>_e($,je(O),_))}}function N(O){const _=O.target;if(!_||!Me(_)||Bt(_)||hr(_)||["checkbox","radio","file"].includes(_.type)||!_.name)return;y.set(!0);const $=ti(_);M.set(_.name),E.update(J=>_e(J,je(_),$))}function z(O){const _=O.target;if(!(!_||!Me(_)||hr(_))&&!!_.name)if(f(je(_),!0),M.set(_.name),(Bt(_)||["checkbox","radio","file","hidden"].includes(_.type))&&y.set(!0),_.type==="hidden"&&E.update($=>_e($,je(_),_.value)),Bt(_))Ne(_);else if(qt(_))_.type==="checkbox"?ve(_):_.type==="radio"?ie(_):_.type==="file"&&Te(_);else return}function V(O){const _=O.target;!_||!Me(_)||hr(_)||!_.name||(f(je(_),!0),M.set(_.name))}function ue(O){O.preventDefault(),d()}const de={childList:!0,subtree:!0};function ne(O){let _=xt(E),$=xt(g),J=xt(j),ke=xt(L);for(const S of O.reverse()){if(S.hasAttribute("data-felte-keep-on-remove")&&S.dataset.felteKeepOnRemove!=="false")continue;const Ue=/.*(\[[0-9]+\]|\.[0-9]+)\.[^.]+$/;let xe=je(S);const he=xt(g);if(Ue.test(xe)){const Ye=xe.split(".").slice(0,-1).join("."),Pe=ft(he,Ye);se(Pe)&&Object.keys(Pe).length<=1&&(xe=Ye)}_=sn(_,xe),$=sn($,xe),J=sn(J,xe),ke=sn(ke,xe)}E.set(_),g.set($),j.set(J),L.set(ke)}const me=Zn(()=>{c().forEach($=>{var J;return(J=$.destroy)===null||J===void 0?void 0:J.call($)}),l(r.map(Ee("UPDATE")));const{defaultData:O,defaultTouched:_}=os(q);E.update($=>ss($,O)),g.update($=>ss($,_))},0);let Re=[];const Ze=Zn(()=>{c().forEach(O=>{var _;return(_=O.destroy)===null||_===void 0?void 0:_.call(O)}),l(r.map(Ee("UPDATE"))),ne(Re),Re=[]},0);function we(O){!Array.from(O.addedNodes).some($=>is($)?Me($)?!0:kr($).length>0:!1)||me()}function Se(O){for(const _ of O.removedNodes){if(!is(_))continue;const $=kr(_);$.length!==0&&(Re.push(...$),Ze())}}function De(O){for(const _ of O)_.type==="childList"&&(_.addedNodes.length>0&&we(_),_.removedNodes.length>0&&Se(_))}const $e=new MutationObserver(De);$e.observe(q,de),q.addEventListener("input",N),q.addEventListener("change",z),q.addEventListener("focusout",V),q.addEventListener("submit",i),q.addEventListener("reset",ue);const Ce=j.subscribe(O=>{for(const _ of q.elements){if(!Me(_)||!_.name)continue;const $=ft(O,je(_)),J=Array.isArray($)?$.join(`
`):typeof $=="string"?$:void 0;J!==_.dataset.felteValidationMessage&&(J?(_.dataset.felteValidationMessage=J,_.setAttribute("aria-invalid","true")):(delete _.dataset.felteValidationMessage,_.removeAttribute("aria-invalid")))}});return{destroy(){$e.disconnect(),q.removeEventListener("input",N),q.removeEventListener("change",z),q.removeEventListener("focusout",V),q.removeEventListener("submit",i),q.removeEventListener("reset",ue),Ce(),c().forEach(O=>{var _;return(_=O.destroy)===null||_===void 0?void 0:_.call(O)})}}}return{form:be}}function ya(t){const e={aborted:!1,priority:t};return{signal:e,abort(){e.aborted=!0}}}function _a(t,e){if(se(t))return!e||se(e)&&Object.keys(e).length===0?Ge(t,null):void 0;if(Array.isArray(t)){if(t.some(se))return;const n=Array.isArray(e)?e:[];return t.map((r,s)=>{const i=n[s];return Array.isArray(i)&&i.length===0?null:r&&i||null})}return Array.isArray(e)&&e.length===0?null:Array.isArray(e)?t?e:null:t&&e?[e]:null}function ga(t,e){if(se(t))return!e||se(e)&&Object.keys(e).length===0?Ge(t,null):void 0;if(Array.isArray(t)){if(t.some(se))return;const n=Array.isArray(e)?e:[];return t.map((r,s)=>{const i=n[s];return Array.isArray(i)&&i.length===0?null:i||null})}return Array.isArray(e)&&e.length===0?null:Array.isArray(e)?e:e?[e]:null}function ba([t,e]){return $t(e,t,_a)}function va([t,e]){return $t(e,t,ga)}function wa(t){return function(n,r,s){const i=Array.isArray(n)?n:[n],o=new Array(i.length),a=t(s),l=a.set,c=a.subscribe;let u;function f(){u=i.map((p,m)=>p.subscribe(h=>{o[m]=h,l(r(o))}))}function d(){u==null||u.forEach(p=>p())}return a.subscribe=function(m){const h=c(m);return()=>{h()}},[a,f,d]}}function ka(t,e){var n,r,s,i,o,a,l,c,u;const f=wa(t),d=e.initialValues=e.initialValues?At(wr(Xe(e.initialValues),e.transform)):{},p=gt(on(d),!1),m=t(p),h=t(0),[A,E,j]=f([m,h],([ye,re])=>dn(ye,Le=>!!Le)&&re>=1,!1);delete A.set,delete A.update;function L(ye){let re;return async function(Le,Ke,x,H=!1){if(!x||!Le)return;let st=Ke&&Object.keys(Ke).length>0?Ke:Ge(Le,[]);const lt=ya(H);if((!(re!=null&&re.signal.priority)||H)&&(re==null||re.abort(),re=lt),re.signal.priority&&!H)return;h.update(Ct=>Ct+1);const tn=Lo(Le,x);return tn.forEach(async Ct=>{const gn=await Ct;lt.signal.aborted||(st=Dt([st,gn]),ye.set(st))}),await Promise.all(tn),re=void 0,h.update(Ct=>Ct-1),st}}let g=Ge(p,[]);const C=t(d),y=Ge(p,[]),M=t(y),D=t(Xe(y)),[Y,be,q]=f([M,D],Dt,Xe(y)),Ee=Ge(p,[]),pe=t(Ee),Ie=t(Xe(Ee)),[ve,ie,Te]=f([pe,Ie],Dt,Xe(Ee)),[Ne,N,z]=f([Y,m],ba,Xe(y)),[V,ue,de]=f([ve,m],va,Xe(Ee));let ne=!1;const[me,Re,Ze]=f(Y,([ye])=>{var re;return ne?!dn(ye,Oe=>Array.isArray(Oe)?Oe.length>=1:!!Oe):(ne=!0,!e.validate&&!(!((re=e.debounced)===null||re===void 0)&&re.validate))},!e.validate&&!(!((n=e.debounced)===null||n===void 0)&&n.validate));delete me.set,delete me.update;const we=t(!1),Se=t(!1),De=t(null),$e=L(M),Ce=L(pe),O=L(D),_=L(Ie),$=Zn(O,(o=(s=(r=e.debounced)===null||r===void 0?void 0:r.validateTimeout)!==null&&s!==void 0?s:(i=e.debounced)===null||i===void 0?void 0:i.timeout)!==null&&o!==void 0?o:300,{onInit:()=>{h.update(ye=>ye+1)},onEnd:()=>{h.update(ye=>ye-1)}}),J=Zn(_,(u=(l=(a=e.debounced)===null||a===void 0?void 0:a.warnTimeout)!==null&&l!==void 0?l:(c=e.debounced)===null||c===void 0?void 0:c.timeout)!==null&&u!==void 0?u:300);async function ke(ye,re){var Oe;const Le=on(ye),Ke=$e(Le,g,re!=null?re:e.validate,!0);if(re)return Ke;const x=O(Le,g,(Oe=e.debounced)===null||Oe===void 0?void 0:Oe.validate,!0);return Dt(await Promise.all([Ke,x]))}async function S(ye,re){var Oe;const Le=on(ye),Ke=Ce(Le,g,re!=null?re:e.warn,!0);if(re)return Ke;const x=_(Le,g,(Oe=e.debounced)===null||Oe===void 0?void 0:Oe.warn,!0);return Dt(await Promise.all([Ke,x]))}let Ue=y,xe=Ee;function he(){const ye=C.subscribe(x=>{var H,st;const lt=on(x);$e(lt,g,e.validate),Ce(lt,g,e.warn),$(lt,g,(H=e.debounced)===null||H===void 0?void 0:H.validate),J(lt,g,(st=e.debounced)===null||st===void 0?void 0:st.warn)}),re=m.subscribe(x=>{g=Ge(x,[])}),Oe=Y.subscribe(x=>{Ue=x}),Le=ve.subscribe(x=>{xe=x});be(),Re(),ie(),N(),ue(),E();function Ke(){ye(),z(),q(),Te(),de(),Ze(),j(),re(),Oe(),Le()}return Ke}function Je(ye){M.set(ye(Ue)),D.set({})}function Ye(ye){pe.set(ye(xe)),Ie.set({})}function Pe(ye){Je(()=>ye)}function en(ye){Ye(()=>ye)}return Ne.set=Pe,Ne.update=Je,V.set=en,V.update=Ye,{data:C,errors:Ne,warnings:V,touched:m,isValid:me,isSubmitting:we,isDirty:Se,isValidating:A,interacted:De,validateErrors:ke,validateWarnings:S,cleanup:e.preventStoreStart?()=>{}:he(),start:he}}function Aa(t,e){var n,r;(n=t.extend)!==null&&n!==void 0||(t.extend=[]),(r=t.debounced)!==null&&r!==void 0||(t.debounced={}),t.validate&&!Array.isArray(t.validate)&&(t.validate=[t.validate]),t.debounced.validate&&!Array.isArray(t.debounced.validate)&&(t.debounced.validate=[t.debounced.validate]),t.transform&&!Array.isArray(t.transform)&&(t.transform=[t.transform]),t.warn&&!Array.isArray(t.warn)&&(t.warn=[t.warn]),t.debounced.warn&&!Array.isArray(t.debounced.warn)&&(t.debounced.warn=[t.debounced.warn]);function s(ie,{debounced:Te,level:Ne}={debounced:!1,level:"error"}){var N;const z=Ne==="error"?"validate":"warn";(N=t.debounced)!==null&&N!==void 0||(t.debounced={});const V=Te?t.debounced:t;V[z]?V[z]=[...V[z],ie]:V[z]=[ie]}function i(ie){t.transform?t.transform=[...t.transform,ie]:t.transform=[ie]}const o=Array.isArray(t.extend)?t.extend:[t.extend];let a=[];const l=()=>a,c=ie=>{a=ie},{isSubmitting:u,isValidating:f,data:d,errors:p,warnings:m,touched:h,isValid:A,isDirty:E,cleanup:j,start:L,validateErrors:g,validateWarnings:C,interacted:y}=ka(e.storeFactory,t),M=d.update,D=d.set,Y=ie=>M(Te=>At(wr(ie(Te),t.transform))),be=ie=>D(At(wr(ie,t.transform)));d.update=Y,d.set=be;const q=ma({extender:o,config:t,addValidator:s,addTransformer:i,validateErrors:g,validateWarnings:C,_getCurrentExtenders:l,stores:{data:d,errors:p,warnings:m,touched:h,isValid:A,isValidating:f,isSubmitting:u,isDirty:E,interacted:y}}),{createSubmitHandler:Ee,handleSubmit:pe}=q.public;a=o.map(ie=>ie({stage:"SETUP",errors:p,warnings:m,touched:h,data:d,isDirty:E,isValid:A,isValidating:f,isSubmitting:u,interacted:y,config:t,addValidator:s,addTransformer:i,setFields:q.public.setFields,reset:q.public.reset,validate:q.public.validate,handleSubmit:pe,createSubmitHandler:Ee}));const Ie=Object.assign({config:t,stores:{data:d,touched:h,errors:p,warnings:m,isSubmitting:u,isValidating:f,isValid:A,isDirty:E,interacted:y},createSubmitHandler:Ee,handleSubmit:pe,helpers:Object.assign(Object.assign({},q.public),{addTransformer:i,addValidator:s}),extender:o,_getCurrentExtenders:l,_setCurrentExtenders:c},q.private),{form:ve}=ha(Ie);return Object.assign({data:d,errors:p,warnings:m,touched:h,isValid:A,isSubmitting:u,isValidating:f,isDirty:E,interacted:y,form:ve,cleanup:j,startStores:L},q.public)}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function Ea(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function ai(t){var e=Aa(t!=null?t:{},{storeFactory:ot}),n=e.cleanup;e.startStores;var r=Ea(e,["cleanup","startStores"]);return Lr(n),r}var Ar={exports:{}},yr,ps;function Ca(){if(ps)return yr;ps=1;var t=1e3,e=t*60,n=e*60,r=n*24,s=r*7,i=r*365.25;yr=function(u,f){f=f||{};var d=typeof u;if(d==="string"&&u.length>0)return o(u);if(d==="number"&&isFinite(u))return f.long?l(u):a(u);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(u))};function o(u){if(u=String(u),!(u.length>100)){var f=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(u);if(!!f){var d=parseFloat(f[1]),p=(f[2]||"ms").toLowerCase();switch(p){case"years":case"year":case"yrs":case"yr":case"y":return d*i;case"weeks":case"week":case"w":return d*s;case"days":case"day":case"d":return d*r;case"hours":case"hour":case"hrs":case"hr":case"h":return d*n;case"minutes":case"minute":case"mins":case"min":case"m":return d*e;case"seconds":case"second":case"secs":case"sec":case"s":return d*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return d;default:return}}}}function a(u){var f=Math.abs(u);return f>=r?Math.round(u/r)+"d":f>=n?Math.round(u/n)+"h":f>=e?Math.round(u/e)+"m":f>=t?Math.round(u/t)+"s":u+"ms"}function l(u){var f=Math.abs(u);return f>=r?c(u,f,r,"day"):f>=n?c(u,f,n,"hour"):f>=e?c(u,f,e,"minute"):f>=t?c(u,f,t,"second"):u+" ms"}function c(u,f,d,p){var m=f>=d*1.5;return Math.round(u/d)+" "+p+(m?"s":"")}return yr}function Sa(t){n.debug=n,n.default=n,n.coerce=l,n.disable=i,n.enable=s,n.enabled=o,n.humanize=Ca(),n.destroy=c,Object.keys(t).forEach(u=>{n[u]=t[u]}),n.names=[],n.skips=[],n.formatters={};function e(u){let f=0;for(let d=0;d<u.length;d++)f=(f<<5)-f+u.charCodeAt(d),f|=0;return n.colors[Math.abs(f)%n.colors.length]}n.selectColor=e;function n(u){let f,d=null,p,m;function h(...A){if(!h.enabled)return;const E=h,j=Number(new Date),L=j-(f||j);E.diff=L,E.prev=f,E.curr=j,f=j,A[0]=n.coerce(A[0]),typeof A[0]!="string"&&A.unshift("%O");let g=0;A[0]=A[0].replace(/%([a-zA-Z%])/g,(y,M)=>{if(y==="%%")return"%";g++;const D=n.formatters[M];if(typeof D=="function"){const Y=A[g];y=D.call(E,Y),A.splice(g,1),g--}return y}),n.formatArgs.call(E,A),(E.log||n.log).apply(E,A)}return h.namespace=u,h.useColors=n.useColors(),h.color=n.selectColor(u),h.extend=r,h.destroy=n.destroy,Object.defineProperty(h,"enabled",{enumerable:!0,configurable:!1,get:()=>d!==null?d:(p!==n.namespaces&&(p=n.namespaces,m=n.enabled(u)),m),set:A=>{d=A}}),typeof n.init=="function"&&n.init(h),h}function r(u,f){const d=n(this.namespace+(typeof f>"u"?":":f)+u);return d.log=this.log,d}function s(u){n.save(u),n.namespaces=u,n.names=[],n.skips=[];let f;const d=(typeof u=="string"?u:"").split(/[\s,]+/),p=d.length;for(f=0;f<p;f++)!d[f]||(u=d[f].replace(/\*/g,".*?"),u[0]==="-"?n.skips.push(new RegExp("^"+u.slice(1)+"$")):n.names.push(new RegExp("^"+u+"$")))}function i(){const u=[...n.names.map(a),...n.skips.map(a).map(f=>"-"+f)].join(",");return n.enable(""),u}function o(u){if(u[u.length-1]==="*")return!0;let f,d;for(f=0,d=n.skips.length;f<d;f++)if(n.skips[f].test(u))return!1;for(f=0,d=n.names.length;f<d;f++)if(n.names[f].test(u))return!0;return!1}function a(u){return u.toString().substring(2,u.toString().length-2).replace(/\.\*\?$/,"*")}function l(u){return u instanceof Error?u.stack||u.message:u}function c(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return n.enable(n.load()),n}var xa=Sa;(function(t,e){e.formatArgs=r,e.save=s,e.load=i,e.useColors=n,e.storage=o(),e.destroy=(()=>{let l=!1;return()=>{l||(l=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function n(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function r(l){if(l[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+l[0]+(this.useColors?"%c ":" ")+"+"+t.exports.humanize(this.diff),!this.useColors)return;const c="color: "+this.color;l.splice(1,0,c,"color: inherit");let u=0,f=0;l[0].replace(/%[a-zA-Z%]/g,d=>{d!=="%%"&&(u++,d==="%c"&&(f=u))}),l.splice(f,0,c)}e.log=console.debug||console.log||(()=>{});function s(l){try{l?e.storage.setItem("debug",l):e.storage.removeItem("debug")}catch{}}function i(){let l;try{l=e.storage.getItem("debug")}catch{}return!l&&typeof process<"u"&&"env"in process&&(l=process.env.DEBUG),l}function o(){try{return localStorage}catch{}}t.exports=xa(e);const{formatters:a}=t.exports;a.j=function(l){try{return JSON.stringify(l)}catch(c){return"[UnexpectedJSONParseError]: "+c.message}}})(Ar,Ar.exports);const Ur=Ar.exports;var Ta=Ia,ut=[],ms="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var Cn=0,$a=ms.length;Cn<$a;++Cn)ut[Cn]=ms[Cn];function Oa(t){return ut[t>>18&63]+ut[t>>12&63]+ut[t>>6&63]+ut[t&63]}function Na(t,e,n){for(var r,s=[],i=e;i<n;i+=3)r=(t[i]<<16&16711680)+(t[i+1]<<8&65280)+(t[i+2]&255),s.push(Oa(r));return s.join("")}function Ia(t){for(var e,n=t.length,r=n%3,s=[],i=16383,o=0,a=n-r;o<a;o+=i)s.push(Na(t,o,o+i>a?a:o+i));return r===1?(e=t[n-1],s.push(ut[e>>2]+ut[e<<4&63]+"==")):r===2&&(e=(t[n-2]<<8)+t[n-1],s.push(ut[e>>10]+ut[e>>4&63]+ut[e<<2&63]+"=")),s.join("")}const ja=new TextEncoder;function Ra(t){return Ta(ja.encode(t))}var fe;(function(t){t.assertEqual=s=>s;function e(s){}t.assertIs=e;function n(s){throw new Error}t.assertNever=n,t.arrayToEnum=s=>{const i={};for(const o of s)i[o]=o;return i},t.getValidEnumValues=s=>{const i=t.objectKeys(s).filter(a=>typeof s[s[a]]!="number"),o={};for(const a of i)o[a]=s[a];return t.objectValues(o)},t.objectValues=s=>t.objectKeys(s).map(function(i){return s[i]}),t.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const i=[];for(const o in s)Object.prototype.hasOwnProperty.call(s,o)&&i.push(o);return i},t.find=(s,i)=>{for(const o of s)if(i(o))return o},t.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&isFinite(s)&&Math.floor(s)===s;function r(s,i=" | "){return s.map(o=>typeof o=="string"?`'${o}'`:o).join(i)}t.joinValues=r,t.jsonStringifyReplacer=(s,i)=>typeof i=="bigint"?i.toString():i})(fe||(fe={}));const R=fe.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Tt=t=>{switch(typeof t){case"undefined":return R.undefined;case"string":return R.string;case"number":return isNaN(t)?R.nan:R.number;case"boolean":return R.boolean;case"function":return R.function;case"bigint":return R.bigint;case"object":return Array.isArray(t)?R.array:t===null?R.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?R.promise:typeof Map<"u"&&t instanceof Map?R.map:typeof Set<"u"&&t instanceof Set?R.set:typeof Date<"u"&&t instanceof Date?R.date:R.object;default:return R.unknown}},I=fe.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of"]),La=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class kt extends Error{constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){const n=e||function(i){return i.message},r={_errors:[]},s=i=>{for(const o of i.issues)if(o.code==="invalid_union")o.unionErrors.map(s);else if(o.code==="invalid_return_type")s(o.returnTypeError);else if(o.code==="invalid_arguments")s(o.argumentsError);else if(o.path.length===0)r._errors.push(n(o));else{let a=r,l=0;for(;l<o.path.length;){const c=o.path[l];l===o.path.length-1?(a[c]=a[c]||{_errors:[]},a[c]._errors.push(n(o))):a[c]=a[c]||{_errors:[]},a=a[c],l++}}};return s(this),r}toString(){return this.message}get message(){return JSON.stringify(this.issues,fe.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},r=[];for(const s of this.issues)s.path.length>0?(n[s.path[0]]=n[s.path[0]]||[],n[s.path[0]].push(e(s))):r.push(e(s));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}kt.create=t=>new kt(t);const fn=(t,e)=>{let n;switch(t.code){case I.invalid_type:t.received===R.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case I.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,fe.jsonStringifyReplacer)}`;break;case I.unrecognized_keys:n=`Unrecognized key(s) in object: ${fe.joinValues(t.keys,", ")}`;break;case I.invalid_union:n="Invalid input";break;case I.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${fe.joinValues(t.options)}`;break;case I.invalid_enum_value:n=`Invalid enum value. Expected ${fe.joinValues(t.options)}, received '${t.received}'`;break;case I.invalid_arguments:n="Invalid function arguments";break;case I.invalid_return_type:n="Invalid function return type";break;case I.invalid_date:n="Invalid date";break;case I.invalid_string:typeof t.validation=="object"?"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:fe.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case I.too_small:t.type==="array"?n=`Array must contain ${t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be greater than ${t.inclusive?"or equal to ":""}${t.minimum}`:t.type==="date"?n=`Date must be greater than ${t.inclusive?"or equal to ":""}${new Date(t.minimum)}`:n="Invalid input";break;case I.too_big:t.type==="array"?n=`Array must contain ${t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be less than ${t.inclusive?"or equal to ":""}${t.maximum}`:t.type==="date"?n=`Date must be smaller than ${t.inclusive?"or equal to ":""}${new Date(t.maximum)}`:n="Invalid input";break;case I.custom:n="Invalid input";break;case I.invalid_intersection_types:n="Intersection results could not be merged";break;case I.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;default:n=e.defaultError,fe.assertNever(t)}return{message:n}};let li=fn;function Ma(t){li=t}function Pn(){return li}const Fn=t=>{const{data:e,path:n,errorMaps:r,issueData:s}=t,i=[...n,...s.path||[]],o={...s,path:i};let a="";const l=r.filter(c=>!!c).slice().reverse();for(const c of l)a=c(o,{data:e,defaultError:a}).message;return{...s,path:i,message:s.message||a}},Za=[];function W(t,e){const n=Fn({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,Pn(),fn].filter(r=>!!r)});t.common.issues.push(n)}class qe{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const s of n){if(s.status==="aborted")return G;s.status==="dirty"&&e.dirty(),r.push(s.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){const r=[];for(const s of n)r.push({key:await s.key,value:await s.value});return qe.mergeObjectSync(e,r)}static mergeObjectSync(e,n){const r={};for(const s of n){const{key:i,value:o}=s;if(i.status==="aborted"||o.status==="aborted")return G;i.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),(typeof o.value<"u"||s.alwaysSet)&&(r[i.value]=o.value)}return{status:e.value,value:r}}}const G=Object.freeze({status:"aborted"}),Pa=t=>({status:"dirty",value:t}),Be=t=>({status:"valid",value:t}),Er=t=>t.status==="aborted",Cr=t=>t.status==="dirty",Dn=t=>t.status==="valid",Sr=t=>typeof Promise!==void 0&&t instanceof Promise;var ce;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(ce||(ce={}));class mt{constructor(e,n,r,s){this.parent=e,this.data=n,this._path=r,this._key=s}get path(){return this._path.concat(this._key)}}const hs=(t,e)=>{if(Dn(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,error:new kt(t.common.issues)}};function te(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:r,description:s}=t;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:s}:{errorMap:(o,a)=>o.code!=="invalid_type"?{message:a.defaultError}:typeof a.data>"u"?{message:r!=null?r:a.defaultError}:{message:n!=null?n:a.defaultError},description:s}}class ee{constructor(e){this.spa=this.safeParseAsync,this.superRefine=this._refinement,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.default=this.default.bind(this),this.describe=this.describe.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return Tt(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:Tt(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new qe,ctx:{common:e.parent.common,data:e.data,parsedType:Tt(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(Sr(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){var r;const s={common:{issues:[],async:(r=n==null?void 0:n.async)!==null&&r!==void 0?r:!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Tt(e)},i=this._parseSync({data:e,path:s.path,parent:s});return hs(s,i)}async parseAsync(e,n){const r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Tt(e)},s=this._parse({data:e,path:[],parent:r}),i=await(Sr(s)?s:Promise.resolve(s));return hs(r,i)}refine(e,n){const r=s=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(s):n;return this._refinement((s,i)=>{const o=e(s),a=()=>i.addIssue({code:I.custom,...r(s)});return typeof Promise<"u"&&o instanceof Promise?o.then(l=>l?!0:(a(),!1)):o?!0:(a(),!1)})}refinement(e,n){return this._refinement((r,s)=>e(r)?!0:(s.addIssue(typeof n=="function"?n(r,s):n),!1))}_refinement(e){return new _t({schema:this,typeName:X.ZodEffects,effect:{type:"refinement",refinement:e}})}optional(){return pt.create(this)}nullable(){return Pt.create(this)}nullish(){return this.optional().nullable()}array(){return ht.create(this)}promise(){return Gt.create(this)}or(e){return pn.create([this,e])}and(e){return mn.create(this,e)}transform(e){return new _t({schema:this,typeName:X.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new Wr({innerType:this,defaultValue:n,typeName:X.ZodDefault})}brand(){return new ui({typeName:X.ZodBranded,type:this,...te(void 0)})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const Fa=/^c[^\s-]{8,}$/i,Da=/^([a-f0-9]{8}-[a-f0-9]{4}-[1-5][a-f0-9]{3}-[a-f0-9]{4}-[a-f0-9]{12}|00000000-0000-0000-0000-000000000000)$/i,Ua=/^(([^<>()[\]\.,;:\s@\"]+(\.[^<>()[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()[\]\.,;:\s@\"]+\.)+[^<>()[\]\.,;:\s@\"]{2,})$/i;class Ot extends ee{constructor(){super(...arguments),this._regex=(e,n,r)=>this.refinement(s=>e.test(s),{validation:n,code:I.invalid_string,...ce.errToObj(r)}),this.nonempty=e=>this.min(1,ce.errToObj(e)),this.trim=()=>new Ot({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}_parse(e){if(this._getType(e)!==R.string){const i=this._getOrReturnCtx(e);return W(i,{code:I.invalid_type,expected:R.string,received:i.parsedType}),G}const r=new qe;let s;for(const i of this._def.checks)if(i.kind==="min")e.data.length<i.value&&(s=this._getOrReturnCtx(e,s),W(s,{code:I.too_small,minimum:i.value,type:"string",inclusive:!0,message:i.message}),r.dirty());else if(i.kind==="max")e.data.length>i.value&&(s=this._getOrReturnCtx(e,s),W(s,{code:I.too_big,maximum:i.value,type:"string",inclusive:!0,message:i.message}),r.dirty());else if(i.kind==="email")Ua.test(e.data)||(s=this._getOrReturnCtx(e,s),W(s,{validation:"email",code:I.invalid_string,message:i.message}),r.dirty());else if(i.kind==="uuid")Da.test(e.data)||(s=this._getOrReturnCtx(e,s),W(s,{validation:"uuid",code:I.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid")Fa.test(e.data)||(s=this._getOrReturnCtx(e,s),W(s,{validation:"cuid",code:I.invalid_string,message:i.message}),r.dirty());else if(i.kind==="url")try{new URL(e.data)}catch{s=this._getOrReturnCtx(e,s),W(s,{validation:"url",code:I.invalid_string,message:i.message}),r.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(e.data)||(s=this._getOrReturnCtx(e,s),W(s,{validation:"regex",code:I.invalid_string,message:i.message}),r.dirty())):i.kind==="trim"?e.data=e.data.trim():i.kind==="startsWith"?e.data.startsWith(i.value)||(s=this._getOrReturnCtx(e,s),W(s,{code:I.invalid_string,validation:{startsWith:i.value},message:i.message}),r.dirty()):i.kind==="endsWith"?e.data.endsWith(i.value)||(s=this._getOrReturnCtx(e,s),W(s,{code:I.invalid_string,validation:{endsWith:i.value},message:i.message}),r.dirty()):fe.assertNever(i);return{status:r.value,value:e.data}}_addCheck(e){return new Ot({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...ce.errToObj(e)})}url(e){return this._addCheck({kind:"url",...ce.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...ce.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...ce.errToObj(e)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...ce.errToObj(n)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...ce.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...ce.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...ce.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...ce.errToObj(n)})}length(e,n){return this.min(e,n).max(e,n)}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}Ot.create=t=>new Ot({checks:[],typeName:X.ZodString,...te(t)});function Wa(t,e){const n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,s=n>r?n:r,i=parseInt(t.toFixed(s).replace(".","")),o=parseInt(e.toFixed(s).replace(".",""));return i%o/Math.pow(10,s)}class Mt extends ee{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._getType(e)!==R.number){const i=this._getOrReturnCtx(e);return W(i,{code:I.invalid_type,expected:R.number,received:i.parsedType}),G}let r;const s=new qe;for(const i of this._def.checks)i.kind==="int"?fe.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),W(r,{code:I.invalid_type,expected:"integer",received:"float",message:i.message}),s.dirty()):i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(r=this._getOrReturnCtx(e,r),W(r,{code:I.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(r=this._getOrReturnCtx(e,r),W(r,{code:I.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="multipleOf"?Wa(e.data,i.value)!==0&&(r=this._getOrReturnCtx(e,r),W(r,{code:I.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):fe.assertNever(i);return{status:s.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,ce.toString(n))}gt(e,n){return this.setLimit("min",e,!1,ce.toString(n))}lte(e,n){return this.setLimit("max",e,!0,ce.toString(n))}lt(e,n){return this.setLimit("max",e,!1,ce.toString(n))}setLimit(e,n,r,s){return new Mt({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:ce.toString(s)}]})}_addCheck(e){return new Mt({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:ce.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:ce.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:ce.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:ce.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:ce.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:ce.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int")}}Mt.create=t=>new Mt({checks:[],typeName:X.ZodNumber,...te(t)});class Un extends ee{_parse(e){if(this._getType(e)!==R.bigint){const r=this._getOrReturnCtx(e);return W(r,{code:I.invalid_type,expected:R.bigint,received:r.parsedType}),G}return Be(e.data)}}Un.create=t=>new Un({typeName:X.ZodBigInt,...te(t)});class Wn extends ee{_parse(e){if(this._getType(e)!==R.boolean){const r=this._getOrReturnCtx(e);return W(r,{code:I.invalid_type,expected:R.boolean,received:r.parsedType}),G}return Be(e.data)}}Wn.create=t=>new Wn({typeName:X.ZodBoolean,...te(t)});class Kt extends ee{_parse(e){if(this._getType(e)!==R.date){const i=this._getOrReturnCtx(e);return W(i,{code:I.invalid_type,expected:R.date,received:i.parsedType}),G}if(isNaN(e.data.getTime())){const i=this._getOrReturnCtx(e);return W(i,{code:I.invalid_date}),G}const r=new qe;let s;for(const i of this._def.checks)i.kind==="min"?e.data.getTime()<i.value&&(s=this._getOrReturnCtx(e,s),W(s,{code:I.too_small,message:i.message,inclusive:!0,minimum:i.value,type:"date"}),r.dirty()):i.kind==="max"?e.data.getTime()>i.value&&(s=this._getOrReturnCtx(e,s),W(s,{code:I.too_big,message:i.message,inclusive:!0,maximum:i.value,type:"date"}),r.dirty()):fe.assertNever(i);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Kt({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:ce.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:ce.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}Kt.create=t=>new Kt({checks:[],typeName:X.ZodDate,...te(t)});class zn extends ee{_parse(e){if(this._getType(e)!==R.undefined){const r=this._getOrReturnCtx(e);return W(r,{code:I.invalid_type,expected:R.undefined,received:r.parsedType}),G}return Be(e.data)}}zn.create=t=>new zn({typeName:X.ZodUndefined,...te(t)});class qn extends ee{_parse(e){if(this._getType(e)!==R.null){const r=this._getOrReturnCtx(e);return W(r,{code:I.invalid_type,expected:R.null,received:r.parsedType}),G}return Be(e.data)}}qn.create=t=>new qn({typeName:X.ZodNull,...te(t)});class Xt extends ee{constructor(){super(...arguments),this._any=!0}_parse(e){return Be(e.data)}}Xt.create=t=>new Xt({typeName:X.ZodAny,...te(t)});class Rt extends ee{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Be(e.data)}}Rt.create=t=>new Rt({typeName:X.ZodUnknown,...te(t)});class Et extends ee{_parse(e){const n=this._getOrReturnCtx(e);return W(n,{code:I.invalid_type,expected:R.never,received:n.parsedType}),G}}Et.create=t=>new Et({typeName:X.ZodNever,...te(t)});class Bn extends ee{_parse(e){if(this._getType(e)!==R.undefined){const r=this._getOrReturnCtx(e);return W(r,{code:I.invalid_type,expected:R.void,received:r.parsedType}),G}return Be(e.data)}}Bn.create=t=>new Bn({typeName:X.ZodVoid,...te(t)});class ht extends ee{_parse(e){const{ctx:n,status:r}=this._processInputParams(e),s=this._def;if(n.parsedType!==R.array)return W(n,{code:I.invalid_type,expected:R.array,received:n.parsedType}),G;if(s.minLength!==null&&n.data.length<s.minLength.value&&(W(n,{code:I.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,message:s.minLength.message}),r.dirty()),s.maxLength!==null&&n.data.length>s.maxLength.value&&(W(n,{code:I.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,message:s.maxLength.message}),r.dirty()),n.common.async)return Promise.all(n.data.map((o,a)=>s.type._parseAsync(new mt(n,o,n.path,a)))).then(o=>qe.mergeArray(r,o));const i=n.data.map((o,a)=>s.type._parseSync(new mt(n,o,n.path,a)));return qe.mergeArray(r,i)}get element(){return this._def.type}min(e,n){return new ht({...this._def,minLength:{value:e,message:ce.toString(n)}})}max(e,n){return new ht({...this._def,maxLength:{value:e,message:ce.toString(n)}})}length(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}ht.create=(t,e)=>new ht({type:t,minLength:null,maxLength:null,typeName:X.ZodArray,...te(e)});var Hn;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(Hn||(Hn={}));const ys=t=>e=>new Ae({...t,shape:()=>({...t.shape(),...e})});function Ut(t){if(t instanceof Ae){const e={};for(const n in t.shape){const r=t.shape[n];e[n]=pt.create(Ut(r))}return new Ae({...t._def,shape:()=>e})}else return t instanceof ht?ht.create(Ut(t.element)):t instanceof pt?pt.create(Ut(t.unwrap())):t instanceof Pt?Pt.create(Ut(t.unwrap())):t instanceof yt?yt.create(t.items.map(e=>Ut(e))):t}class Ae extends ee{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=ys(this._def),this.extend=ys(this._def)}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=fe.objectKeys(e);return this._cached={shape:e,keys:n}}_parse(e){if(this._getType(e)!==R.object){const c=this._getOrReturnCtx(e);return W(c,{code:I.invalid_type,expected:R.object,received:c.parsedType}),G}const{status:r,ctx:s}=this._processInputParams(e),{shape:i,keys:o}=this._getCached(),a=[];if(!(this._def.catchall instanceof Et&&this._def.unknownKeys==="strip"))for(const c in s.data)o.includes(c)||a.push(c);const l=[];for(const c of o){const u=i[c],f=s.data[c];l.push({key:{status:"valid",value:c},value:u._parse(new mt(s,f,s.path,c)),alwaysSet:c in s.data})}if(this._def.catchall instanceof Et){const c=this._def.unknownKeys;if(c==="passthrough")for(const u of a)l.push({key:{status:"valid",value:u},value:{status:"valid",value:s.data[u]}});else if(c==="strict")a.length>0&&(W(s,{code:I.unrecognized_keys,keys:a}),r.dirty());else if(c!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const c=this._def.catchall;for(const u of a){const f=s.data[u];l.push({key:{status:"valid",value:u},value:c._parse(new mt(s,f,s.path,u)),alwaysSet:u in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const c=[];for(const u of l){const f=await u.key;c.push({key:f,value:await u.value,alwaysSet:u.alwaysSet})}return c}).then(c=>qe.mergeObjectSync(r,c)):qe.mergeObjectSync(r,l)}get shape(){return this._def.shape()}strict(e){return ce.errToObj,new Ae({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,r)=>{var s,i,o,a;const l=(o=(i=(s=this._def).errorMap)===null||i===void 0?void 0:i.call(s,n,r).message)!==null&&o!==void 0?o:r.defaultError;return n.code==="unrecognized_keys"?{message:(a=ce.errToObj(e).message)!==null&&a!==void 0?a:l}:{message:l}}}:{}})}strip(){return new Ae({...this._def,unknownKeys:"strip"})}passthrough(){return new Ae({...this._def,unknownKeys:"passthrough"})}setKey(e,n){return this.augment({[e]:n})}merge(e){return new Ae({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>Hn.mergeShapes(this._def.shape(),e._def.shape()),typeName:X.ZodObject})}catchall(e){return new Ae({...this._def,catchall:e})}pick(e){const n={};return fe.objectKeys(e).map(r=>{this.shape[r]&&(n[r]=this.shape[r])}),new Ae({...this._def,shape:()=>n})}omit(e){const n={};return fe.objectKeys(this.shape).map(r=>{fe.objectKeys(e).indexOf(r)===-1&&(n[r]=this.shape[r])}),new Ae({...this._def,shape:()=>n})}deepPartial(){return Ut(this)}partial(e){const n={};if(e)return fe.objectKeys(this.shape).map(r=>{fe.objectKeys(e).indexOf(r)===-1?n[r]=this.shape[r]:n[r]=this.shape[r].optional()}),new Ae({...this._def,shape:()=>n});for(const r in this.shape){const s=this.shape[r];n[r]=s.optional()}return new Ae({...this._def,shape:()=>n})}required(){const e={};for(const n in this.shape){let s=this.shape[n];for(;s instanceof pt;)s=s._def.innerType;e[n]=s}return new Ae({...this._def,shape:()=>e})}keyof(){return ci(fe.objectKeys(this.shape))}}Ae.create=(t,e)=>new Ae({shape:()=>t,unknownKeys:"strip",catchall:Et.create(),typeName:X.ZodObject,...te(e)});Ae.strictCreate=(t,e)=>new Ae({shape:()=>t,unknownKeys:"strict",catchall:Et.create(),typeName:X.ZodObject,...te(e)});Ae.lazycreate=(t,e)=>new Ae({shape:t,unknownKeys:"strip",catchall:Et.create(),typeName:X.ZodObject,...te(e)});class pn extends ee{_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.options;function s(i){for(const a of i)if(a.result.status==="valid")return a.result;for(const a of i)if(a.result.status==="dirty")return n.common.issues.push(...a.ctx.common.issues),a.result;const o=i.map(a=>new kt(a.ctx.common.issues));return W(n,{code:I.invalid_union,unionErrors:o}),G}if(n.common.async)return Promise.all(r.map(async i=>{const o={...n,common:{...n.common,issues:[]},parent:null};return{result:await i._parseAsync({data:n.data,path:n.path,parent:o}),ctx:o}})).then(s);{let i;const o=[];for(const l of r){const c={...n,common:{...n.common,issues:[]},parent:null},u=l._parseSync({data:n.data,path:n.path,parent:c});if(u.status==="valid")return u;u.status==="dirty"&&!i&&(i={result:u,ctx:c}),c.common.issues.length&&o.push(c.common.issues)}if(i)return n.common.issues.push(...i.ctx.common.issues),i.result;const a=o.map(l=>new kt(l));return W(n,{code:I.invalid_union,unionErrors:a}),G}}get options(){return this._def.options}}pn.create=(t,e)=>new pn({options:t,typeName:X.ZodUnion,...te(e)});class ar extends ee{_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==R.object)return W(n,{code:I.invalid_type,expected:R.object,received:n.parsedType}),G;const r=this.discriminator,s=n.data[r],i=this.options.get(s);return i?n.common.async?i._parseAsync({data:n.data,path:n.path,parent:n}):i._parseSync({data:n.data,path:n.path,parent:n}):(W(n,{code:I.invalid_union_discriminator,options:this.validDiscriminatorValues,path:[r]}),G)}get discriminator(){return this._def.discriminator}get validDiscriminatorValues(){return Array.from(this.options.keys())}get options(){return this._def.options}static create(e,n,r){const s=new Map;try{n.forEach(i=>{const o=i.shape[e].value;s.set(o,i)})}catch{throw new Error("The discriminator value could not be extracted from all the provided schemas")}if(s.size!==n.length)throw new Error("Some of the discriminator values are not unique");return new ar({typeName:X.ZodDiscriminatedUnion,discriminator:e,options:s,...te(r)})}}function xr(t,e){const n=Tt(t),r=Tt(e);if(t===e)return{valid:!0,data:t};if(n===R.object&&r===R.object){const s=fe.objectKeys(e),i=fe.objectKeys(t).filter(a=>s.indexOf(a)!==-1),o={...t,...e};for(const a of i){const l=xr(t[a],e[a]);if(!l.valid)return{valid:!1};o[a]=l.data}return{valid:!0,data:o}}else if(n===R.array&&r===R.array){if(t.length!==e.length)return{valid:!1};const s=[];for(let i=0;i<t.length;i++){const o=t[i],a=e[i],l=xr(o,a);if(!l.valid)return{valid:!1};s.push(l.data)}return{valid:!0,data:s}}else return n===R.date&&r===R.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class mn extends ee{_parse(e){const{status:n,ctx:r}=this._processInputParams(e),s=(i,o)=>{if(Er(i)||Er(o))return G;const a=xr(i.value,o.value);return a.valid?((Cr(i)||Cr(o))&&n.dirty(),{status:n.value,value:a.data}):(W(r,{code:I.invalid_intersection_types}),G)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([i,o])=>s(i,o)):s(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}mn.create=(t,e,n)=>new mn({left:t,right:e,typeName:X.ZodIntersection,...te(n)});class yt extends ee{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==R.array)return W(r,{code:I.invalid_type,expected:R.array,received:r.parsedType}),G;if(r.data.length<this._def.items.length)return W(r,{code:I.too_small,minimum:this._def.items.length,inclusive:!0,type:"array"}),G;!this._def.rest&&r.data.length>this._def.items.length&&(W(r,{code:I.too_big,maximum:this._def.items.length,inclusive:!0,type:"array"}),n.dirty());const i=r.data.map((o,a)=>{const l=this._def.items[a]||this._def.rest;return l?l._parse(new mt(r,o,r.path,a)):null}).filter(o=>!!o);return r.common.async?Promise.all(i).then(o=>qe.mergeArray(n,o)):qe.mergeArray(n,i)}get items(){return this._def.items}rest(e){return new yt({...this._def,rest:e})}}yt.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new yt({items:t,typeName:X.ZodTuple,rest:null,...te(e)})};class hn extends ee{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==R.object)return W(r,{code:I.invalid_type,expected:R.object,received:r.parsedType}),G;const s=[],i=this._def.keyType,o=this._def.valueType;for(const a in r.data)s.push({key:i._parse(new mt(r,a,r.path,a)),value:o._parse(new mt(r,r.data[a],r.path,a))});return r.common.async?qe.mergeObjectAsync(n,s):qe.mergeObjectSync(n,s)}get element(){return this._def.valueType}static create(e,n,r){return n instanceof ee?new hn({keyType:e,valueType:n,typeName:X.ZodRecord,...te(r)}):new hn({keyType:Ot.create(),valueType:e,typeName:X.ZodRecord,...te(n)})}}class Vn extends ee{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==R.map)return W(r,{code:I.invalid_type,expected:R.map,received:r.parsedType}),G;const s=this._def.keyType,i=this._def.valueType,o=[...r.data.entries()].map(([a,l],c)=>({key:s._parse(new mt(r,a,r.path,[c,"key"])),value:i._parse(new mt(r,l,r.path,[c,"value"]))}));if(r.common.async){const a=new Map;return Promise.resolve().then(async()=>{for(const l of o){const c=await l.key,u=await l.value;if(c.status==="aborted"||u.status==="aborted")return G;(c.status==="dirty"||u.status==="dirty")&&n.dirty(),a.set(c.value,u.value)}return{status:n.value,value:a}})}else{const a=new Map;for(const l of o){const c=l.key,u=l.value;if(c.status==="aborted"||u.status==="aborted")return G;(c.status==="dirty"||u.status==="dirty")&&n.dirty(),a.set(c.value,u.value)}return{status:n.value,value:a}}}}Vn.create=(t,e,n)=>new Vn({valueType:e,keyType:t,typeName:X.ZodMap,...te(n)});class Zt extends ee{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==R.set)return W(r,{code:I.invalid_type,expected:R.set,received:r.parsedType}),G;const s=this._def;s.minSize!==null&&r.data.size<s.minSize.value&&(W(r,{code:I.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,message:s.minSize.message}),n.dirty()),s.maxSize!==null&&r.data.size>s.maxSize.value&&(W(r,{code:I.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,message:s.maxSize.message}),n.dirty());const i=this._def.valueType;function o(l){const c=new Set;for(const u of l){if(u.status==="aborted")return G;u.status==="dirty"&&n.dirty(),c.add(u.value)}return{status:n.value,value:c}}const a=[...r.data.values()].map((l,c)=>i._parse(new mt(r,l,r.path,c)));return r.common.async?Promise.all(a).then(l=>o(l)):o(a)}min(e,n){return new Zt({...this._def,minSize:{value:e,message:ce.toString(n)}})}max(e,n){return new Zt({...this._def,maxSize:{value:e,message:ce.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}Zt.create=(t,e)=>new Zt({valueType:t,minSize:null,maxSize:null,typeName:X.ZodSet,...te(e)});class Ht extends ee{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==R.function)return W(n,{code:I.invalid_type,expected:R.function,received:n.parsedType}),G;function r(a,l){return Fn({data:a,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,Pn(),fn].filter(c=>!!c),issueData:{code:I.invalid_arguments,argumentsError:l}})}function s(a,l){return Fn({data:a,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,Pn(),fn].filter(c=>!!c),issueData:{code:I.invalid_return_type,returnTypeError:l}})}const i={errorMap:n.common.contextualErrorMap},o=n.data;return this._def.returns instanceof Gt?Be(async(...a)=>{const l=new kt([]),c=await this._def.args.parseAsync(a,i).catch(d=>{throw l.addIssue(r(a,d)),l}),u=await o(...c);return await this._def.returns._def.type.parseAsync(u,i).catch(d=>{throw l.addIssue(s(u,d)),l})}):Be((...a)=>{const l=this._def.args.safeParse(a,i);if(!l.success)throw new kt([r(a,l.error)]);const c=o(...l.data),u=this._def.returns.safeParse(c,i);if(!u.success)throw new kt([s(c,u.error)]);return u.data})}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new Ht({...this._def,args:yt.create(e).rest(Rt.create())})}returns(e){return new Ht({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,n,r){return new Ht({args:e||yt.create([]).rest(Rt.create()),returns:n||Rt.create(),typeName:X.ZodFunction,...te(r)})}}class Jn extends ee{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}Jn.create=(t,e)=>new Jn({getter:t,typeName:X.ZodLazy,...te(e)});class Yn extends ee{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return W(n,{code:I.invalid_literal,expected:this._def.value}),G}return{status:"valid",value:e.data}}get value(){return this._def.value}}Yn.create=(t,e)=>new Yn({value:t,typeName:X.ZodLiteral,...te(e)});function ci(t,e){return new lr({values:t,typeName:X.ZodEnum,...te(e)})}class lr extends ee{_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),r=this._def.values;return W(n,{expected:fe.joinValues(r),received:n.parsedType,code:I.invalid_type}),G}if(this._def.values.indexOf(e.data)===-1){const n=this._getOrReturnCtx(e),r=this._def.values;return W(n,{received:n.data,code:I.invalid_enum_value,options:r}),G}return Be(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}}lr.create=ci;class Kn extends ee{_parse(e){const n=fe.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==R.string&&r.parsedType!==R.number){const s=fe.objectValues(n);return W(r,{expected:fe.joinValues(s),received:r.parsedType,code:I.invalid_type}),G}if(n.indexOf(e.data)===-1){const s=fe.objectValues(n);return W(r,{received:r.data,code:I.invalid_enum_value,options:s}),G}return Be(e.data)}get enum(){return this._def.values}}Kn.create=(t,e)=>new Kn({values:t,typeName:X.ZodNativeEnum,...te(e)});class Gt extends ee{_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==R.promise&&n.common.async===!1)return W(n,{code:I.invalid_type,expected:R.promise,received:n.parsedType}),G;const r=n.parsedType===R.promise?n.data:Promise.resolve(n.data);return Be(r.then(s=>this._def.type.parseAsync(s,{path:n.path,errorMap:n.common.contextualErrorMap})))}}Gt.create=(t,e)=>new Gt({type:t,typeName:X.ZodPromise,...te(e)});class _t extends ee{innerType(){return this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),s=this._def.effect||null;if(s.type==="preprocess"){const o=s.transform(r.data);return r.common.async?Promise.resolve(o).then(a=>this._def.schema._parseAsync({data:a,path:r.path,parent:r})):this._def.schema._parseSync({data:o,path:r.path,parent:r})}const i={addIssue:o=>{W(r,o),o.fatal?n.abort():n.dirty()},get path(){return r.path}};if(i.addIssue=i.addIssue.bind(i),s.type==="refinement"){const o=a=>{const l=s.refinement(a,i);if(r.common.async)return Promise.resolve(l);if(l instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return a};if(r.common.async===!1){const a=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?G:(a.status==="dirty"&&n.dirty(),o(a.value),{status:n.value,value:a.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(a=>a.status==="aborted"?G:(a.status==="dirty"&&n.dirty(),o(a.value).then(()=>({status:n.value,value:a.value}))))}if(s.type==="transform")if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!Dn(o))return o;const a=s.transform(o.value,i);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:a}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>Dn(o)?Promise.resolve(s.transform(o.value,i)).then(a=>({status:n.value,value:a})):o);fe.assertNever(s)}}_t.create=(t,e,n)=>new _t({schema:t,typeName:X.ZodEffects,effect:e,...te(n)});_t.createWithPreprocess=(t,e,n)=>new _t({schema:e,effect:{type:"preprocess",transform:t},typeName:X.ZodEffects,...te(n)});class pt extends ee{_parse(e){return this._getType(e)===R.undefined?Be(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}pt.create=(t,e)=>new pt({innerType:t,typeName:X.ZodOptional,...te(e)});class Pt extends ee{_parse(e){return this._getType(e)===R.null?Be(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Pt.create=(t,e)=>new Pt({innerType:t,typeName:X.ZodNullable,...te(e)});class Wr extends ee{_parse(e){const{ctx:n}=this._processInputParams(e);let r=n.data;return n.parsedType===R.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}Wr.create=(t,e)=>new pt({innerType:t,typeName:X.ZodOptional,...te(e)});class Xn extends ee{_parse(e){if(this._getType(e)!==R.nan){const r=this._getOrReturnCtx(e);return W(r,{code:I.invalid_type,expected:R.nan,received:r.parsedType}),G}return{status:"valid",value:e.data}}}Xn.create=t=>new Xn({typeName:X.ZodNaN,...te(t)});const za=Symbol("zod_brand");class ui extends ee{_parse(e){const{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}const di=(t,e={},n)=>t?Xt.create().superRefine((r,s)=>{if(!t(r)){const i=typeof e=="function"?e(r):e,o=typeof i=="string"?{message:i}:i;s.addIssue({code:"custom",...o,fatal:n})}}):Xt.create(),qa={object:Ae.lazycreate};var X;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded"})(X||(X={}));const Ba=(t,e={message:`Input not instance of ${t.name}`})=>di(n=>n instanceof t,e,!0),fi=Ot.create,pi=Mt.create,Ha=Xn.create,Va=Un.create,mi=Wn.create,Ja=Kt.create,Ya=zn.create,Ka=qn.create,Xa=Xt.create,Ga=Rt.create,Qa=Et.create,el=Bn.create,tl=ht.create,nl=Ae.create,rl=Ae.strictCreate,sl=pn.create,il=ar.create,ol=mn.create,al=yt.create,ll=hn.create,cl=Vn.create,ul=Zt.create,dl=Ht.create,fl=Jn.create,pl=Yn.create,ml=lr.create,hl=Kn.create,yl=Gt.create,_s=_t.create,_l=pt.create,gl=Pt.create,bl=_t.createWithPreprocess,vl=()=>fi().optional(),wl=()=>pi().optional(),kl=()=>mi().optional(),Al=G;var B=Object.freeze({__proto__:null,getParsedType:Tt,ZodParsedType:R,defaultErrorMap:fn,setErrorMap:Ma,getErrorMap:Pn,makeIssue:Fn,EMPTY_PATH:Za,addIssueToContext:W,ParseStatus:qe,INVALID:G,DIRTY:Pa,OK:Be,isAborted:Er,isDirty:Cr,isValid:Dn,isAsync:Sr,ZodType:ee,ZodString:Ot,ZodNumber:Mt,ZodBigInt:Un,ZodBoolean:Wn,ZodDate:Kt,ZodUndefined:zn,ZodNull:qn,ZodAny:Xt,ZodUnknown:Rt,ZodNever:Et,ZodVoid:Bn,ZodArray:ht,get objectUtil(){return Hn},ZodObject:Ae,ZodUnion:pn,ZodDiscriminatedUnion:ar,ZodIntersection:mn,ZodTuple:yt,ZodRecord:hn,ZodMap:Vn,ZodSet:Zt,ZodFunction:Ht,ZodLazy:Jn,ZodLiteral:Yn,ZodEnum:lr,ZodNativeEnum:Kn,ZodPromise:Gt,ZodEffects:_t,ZodTransformer:_t,ZodOptional:pt,ZodNullable:Pt,ZodDefault:Wr,ZodNaN:Xn,BRAND:za,ZodBranded:ui,custom:di,Schema:ee,ZodSchema:ee,late:qa,get ZodFirstPartyTypeKind(){return X},any:Xa,array:tl,bigint:Va,boolean:mi,date:Ja,discriminatedUnion:il,effect:_s,enum:ml,function:dl,instanceof:Ba,intersection:ol,lazy:fl,literal:pl,map:cl,nan:Ha,nativeEnum:hl,never:Qa,null:Ka,nullable:gl,number:pi,object:nl,oboolean:kl,onumber:wl,optional:_l,ostring:vl,preprocess:bl,promise:yl,record:ll,set:ul,strictObject:rl,string:fi,transformer:_s,tuple:al,undefined:Ya,union:sl,unknown:Ga,void:el,NEVER:Al,ZodIssueCode:I,quotelessJson:La,ZodError:kt});function El(t){if(/\s/.test(t))throw new Error("Can't contain whitespace");return t=t.replace(/(\w)-(\w)/g,(e,n,r)=>{const s=n.charCodeAt(0),i=r.charCodeAt(0);if(n.length!==1||s>255)throw new Error(`Invalid starting character in range "${e}"`);if(r.length!==1||i>255)throw new Error(`Invalid ending character in range "${e}"`);if(s>i)throw new Error(`Invalid range "${e}"`);let o="";for(let a=s;a<=i;a++)o+=String.fromCharCode(a);return o}),t.replace(/[^\\]-|[^\\]-\W|^-\W|^-\w?/,e=>{throw new Error(`Unterminated range "${e}"`)}),t=t.replace(/\\(.)/g,"$1"),Array.from(new Set(t.split(""))).sort()}function gs(t){try{return El(t),!0}catch{return!1}}const zr=1,cr=B.object({domain:B.string().trim().min(1,"Domain name can't be empty").refine(t=>!/[A-Z]/.test(t),"Domain name must be lower case").refine(t=>t!=="derivepass",'"derivepass" domain is reserved').refine(t=>!/^(www|\w+:\/\/)/.test(t),"Domain name should not start with `www.`, `http://`, or any `schema://`"),login:B.string().trim().min(1,"Username can't be empty"),revision:B.number().positive("Revision must be a positive number"),allowedChars:B.string().trim().min(1,"Allowed characters can't be empty").refine(gs,"Allowed characters contain invalid range"),requiredChars:B.string().trim().refine(gs,"Allowed characters contain invalid range"),passwordLen:B.number().positive()}),qr=B.object({id:B.string().min(1),version:B.literal(zr)});qr.and(cr);const hi=qr.and(B.object({encrypted:B.string(),modifiedAt:B.number(),removed:B.optional(B.boolean())})),Cl=qr.and(B.object({encrypted:B.string(),removed:B.optional(B.boolean())}));hi.and(B.object({decrypted:B.optional(cr)}));const Sl=B.object({host:B.string(),token:B.string(),lastModifiedAt:B.number(),lastSyncedAt:B.number(),localLastModifiedAt:B.number()}),xl=B.object({token:B.string()}),Tl=B.object({objects:B.array(B.object({id:B.string(),data:B.string(),modifiedAt:B.number()}))}),$l=B.object({modifiedAt:B.number()}),Ol=B.object({uuid:B.string(),changedAt:B.number(),removed:B.boolean(),domain:B.string(),login:B.string(),revision:B.string(),options:B.string()}),Nl=B.object({allowed:B.string().trim(),required:B.string().trim(),maxLength:B.number().or(B.string())}),ze=Ur("dp:stores:remoteSync"),Tr=`${Ys}remote-state`,It=ot(),yi=ot(0);let Sn;function _i(){Sn!==void 0&&clearTimeout(Sn),Sn=setTimeout(()=>{Sn=void 0,ur()},Js)}async function Il({host:t,username:e,password:n}){const r=Ra(`${e}:${n}`),s=await fetch(`https://${t}/user/token`,{method:"PUT",headers:{authorization:`Basic ${r}`,accept:"application/json"}});if(!s.ok)throw new Error("Request failed");const{token:i}=xl.parse(await s.json()),o={host:t,token:i,lastModifiedAt:0,localLastModifiedAt:0,lastSyncedAt:0};It.set(o),ur()}function $r(t){return{authorization:`Bearer ${t.token}`,accept:"application/json","content-type":"application/json"}}async function gi(t){let e=!0;if(It.update(n=>{if(n!==t)return n;e=!1}),!(t===void 0||e))try{await fetch(`https://${t.host}/user/token`,{method:"DELETE",headers:$r(t),body:JSON.stringify({token:t.token})})}catch(n){ze("failed to delete old token",n)}}function ur(){ze("trigger sync"),yi.update(t=>t+1)}async function bs(t,e){if((e.status===401||e.status===403)&&await gi(t),!e.ok){const n=await e.text();throw new Error(`Failed to send request: ${n}`)}}async function jl(t,e){const n=new Map;if(t===void 0)return{updated:n};const r=`https://${t.host}/objects`,s=await fetch(`${r}?since=${t.lastModifiedAt}`,{headers:$r(t)});await bs(t,s);const{objects:i}=Tl.parse(await s.json());ze("got %d remote objects since %j",i.length,t.lastModifiedAt,i);const o=new Map(e.map(d=>[d.id,d]));let a=t.lastModifiedAt;for(const{id:d,data:p,modifiedAt:m}of i){a=Math.max(a,m),o.delete(d);let h;try{h=Cl.parse(JSON.parse(p))}catch(A){ze("failed to parse remote application",p,A);continue}n.set(h.id,h)}const l=new Array;let c=t.localLastModifiedAt;const u=Array.from(o.values()).sort((d,p)=>d.modifiedAt-p.modifiedAt);for(const d of u)d.modifiedAt<=t.localLastModifiedAt||(c=Math.max(c,d.modifiedAt),l.push({id:d.id,version:d.version,encrypted:d.encrypted,removed:d.removed}));if(l.length>0){ze("uploading %d new objects since %j",l.length,t.localLastModifiedAt);const d=await fetch(r,{method:"PUT",headers:$r(t),body:JSON.stringify({objects:l.map(m=>({id:m.id,data:m}))})});await bs(t,d),a=$l.parse(await d.json()).modifiedAt}const f={...t,lastModifiedAt:a,localLastModifiedAt:c,lastSyncedAt:Date.now()};return It.update(d=>d!==t?d:f),{updated:n}}function Rl(t,e,n,{updated:r}){if(r.size===0){ze("no changes, not applying results");return}e.update(s=>{const{localLastModifiedAt:i}=t;let o=i;const a=s.map(l=>{const c=r.get(l.id);return r.delete(l.id),l.modifiedAt>i?(ze("app %j modified in flight",l.id),l):c===void 0?l:(o=n.next(),ze("updated app %j",l.id),{...l,encrypted:c.encrypted,modifiedAt:o})});for(const l of r.values())o=n.next(),ze("added app %j",l.id),a.push({...l,modifiedAt:o});return It.update(l=>{if(l===t)return{...l,localLastModifiedAt:o}}),a})}function Ll(t,e){let n;It.subscribe(i=>n=i);const r=rr([t,yi],([i])=>i);let s=0;r.subscribe(async i=>{if(_i(),n===void 0){ze("no remote state, not sync");return}if(++s!==1){ze("%d syncs already running",s);return}ze("starting sync");try{const o=await jl(n,i);Rl(n,t,e,o)}catch(o){ze("failed to run sync or apply sync results",o)}--s!==0&&(s=0,ze("re-triggering sync"),ur())})}const vs=localStorage.getItem(Tr);if(vs)try{It.set(Sl.parse(JSON.parse(vs)))}catch(t){ze("Failed to update remote state store",t)}_i();It.subscribe(async t=>{if(t===void 0){localStorage.removeItem(Tr);return}localStorage.setItem(Tr,JSON.stringify(t))});function Ml(t){let e,n,r,s,i,o,a,l,c,u,f,d,p,m,h,A,E,j,L,g;s=new ct({props:{required:!0,name:"host",label:"Storage server hostname",placeholder:"storage.example.com"}}),s.$on("input",t[4]),s.$on("change",t[5]),s.$on("focus",t[6]),s.$on("blur",t[7]),o=new ct({props:{required:!0,name:"username",label:"Username",placeholder:"me@my.server"}}),o.$on("input",t[8]),o.$on("change",t[9]),o.$on("focus",t[10]),o.$on("blur",t[11]),l=new ct({props:{required:!0,name:"password",type:"password",label:"Password"}}),l.$on("input",t[12]),l.$on("change",t[13]),l.$on("focus",t[14]),l.$on("blur",t[15]);let C=t[0]!==void 0&&ws(t);return A=new jt({props:{href:"https://github.com/derivepass/derivepass-storage#readme",$$slots:{default:[Pl]},$$scope:{ctx:t}}}),{c(){e=T("h2"),e.textContent="Setup Synchronization",n=U(),r=T("form"),le(s.$$.fragment),i=U(),le(o.$$.fragment),a=U(),le(l.$$.fragment),c=U(),C&&C.c(),u=U(),f=T("button"),f.textContent="Login",d=U(),p=T("p"),m=T("small"),h=P(`See
      `),le(A.$$.fragment),E=P(`
      for instructions on running your own storage server.`),b(e,"class","text-3xl mb-4"),b(f,"type","submit"),b(f,"class","px-4 py-2 rounded bg-blue-600 hover:bg-blue-700 active:bg-blue-800 text-white disabled:bg-blue-400"),b(p,"class","mt-4")},m(y,M){w(y,e,M),w(y,n,M),w(y,r,M),oe(s,r,null),k(r,i),oe(o,r,null),k(r,a),oe(l,r,null),k(r,c),C&&C.m(r,null),k(r,u),k(r,f),w(y,d,M),w(y,p,M),k(p,m),k(m,h),oe(A,m,null),k(m,E),j=!0,L||(g=Jt(t[2].call(null,r)),L=!0)},p(y,M){y[0]!==void 0?C?C.p(y,M):(C=ws(y),C.c(),C.m(r,u)):C&&(C.d(1),C=null);const D={};M&65536&&(D.$$scope={dirty:M,ctx:y}),A.$set(D)},i(y){j||(Z(s.$$.fragment,y),Z(o.$$.fragment,y),Z(l.$$.fragment,y),Z(A.$$.fragment,y),j=!0)},o(y){F(s.$$.fragment,y),F(o.$$.fragment,y),F(l.$$.fragment,y),F(A.$$.fragment,y),j=!1},d(y){y&&v(e),y&&v(n),y&&v(r),ae(s),ae(o),ae(l),C&&C.d(),y&&v(d),y&&v(p),ae(A),L=!1,g()}}}function Zl(t){let e,n,r,s,i,o,a,l,c,u;function f(m,h){return m[1].lastSyncedAt?Dl:Fl}let d=f(t),p=d(t);return{c(){e=T("h2"),e.textContent="Synchronization",n=U(),r=T("p"),p.c(),s=U(),i=T("section"),o=T("button"),o.textContent="Sync Now",a=U(),l=T("button"),l.textContent="Unlink",b(e,"class","text-3xl mb-4"),b(r,"class","my-2"),b(o,"type","button"),b(o,"class","px-4 py-2 rounded bg-blue-600 hover:bg-blue-700 active:bg-blue-800 text-white disabled:bg-blue-400"),b(l,"type","reset"),b(l,"class","px-4 py-2 rounded bg-red-500 hover:bg-red-600 text-white disabled:bg-red-400"),b(i,"class","mt-4 flex gap-1")},m(m,h){w(m,e,h),w(m,n,h),w(m,r,h),p.m(r,null),w(m,s,h),w(m,i,h),k(i,o),k(i,a),k(i,l),c||(u=[We(o,"click",tt(ur)),We(l,"click",tt(t[3]))],c=!0)},p(m,h){d===(d=f(m))&&p?p.p(m,h):(p.d(1),p=d(m),p&&(p.c(),p.m(r,null)))},i:K,o:K,d(m){m&&v(e),m&&v(n),m&&v(r),p.d(),m&&v(s),m&&v(i),c=!1,rt(u)}}}function ws(t){let e,n;return{c(){e=T("p"),n=P(t[0]),b(e,"class","my-2 text-red-500")},m(r,s){w(r,e,s),k(e,n)},p(r,s){s&1&&it(n,r[0])},d(r){r&&v(e)}}}function Pl(t){let e;return{c(){e=P("derivepass-storage")},m(n,r){w(n,e,r)},d(n){n&&v(e)}}}function Fl(t){let e,n,r=t[1].host+"",s,i;return{c(){e=P("Awaiting initial sync with "),n=T("b"),s=P(r),i=P(".")},m(o,a){w(o,e,a),w(o,n,a),k(n,s),w(o,i,a)},p(o,a){a&2&&r!==(r=o[1].host+"")&&it(s,r)},d(o){o&&v(e),o&&v(n),o&&v(i)}}}function Dl(t){let e,n,r=t[1].host+"",s,i,o,a,l,c=new Date(t[1].lastSyncedAt).toLocaleString()+"",u,f;return{c(){e=P("Last synchronized with "),n=T("b"),s=P(r),i=U(),o=T("br"),a=P(`
      on `),l=T("b"),u=P(c),f=P(".")},m(d,p){w(d,e,p),w(d,n,p),k(n,s),w(d,i,p),w(d,o,p),w(d,a,p),w(d,l,p),k(l,u),w(d,f,p)},p(d,p){p&2&&r!==(r=d[1].host+"")&&it(s,r),p&2&&c!==(c=new Date(d[1].lastSyncedAt).toLocaleString()+"")&&it(u,c)},d(d){d&&v(e),d&&v(n),d&&v(i),d&&v(o),d&&v(a),d&&v(l),d&&v(f)}}}function Ul(t){let e,n,r,s;const i=[Zl,Ml],o=[];function a(l,c){return l[1]?0:1}return e=a(t),n=o[e]=i[e](t),{c(){n.c(),r=Nt()},m(l,c){o[e].m(l,c),w(l,r,c),s=!0},p(l,[c]){let u=e;e=a(l),e===u?o[e].p(l,c):(Qe(),F(o[u],1,1,()=>{o[u]=null}),et(),n=o[e],n?n.p(l,c):(n=o[e]=i[e](l),n.c()),Z(n,1),n.m(r.parentNode,r))},i(l){s||(Z(n),s=!0)},o(l){F(n),s=!1},d(l){o[e].d(l),l&&v(r)}}}function Wl(t,e,n){var L;let r;nt(t,It,g=>n(1,r=g));let s;const{form:i}=ai({initialValues:{host:(L=r==null?void 0:r.host)!=null?L:"",username:"",password:""},async onSubmit(g){return n(0,s=void 0),Il(g)},onError(){n(0,s="Invalid credentials or unreachable server")}}),o=()=>gi(r);function a(g){Q.call(this,t,g)}function l(g){Q.call(this,t,g)}function c(g){Q.call(this,t,g)}function u(g){Q.call(this,t,g)}function f(g){Q.call(this,t,g)}function d(g){Q.call(this,t,g)}function p(g){Q.call(this,t,g)}function m(g){Q.call(this,t,g)}function h(g){Q.call(this,t,g)}function A(g){Q.call(this,t,g)}function E(g){Q.call(this,t,g)}function j(g){Q.call(this,t,g)}return[s,r,i,o,a,l,c,u,f,d,p,m,h,A,E,j]}class zl extends Ve{constructor(e){super(),He(this,e,Wl,Ul,Fe,{})}}function ql(t){let e,n,r,s,i,o,a,l;return{c(){e=T("a"),n=T("h3"),r=P(t[1]),s=U(),i=P(t[2]),b(n,"class","text-lg font-semibold"),b(e,"href",o="/applications/"+t[0]),b(e,"class","px-4 text-blue-600 py-8 rounded border my-4 flex flex-col hover:bg-gray-100")},m(c,u){w(c,e,u),k(e,n),k(n,r),k(e,s),k(e,i),a||(l=Jt(Pr.call(null,e)),a=!0)},p(c,[u]){u&2&&it(r,c[1]),u&4&&it(i,c[2]),u&1&&o!==(o="/applications/"+c[0])&&b(e,"href",o)},i:K,o:K,d(c){c&&v(e),a=!1,l()}}}function Bl(t,e,n){let{id:r}=e,{domain:s}=e,{login:i}=e;return t.$$set=o=>{"id"in o&&n(0,r=o.id),"domain"in o&&n(1,s=o.domain),"login"in o&&n(2,i=o.login)},[r,s,i]}class Hl extends Ve{constructor(e){super(),He(this,e,Bl,ql,Fe,{id:0,domain:1,login:2})}}let bi=(t=21)=>crypto.getRandomValues(new Uint8Array(t)).reduce((e,n)=>(n&=63,n<36?e+=n.toString(36):n<62?e+=(n-26).toString(36).toUpperCase():n>62?e+="-":e+="_",e),"");const Vl=new TextEncoder,Or=new TextDecoder,Jl=16;function vi({aes:t,hmac:e},n){const r=Vl.encode(JSON.stringify(n)),s=new Uint8Array(Jl);return window.crypto.getRandomValues(s),ho(lo(t,e,s,r))}function Yl({aes:t,hmac:e},n){const r=JSON.parse(Or.decode(Bs(t,e,br(n))));return cr.parse(r)}function xn({aes:t,hmac:e},n){return n.startsWith("v1:")?Or.decode(Bs(t,e,br(n.slice(3)))):Or.decode(co(t,br(n)))}const Kl=Ur("dp:localSync"),ks=`${Ys}i:`;function Xl(t){var s,i;const e=new Array,n=ot(0);for(let o=0;o<localStorage.length;o++){const a=(s=localStorage.key(o))!=null?s:"";if(!!a.startsWith(ks))try{const l=JSON.parse((i=localStorage.getItem(a))!=null?i:""),c=hi.parse(l);n.update(u=>Math.max(u,c.modifiedAt)),e.push(c)}catch{}}Kl("loaded %d apps",e.length),t.set(e);const r=new Map;return t.subscribe(o=>{const a=new Array;for(const{decrypted:l,...c}of o){const u=c,f=r.get(c.id);if(r.set(c.id,c.modifiedAt),f===void 0){a.push(u);continue}f!==u.modifiedAt&&a.push(u)}for(const l of a)localStorage.setItem(`${ks}${l.id}`,JSON.stringify(l))}),{lastModifiedAt:{subscribe:n.subscribe,next(){let o=Date.now();return n.update(a=>(o=Math.max(o,a+1),o)),o}}}}const Gl=Ur("dp:migrator"),Ql="derivepass/production/";function ec(t){at.subscribe(e=>{var r,s;if(e===void 0)return;let n=0;for(let i=0;i<localStorage.length;i++){const o=(r=localStorage.key(i))!=null?r:"";if(!!o.startsWith(Ql))try{const a=JSON.parse((s=localStorage.getItem(o))!=null?s:""),{changedAt:l,domain:c,login:u,revision:f,options:d,removed:p}=Ol.parse(a);if(p)continue;const m=xn(e,c),h=xn(e,u),A=xn(e,f),E=Nl.parse(JSON.parse(xn(e,d))),j=parseInt(A,10);if(j<1||isNaN(j))throw new Error("Negative or NaN revision");const{allowed:L,required:g,maxLength:C}=E,y=typeof C=="number"?C:parseInt(C,10);if(y<1||isNaN(y))throw new Error("Negative or NaN passwordLen");const M=vi(e,{domain:m,login:h,revision:j,allowedChars:L,requiredChars:g,passwordLen:y});t.update(D=>[...D,{id:bi(),version:zr,encrypted:M,modifiedAt:l}]),localStorage.removeItem(o),n++}catch{}}Gl("migrated %d records",n)})}const Lt=ot([]),{lastModifiedAt:Nr}=Xl(Lt);Ll(Lt,Nr);ec(Lt);at.subscribe(t=>{Lt.update(e=>e.map(({decrypted:n,encrypted:r,...s})=>{let i;if(s.removed)return{encrypted:"",...s};if(t!==void 0)try{i=Yl(t,r)}catch{}return{decrypted:i,encrypted:r,...s}}))});const an={subscribe:rr(Lt,t=>t.slice().sort((e,n)=>n.modifiedAt-e.modifiedAt).map(e=>{if(!(e.removed||e.decrypted===void 0))return{id:e.id,version:e.version,...e.decrypted}}).filter(e=>e!==void 0)).subscribe,getTemplate(){return{id:bi(),version:zr,domain:"",login:"",revision:1,...mo}},deleteById(t){Lt.update(e=>e.map(n=>n.id===t?{id:n.id,version:n.version,encrypted:"",removed:!0,modifiedAt:Nr.next()}:n))},save(t,{id:e,version:n,...r}){const s=vi(t,r),i={id:e,version:n,decrypted:r,encrypted:s,modifiedAt:Nr.next()};Lt.update(o=>{let a=!1;const l=o.map(c=>c.id===i.id?(a=!0,i):c);return a?l:[...o,i]})}};function As(t,e,n){const r=t.slice();return r[6]=e[n],r}function Es(t,e){let n,r,s;return r=new Hl({props:{id:e[6].id,domain:e[6].domain,login:e[6].login}}),{key:t,first:null,c(){n=Nt(),le(r.$$.fragment),this.first=n},m(i,o){w(i,n,o),oe(r,i,o),s=!0},p(i,o){e=i;const a={};o&2&&(a.id=e[6].id),o&2&&(a.domain=e[6].domain),o&2&&(a.login=e[6].login),r.$set(a)},i(i){s||(Z(r.$$.fragment,i),s=!0)},o(i){F(r.$$.fragment,i),s=!1},d(i){i&&v(n),ae(r,i)}}}function tc(t){let e,n,r,s,i,o=[],a=new Map,l,c,u,f,d=t[1];const p=m=>m[6].id;for(let m=0;m<d.length;m+=1){let h=As(t,d,m),A=p(h);a.set(A,o[m]=Es(A,h))}return{c(){e=T("form"),n=T("input"),r=U(),s=T("input"),i=U();for(let m=0;m<o.length;m+=1)o[m].c();l=Nt(),b(n,"class","grow px-4 py-2 min-w-0 rounded-l border focus:outline-none"),b(n,"type","text"),b(n,"autocomplete","off"),b(n,"placeholder","Filter applications"),b(s,"class","shrink px-4 py-2 rounded-r border-y border-blue-600 hover:border-blue-700 active:border-blue-800 bg-blue-600 hover:bg-blue-700 active:bg-blue-800 text-white"),b(s,"type","button"),s.value="Add application",b(e,"class","flex items-center rounded focus-within:ring"),b(e,"autocomplete","off")},m(m,h){w(m,e,h),k(e,n),Jr(n,t[0]),k(e,r),k(e,s),w(m,i,h);for(let A=0;A<o.length;A+=1)o[A].m(m,h);w(m,l,h),c=!0,u||(f=[We(n,"input",t[5]),We(s,"click",tt(t[2])),We(e,"submit",tt(nc))],u=!0)},p(m,[h]){h&1&&n.value!==m[0]&&Jr(n,m[0]),h&2&&(d=m[1],Qe(),o=Hi(o,h,p,1,m,d,a,l.parentNode,Bi,Es,l,As),et())},i(m){if(!c){for(let h=0;h<d.length;h+=1)Z(o[h]);c=!0}},o(m){for(let h=0;h<o.length;h+=1)F(o[h]);c=!1},d(m){m&&v(e),m&&v(i);for(let h=0;h<o.length;h+=1)o[h].d(m);m&&v(l),u=!1,rt(f)}}}function nc(){}function rc(t,e,n){let r,s,i;nt(t,an,c=>n(4,i=c));let o="";function a(){zt("/applications/new")}function l(){o=this.value,n(0,o)}return t.$$.update=()=>{t.$$.dirty&1&&n(3,r=o.toLowerCase()),t.$$.dirty&24&&n(1,s=i.filter(({domain:c,login:u})=>`${c}/${u}`.toLowerCase().includes(r)))},[o,s,a,r,i,l]}class sc extends Ve{constructor(e){super(),He(this,e,rc,tc,Fe,{})}}function ic(t){function e(n){return n.issues.reduce((r,s)=>s.path?Qt(r,s.path.join("."),i=>!i||!Array.isArray(i)?[s.message]:[...i,s.message]):r,{})}return async function(r){try{await t.parseAsync(r)}catch(s){return e(s)}}}function oc({schema:t,level:e="error"}){return function(r){if(r.stage!=="SETUP")return{};const s=ic(t);return r.addValidator(s,{level:e}),{}}}function ac(t){let e,n,r=t[8].domain+"",s,i,o=t[8].login+"",a;return{c(){e=T("h2"),n=T("b"),s=P(r),i=P("/"),a=P(o),b(e,"class","text-2xl")},m(l,c){w(l,e,c),k(e,n),k(n,s),k(e,i),k(e,a)},p(l,c){c[0]&256&&r!==(r=l[8].domain+"")&&it(s,r),c[0]&256&&o!==(o=l[8].login+"")&&it(a,o)},d(l){l&&v(e)}}}function lc(t){let e;return{c(){e=T("h2"),e.textContent="New Application",b(e,"class","text-2xl")},m(n,r){w(n,e,r)},p:K,d(n){n&&v(e)}}}function cc(t){let e;return{c(){e=P("Copied")},m(n,r){w(n,e,r)},i:K,o:K,d(n){n&&v(e)}}}function uc(t){let e;return{c(){e=P("Copy password")},m(n,r){w(n,e,r)},i:K,o:K,d(n){n&&v(e)}}}function dc(t){let e,n,r,s;return n=new ni({}),{c(){e=T("div"),le(n.$$.fragment),r=P(" Computing..."),b(e,"class","flex gap-2 items-center")},m(i,o){w(i,e,o),oe(n,e,null),k(e,r),s=!0},i(i){s||(Z(n.$$.fragment,i),s=!0)},o(i){F(n.$$.fragment,i),s=!1},d(i){i&&v(e),ae(n)}}}function fc(t){let e;return{c(){e=P("Compute password")},m(n,r){w(n,e,r)},i:K,o:K,d(n){n&&v(e)}}}function Cs(t){let e,n,r,s;function i(l,c){return l[6]===l[2].Initial?mc:pc}let o=i(t),a=o(t);return{c(){e=T("button"),a.c(),b(e,"type","button"),b(e,"class","px-4 py-2 last:rounded-r bg-red-500 hover:bg-red-600 text-white disabled:bg-red-400"),e.disabled=n=t[6]===t[2].Safety},m(l,c){w(l,e,c),a.m(e,null),r||(s=We(e,"click",tt(t[16])),r=!0)},p(l,c){o!==(o=i(l))&&(a.d(1),a=o(l),a&&(a.c(),a.m(e,null))),c[0]&68&&n!==(n=l[6]===l[2].Safety)&&(e.disabled=n)},d(l){l&&v(e),a.d(),r=!1,s()}}}function pc(t){let e;return{c(){e=P("Confirm Deletion")},m(n,r){w(n,e,r)},d(n){n&&v(e)}}}function mc(t){let e;return{c(){e=P("Delete")},m(n,r){w(n,e,r)},d(n){n&&v(e)}}}function hc(t){let e,n,r,s,i,o,a,l,c,u,f,d,p,m,h,A,E,j,L,g,C,y,M,D,Y,be,q,Ee,pe,Ie,ve,ie,Te,Ne,N,z,V,ue,de,ne,me,Re;function Ze(_,$){return _[0]?lc:ac}let we=Ze(t),Se=we(t);const De=[fc,dc,uc,cc],$e=[];function Ce(_,$){return _[5]===_[1].Initial?0:_[5]===_[1].Computing?1:_[5]===_[1].Computed?2:3}s=Ce(t),i=$e[s]=De[s](t),m=new ct({props:{name:"domain",label:"Domain name",placeholder:"fosstodon.org",hint:"Examples: bookwyrm.social, proton.me, etc"}}),m.$on("input",t[21]),m.$on("change",t[22]),m.$on("focus",t[23]),m.$on("blur",t[24]),A=new ct({props:{name:"login",type:"email",label:"Username",placeholder:"my@email.com",hint:"Examples: my_user_name, derivepass82"}}),A.$on("input",t[25]),A.$on("change",t[26]),A.$on("focus",t[27]),A.$on("blur",t[28]),j=new ct({props:{name:"revision",type:"number",label:"Revision",hint:"Increment this by one to change the password"}}),j.$on("input",t[29]),j.$on("change",t[30]),j.$on("focus",t[31]),j.$on("blur",t[32]),Y=new ct({props:{name:"allowedChars",label:"Allowed characters",hint:"Characters that can be present in the password"}}),Y.$on("input",t[33]),Y.$on("change",t[34]),Y.$on("focus",t[35]),Y.$on("blur",t[36]),q=new ct({props:{name:"requiredChars",label:"Required characters",hint:"Characters that must be present in the password"}}),q.$on("input",t[37]),q.$on("change",t[38]),q.$on("focus",t[39]),q.$on("blur",t[40]),pe=new ct({props:{name:"passwordLen",type:"number",label:"Password length"}}),pe.$on("input",t[41]),pe.$on("change",t[42]),pe.$on("focus",t[43]),pe.$on("blur",t[44]);let O=!t[0]&&Cs(t);return{c(){Se.c(),e=U(),n=T("section"),r=T("button"),i.c(),a=U(),l=T("button"),l.textContent="Edit",c=U(),u=T("button"),f=P("Back"),d=U(),p=T("form"),le(m.$$.fragment),h=U(),le(A.$$.fragment),E=U(),le(j.$$.fragment),L=U(),g=T("button"),g.textContent="Extra",C=U(),y=T("section"),M=T("p"),M.textContent="Most applications don't require editing options below.",D=U(),le(Y.$$.fragment),be=U(),le(q.$$.fragment),Ee=U(),le(pe.$$.fragment),Ie=U(),ve=T("section"),ie=T("button"),Te=P("Save"),N=U(),z=T("button"),V=P("Reset"),de=U(),O&&O.c(),r.disabled=o=!t[9]||t[5]===t[1].Computing,b(r,"class","px-4 py-2 rounded bg-blue-600 hover:bg-blue-700 active:bg-blue-800 text-white disabled:bg-blue-400"),b(l,"class","text-blue-600 hover:text-blue-700 hover:underline"),b(u,"class","text-blue-600 hover:text-blue-700 hover:enabled:underline disabled:text-gray-400"),u.disabled=t[7],b(n,"class","mt-2 mb-4 flex gap-4 content-center"),b(g,"type","button"),b(g,"class","my-2 px-4 py-2 rounded border border-red-500 hover:border-red-600 text-red-500 hover:text-red-600"),b(M,"class","text-red-500 my-2"),b(y,"class","my-2"),vn(y,"hidden",!t[4]),b(ie,"type","submit"),ie.disabled=Ne=t[9]&&!t[7],b(ie,"class","px-4 py-2 rounded-l bg-blue-600 hover:bg-blue-700 active:bg-blue-800 text-white disabled:bg-blue-400"),b(z,"type","reset"),z.disabled=ue=!t[7],b(z,"class","px-4 py-2 last:rounded-r bg-gray-500 hover:bg-gray-600 text-white disabled:bg-gray-400"),b(ve,"class","flex my-2"),vn(p,"hidden",!t[3])},m(_,$){Se.m(_,$),w(_,e,$),w(_,n,$),k(n,r),$e[s].m(r,null),k(n,a),k(n,l),k(n,c),k(n,u),k(u,f),w(_,d,$),w(_,p,$),oe(m,p,null),k(p,h),oe(A,p,null),k(p,E),oe(j,p,null),k(p,L),k(p,g),k(p,C),k(p,y),k(y,M),k(y,D),oe(Y,y,null),k(y,be),oe(q,y,null),k(y,Ee),oe(pe,y,null),k(p,Ie),k(p,ve),k(ve,ie),k(ie,Te),k(ve,N),k(ve,z),k(z,V),k(ve,de),O&&O.m(ve,null),ne=!0,me||(Re=[We(r,"click",tt(t[10])),We(l,"click",tt(t[17])),We(u,"click",tt(t[18])),We(g,"click",tt(t[19])),We(z,"click",tt(t[13])),Jt(t[11].call(null,p))],me=!0)},p(_,$){we===(we=Ze(_))&&Se?Se.p(_,$):(Se.d(1),Se=we(_),Se&&(Se.c(),Se.m(e.parentNode,e)));let J=s;s=Ce(_),s!==J&&(Qe(),F($e[J],1,1,()=>{$e[J]=null}),et(),i=$e[s],i||(i=$e[s]=De[s](_),i.c()),Z(i,1),i.m(r,null)),(!ne||$[0]&546&&o!==(o=!_[9]||_[5]===_[1].Computing))&&(r.disabled=o),(!ne||$[0]&128)&&(u.disabled=_[7]),(!ne||$[0]&16)&&vn(y,"hidden",!_[4]),(!ne||$[0]&640&&Ne!==(Ne=_[9]&&!_[7]))&&(ie.disabled=Ne),(!ne||$[0]&128&&ue!==(ue=!_[7]))&&(z.disabled=ue),_[0]?O&&(O.d(1),O=null):O?O.p(_,$):(O=Cs(_),O.c(),O.m(ve,null)),(!ne||$[0]&8)&&vn(p,"hidden",!_[3])},i(_){ne||(Z(i),Z(m.$$.fragment,_),Z(A.$$.fragment,_),Z(j.$$.fragment,_),Z(Y.$$.fragment,_),Z(q.$$.fragment,_),Z(pe.$$.fragment,_),ne=!0)},o(_){F(i),F(m.$$.fragment,_),F(A.$$.fragment,_),F(j.$$.fragment,_),F(Y.$$.fragment,_),F(q.$$.fragment,_),F(pe.$$.fragment,_),ne=!1},d(_){Se.d(_),_&&v(e),_&&v(n),$e[s].d(),_&&v(d),_&&v(p),ae(m),ae(A),ae(j),ae(Y),ae(q),ae(pe),O&&O.d(),me=!1,rt(Re)}}}function yc(t,e,n){let r,s,i,o;nt(t,at,S=>n(48,i=S));let{app:a}=e,{isNew:l}=e;var c;(function(S){S[S.Initial=0]="Initial",S[S.Computing=1]="Computing",S[S.Computed=2]="Computed",S[S.Copied=3]="Copied"})(c||(c={}));var u;(function(S){S[S.Initial=0]="Initial",S[S.Safety=1]="Safety",S[S.Confirming=2]="Confirming"})(u||(u={}));let f=l,d=!1,p,m=c.Initial,h=u.Initial,A,E;Lr(()=>{A!==void 0&&(clearTimeout(A),A=void 0),E!==void 0&&(clearTimeout(E),E=void 0)});async function j(){const S=i;if(S===void 0){un("/");return}if(m===c.Initial){n(5,m=c.Computing),p=await Qo(S,{...a,...s}),n(5,m=c.Computed);return}navigator.clipboard.writeText(p!=null?p:""),A!==void 0&&clearTimeout(A),n(5,m=c.Copied),A=setTimeout(()=>{A=void 0,n(5,m=c.Computed)},5*vr)}const L=Zs(),{form:g,data:C,reset:y,setInitialValues:M,isDirty:D,isValid:Y}=ai({initialValues:a,onSubmit(S){M(S),nr(D,r=!1,r),L("submit",S)},extend:[oc({schema:cr}),Zo]});nt(t,C,S=>n(8,s=S)),nt(t,D,S=>n(7,r=S)),nt(t,Y,S=>n(9,o=S));function be(){if(h===u.Initial)n(6,h=u.Safety),E=setTimeout(()=>{E=void 0,n(6,h=u.Confirming)},5*vr);else{if(h===u.Safety)return;h===u.Confirming&&(L("delete"),n(6,h=u.Initial))}}function q(){n(3,f=!f)}function Ee(){zt("/applications")}function pe(){n(4,d=!d)}function Ie(S){Q.call(this,t,S)}function ve(S){Q.call(this,t,S)}function ie(S){Q.call(this,t,S)}function Te(S){Q.call(this,t,S)}function Ne(S){Q.call(this,t,S)}function N(S){Q.call(this,t,S)}function z(S){Q.call(this,t,S)}function V(S){Q.call(this,t,S)}function ue(S){Q.call(this,t,S)}function de(S){Q.call(this,t,S)}function ne(S){Q.call(this,t,S)}function me(S){Q.call(this,t,S)}function Re(S){Q.call(this,t,S)}function Ze(S){Q.call(this,t,S)}function we(S){Q.call(this,t,S)}function Se(S){Q.call(this,t,S)}function De(S){Q.call(this,t,S)}function $e(S){Q.call(this,t,S)}function Ce(S){Q.call(this,t,S)}function O(S){Q.call(this,t,S)}function _(S){Q.call(this,t,S)}function $(S){Q.call(this,t,S)}function J(S){Q.call(this,t,S)}function ke(S){Q.call(this,t,S)}return t.$$set=S=>{"app"in S&&n(20,a=S.app),"isNew"in S&&n(0,l=S.isNew)},[l,c,u,f,d,m,h,r,s,o,j,g,C,y,D,Y,be,q,Ee,pe,a,Ie,ve,ie,Te,Ne,N,z,V,ue,de,ne,me,Re,Ze,we,Se,De,$e,Ce,O,_,$,J,ke]}class _c extends Ve{constructor(e){super(),He(this,e,yc,hc,Fe,{app:20,isNew:0},null,[-1,-1])}}function gc(t){let e=t[6]()+"",n;return{c(){n=P(e)},m(r,s){w(r,n,s)},p:K,i:K,o:K,d(r){r&&v(n)}}}function bc(t){let e,n;return e=new _c({props:{isNew:t[1],app:t[0]}}),e.$on("submit",t[2]),e.$on("delete",t[3]),{c(){le(e.$$.fragment)},m(r,s){oe(e,r,s),n=!0},p(r,s){const i={};s&2&&(i.isNew=r[1]),s&1&&(i.app=r[0]),e.$set(i)},i(r){n||(Z(e.$$.fragment,r),n=!0)},o(r){F(e.$$.fragment,r),n=!1},d(r){ae(e,r)}}}function vc(t){let e,n,r,s;const i=[bc,gc],o=[];function a(l,c){return l[0]?0:1}return e=a(t),n=o[e]=i[e](t),{c(){n.c(),r=Nt()},m(l,c){o[e].m(l,c),w(l,r,c),s=!0},p(l,[c]){let u=e;e=a(l),e===u?o[e].p(l,c):(Qe(),F(o[u],1,1,()=>{o[u]=null}),et(),n=o[e],n?n.p(l,c):(n=o[e]=i[e](l),n.c()),Z(n,1),n.m(r.parentNode,r))},i(l){s||(Z(n),s=!0)},o(l){F(n),s=!1},d(l){o[e].d(l),l&&v(r)}}}function wc(t,e,n){let r,s,i,o;nt(t,at,f=>n(7,i=f)),nt(t,an,f=>n(5,o=f));let{params:a}=e;function l({detail:f}){const d=i;if(d===void 0){zt("/login");return}an.save(d,f),r&&zt(`/applications/${f.id}`)}function c(){s&&an.deleteById(s.id),zt("/applications")}const u=()=>un("/applications");return t.$$set=f=>{"params"in f&&n(4,a=f.params)},t.$$.update=()=>{t.$$.dirty&16&&n(1,r=a.id==="new"),t.$$.dirty&50&&n(0,s=r?an.getTemplate():o.find(f=>f.id===a.id))},[s,r,l,c,a,o,u]}class kc extends Ve{constructor(e){super(),He(this,e,wc,vc,Fe,{params:4})}}const In=[];let wi;function ki(t){const e=t.pattern.test(wi);Ss(t,t.className,e),Ss(t,t.inactiveClassName,!e)}function Ss(t,e,n){(e||"").split(" ").forEach(r=>{!r||(t.node.classList.remove(r),n&&t.node.classList.add(r))})}sr.subscribe(t=>{wi=t.location+(t.querystring?"?"+t.querystring:""),In.map(ki)});function Ac(t,e){if(e&&(typeof e=="string"||typeof e=="object"&&e instanceof RegExp)?e={path:e}:e=e||{},!e.path&&t.hasAttribute("href")&&(e.path=t.getAttribute("href"),e.path&&e.path.length>1&&e.path.charAt(0)=="#"&&(e.path=e.path.substring(1))),e.className||(e.className="active"),!e.path||typeof e.path=="string"&&(e.path.length<1||e.path.charAt(0)!="/"&&e.path.charAt(0)!="*"))throw Error('Invalid value for "path" argument');const{pattern:n}=typeof e.path=="string"?zs(e.path):{pattern:e.path},r={node:t,className:e.className,inactiveClassName:e.inactiveClassName,pattern:n};return In.push(r),ki(r),{destroy(){In.splice(In.indexOf(r),1)}}}function Ec(t){let e,n,r,s;const i=t[2].default,o=Gn(i,t,t[1],null);return{c(){e=T("a"),o&&o.c(),b(e,"href",t[0]),b(e,"class","text-zinc-500 hover:text-black")},m(a,l){w(a,e,l),o&&o.m(e,null),n=!0,r||(s=[Jt(Pr.call(null,e)),Jt(Ac.call(null,e,{className:"text-black"}))],r=!0)},p(a,[l]){o&&o.p&&(!n||l&2)&&er(o,i,a,a[1],n?Qn(i,a[1],l,null):tr(a[1]),null),(!n||l&1)&&b(e,"href",a[0])},i(a){n||(Z(o,a),n=!0)},o(a){F(o,a),n=!1},d(a){a&&v(e),o&&o.d(a),r=!1,rt(s)}}}function Cc(t,e,n){let{$$slots:r={},$$scope:s}=e,{href:i}=e;return t.$$set=o=>{"href"in o&&n(0,i=o.href),"$$scope"in o&&n(1,s=o.$$scope)},[i,s,r]}class Vt extends Ve{constructor(e){super(),He(this,e,Cc,Ec,Fe,{href:0})}}function xs(t){let e,n,r,s,i,o,a,l,c;return{c(){e=T("header"),n=P(`New version is available:
  `),r=T("button"),r.textContent="Reload",s=U(),i=T("button"),i.textContent="Skip",b(r,"type","submit"),b(r,"class","px-4 py-2 rounded bg-blue-600 hover:bg-blue-700 active:bg-blue-800 text-white"),b(i,"type","reset"),b(i,"class","px-4 py-2 rounded text-yellow-400 hover:text-yellow-500 hover:underline"),b(e,"class","bg-white px-4 py-2 flex items-center gap-4 border-b")},m(u,f){w(u,e,f),k(e,n),k(e,r),k(e,s),k(e,i),a=!0,l||(c=[We(r,"click",tt(t[6])),We(i,"click",tt(t[7]))],l=!0)},p:K,i(u){a||(cn(()=>{o||(o=Kr(e,Xr,{},!0)),o.run(1)}),a=!0)},o(u){o||(o=Kr(e,Xr,{},!1)),o.run(0),a=!1},d(u){u&&v(e),u&&o&&o.end(),l=!1,rt(c)}}}function Sc(t){let e,n;return{c(){e=T("img"),Os(e.src,n=Ks)||b(e,"src",n),b(e,"width","32"),b(e,"height","32"),b(e,"alt","Logotype")},m(r,s){w(r,e,s)},p:K,d(r){r&&v(e)}}}function xc(t){let e,n;return e=new Vt({props:{href:"/applications",$$slots:{default:[$c]},$$scope:{ctx:t}}}),{c(){le(e.$$.fragment)},m(r,s){oe(e,r,s),n=!0},i(r){n||(Z(e.$$.fragment,r),n=!0)},o(r){F(e.$$.fragment,r),n=!1},d(r){ae(e,r)}}}function Tc(t){let e,n;return e=new Vt({props:{href:"/login",$$slots:{default:[Oc]},$$scope:{ctx:t}}}),{c(){le(e.$$.fragment)},m(r,s){oe(e,r,s),n=!0},i(r){n||(Z(e.$$.fragment,r),n=!0)},o(r){F(e.$$.fragment,r),n=!1},d(r){ae(e,r)}}}function $c(t){let e;return{c(){e=P("Applications")},m(n,r){w(n,e,r)},d(n){n&&v(e)}}}function Oc(t){let e;return{c(){e=P("Master Password")},m(n,r){w(n,e,r)},d(n){n&&v(e)}}}function Nc(t){let e;return{c(){e=P("Sync")},m(n,r){w(n,e,r)},d(n){n&&v(e)}}}function Ic(t){let e;return{c(){e=P("About")},m(n,r){w(n,e,r)},d(n){n&&v(e)}}}function Ts(t){let e,n;return e=new Vt({props:{href:"/logout",$$slots:{default:[jc]},$$scope:{ctx:t}}}),{c(){le(e.$$.fragment)},m(r,s){oe(e,r,s),n=!0},i(r){n||(Z(e.$$.fragment,r),n=!0)},o(r){F(e.$$.fragment,r),n=!1},d(r){ae(e,r)}}}function jc(t){let e;return{c(){e=P("Logout")},m(n,r){w(n,e,r)},d(n){n&&v(e)}}}function Rc(t){let e,n,r=t[10].message+"",s;return{c(){e=T("b"),n=P("Failed to initalize cryptography: "),s=P(r),b(e,"class","text-red-500")},m(i,o){w(i,e,o),k(e,n),k(e,s)},p:K,i:K,o:K,d(i){i&&v(e)}}}function Lc(t){let e,n;return e=new no({props:{routes:t[4]}}),e.$on("conditionsFailed",t[5]),{c(){le(e.$$.fragment)},m(r,s){oe(e,r,s),n=!0},p:K,i(r){n||(Z(e.$$.fragment,r),n=!0)},o(r){F(e.$$.fragment,r),n=!1},d(r){ae(e,r)}}}function Mc(t){return{c:K,m:K,p:K,i:K,o:K,d:K}}function Zc(t){let e,n,r,s,i,o,a,l,c,u,f,d,p,m,h=t[1]&&xs(t);r=new Vt({props:{href:"/",$$slots:{default:[Sc]},$$scope:{ctx:t}}});const A=[Tc,xc],E=[];function j(C,y){return C[0]===void 0?0:1}i=j(t),o=E[i]=A[i](t),l=new Vt({props:{href:"/sync",$$slots:{default:[Nc]},$$scope:{ctx:t}}}),u=new Vt({props:{href:"/about",$$slots:{default:[Ic]},$$scope:{ctx:t}}});let L=t[0]!==void 0&&Ts(t),g={ctx:t,current:null,token:null,hasCatch:!0,pending:Mc,then:Lc,catch:Rc,error:10,blocks:[,,,]};return zi(yo,g),{c(){h&&h.c(),e=U(),n=T("nav"),le(r.$$.fragment),s=U(),o.c(),a=U(),le(l.$$.fragment),c=U(),le(u.$$.fragment),f=U(),L&&L.c(),d=U(),p=T("div"),g.block.c(),b(n,"class","flex gap-4 items-center p-4"),b(p,"class","container mx-auto max-w-screen-md p-4")},m(C,y){h&&h.m(C,y),w(C,e,y),w(C,n,y),oe(r,n,null),k(n,s),E[i].m(n,null),k(n,a),oe(l,n,null),k(n,c),oe(u,n,null),k(n,f),L&&L.m(n,null),w(C,d,y),w(C,p,y),g.block.m(p,g.anchor=null),g.mount=()=>p,g.anchor=null,m=!0},p(C,[y]){t=C,t[1]?h?(h.p(t,y),y&2&&Z(h,1)):(h=xs(t),h.c(),Z(h,1),h.m(e.parentNode,e)):h&&(Qe(),F(h,1,1,()=>{h=null}),et());const M={};y&2048&&(M.$$scope={dirty:y,ctx:t}),r.$set(M);let D=i;i=j(t),i!==D&&(Qe(),F(E[D],1,1,()=>{E[D]=null}),et(),o=E[i],o||(o=E[i]=A[i](t),o.c()),Z(o,1),o.m(n,a));const Y={};y&2048&&(Y.$$scope={dirty:y,ctx:t}),l.$set(Y);const be={};y&2048&&(be.$$scope={dirty:y,ctx:t}),u.$set(be),t[0]!==void 0?L?y&1&&Z(L,1):(L=Ts(t),L.c(),Z(L,1),L.m(n,null)):L&&(Qe(),F(L,1,1,()=>{L=null}),et()),qi(g,t,y)},i(C){m||(Z(h),Z(r.$$.fragment,C),Z(o),Z(l.$$.fragment,C),Z(u.$$.fragment,C),Z(L),Z(g.block),m=!0)},o(C){F(h),F(r.$$.fragment,C),F(o),F(l.$$.fragment,C),F(u.$$.fragment,C),F(L);for(let y=0;y<3;y+=1){const M=g.blocks[y];F(M)}m=!1},d(C){h&&h.d(C),C&&v(e),C&&v(n),ae(r),E[i].d(),ae(l),ae(u),L&&L.d(),C&&v(d),C&&v(p),g.block.d(),g.token=null,g=null}}}function Pc(t,e,n){let r,s;nt(t,at,p=>n(0,r=p));const{needRefresh:i,updateServiceWorker:o}=ao({onRegistered(p){!p||setInterval(()=>p.update(),Js)}});nt(t,i,p=>n(1,s=p));const a=()=>r!==void 0,c={"/":mr,"/about":mr,"/sync":zl,"/login":pr({component:ia,conditions:[()=>r===void 0]}),"/applications":pr({component:sc,conditions:[a]}),"/applications/:id":pr({component:kc,conditions:[a]}),"/logout":aa,"/*":mr};function u(){un(r===void 0?"/login":"/applications")}return[r,s,i,o,c,u,()=>o(),()=>nr(i,s=!1,s)]}class Fc extends Ve{constructor(e){super(),He(this,e,Pc,Zc,Fe,{})}}const Ai=document.getElementById("app");if(!Ai)throw new Error("#app not found");new Fc({target:Ai});
//# sourceMappingURL=index.c3f5f395.js.map
