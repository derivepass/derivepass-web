(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerpolicy&&(i.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?i.credentials="include":s.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function K(){}const Ai=t=>t;function Or(t,e){for(const n in e)t[n]=e[n];return t}function Ei(t){return t&&typeof t=="object"&&typeof t.then=="function"}function xs(t){return t()}function qr(){return Object.create(null)}function et(t){t.forEach(xs)}function mn(t){return typeof t=="function"}function Me(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}let _n;function Ts(t,e){return _n||(_n=document.createElement("a")),_n.href=e,t===_n.href}function Ci(t){return Object.keys(t).length===0}function Nr(t,...e){if(t==null)return K;const n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function Qe(t,e,n){t.$$.on_destroy.push(Nr(e,n))}function Kn(t,e,n,r){if(t){const s=$s(t,e,n,r);return t[0](s)}}function $s(t,e,n,r){return t[1]&&r?Or(n.ctx.slice(),t[1](r(e))):n.ctx}function Xn(t,e,n,r){if(t[2]&&r){const s=t[2](r(n));if(e.dirty===void 0)return s;if(typeof s=="object"){const i=[],o=Math.max(e.dirty.length,s.length);for(let a=0;a<o;a+=1)i[a]=e.dirty[a]|s[a];return i}return e.dirty|s}return e.dirty}function Gn(t,e,n,r,s,i){if(s){const o=$s(e,n,r,i);t.p(o,s)}}function Qn(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let r=0;r<n;r++)e[r]=-1;return e}return-1}function Si(t){const e={};for(const n in t)e[n]=!0;return e}function er(t,e,n){return t.set(n),e}function Vt(t){return t&&mn(t.destroy)?t.destroy:K}const Os=typeof window<"u";let xi=Os?()=>window.performance.now():()=>Date.now(),Ir=Os?t=>requestAnimationFrame(t):K;const Ut=new Set;function Ns(t){Ut.forEach(e=>{e.c(t)||(Ut.delete(e),e.f())}),Ut.size!==0&&Ir(Ns)}function Ti(t){let e;return Ut.size===0&&Ir(Ns),{promise:new Promise(n=>{Ut.add(e={c:t,f:n})}),abort(){Ut.delete(e)}}}function S(t,e){t.appendChild(e)}function Is(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;return e&&e.host?e:t.ownerDocument}function $i(t){const e=T("style");return Oi(Is(t),e),e.sheet}function Oi(t,e){return S(t.head||t,e),e.sheet}function w(t,e,n){t.insertBefore(e,n||null)}function v(t){t.parentNode&&t.parentNode.removeChild(t)}function T(t){return document.createElement(t)}function Br(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function D(t){return document.createTextNode(t)}function U(){return D(" ")}function Tt(){return D("")}function De(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function Ge(t){return function(e){return e.preventDefault(),t.call(this,e)}}function b(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function Ni(t){return Array.from(t.childNodes)}function rt(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function Hr(t,e){t.value=e==null?"":e}function js(t,e,n,r){n===null?t.style.removeProperty(e):t.style.setProperty(e,n,r?"important":"")}function gn(t,e,n){t.classList[n?"add":"remove"](e)}function Rs(t,e,{bubbles:n=!1,cancelable:r=!1}={}){const s=document.createEvent("CustomEvent");return s.initCustomEvent(t,n,r,e),s}function Nn(t,e){return new t(e)}const In=new Map;let jn=0;function Ii(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}function ji(t,e){const n={stylesheet:$i(e),rules:{}};return In.set(t,n),n}function Vr(t,e,n,r,s,i,o,a=0){const l=16.666/r;let c=`{
`;for(let k=0;k<=1;k+=l){const A=e+(n-e)*i(k);c+=k*100+`%{${o(A,1-A)}}
`}const u=c+`100% {${o(n,1-n)}}
}`,f=`__svelte_${Ii(u)}_${a}`,d=Is(t),{stylesheet:p,rules:m}=In.get(d)||ji(d,t);m[f]||(m[f]=!0,p.insertRule(`@keyframes ${f} ${u}`,p.cssRules.length));const h=t.style.animation||"";return t.style.animation=`${h?`${h}, `:""}${f} ${r}ms linear ${s}ms 1 both`,jn+=1,f}function Ri(t,e){const n=(t.style.animation||"").split(", "),r=n.filter(e?i=>i.indexOf(e)<0:i=>i.indexOf("__svelte")===-1),s=n.length-r.length;s&&(t.style.animation=r.join(", "),jn-=s,jn||Li())}function Li(){Ir(()=>{jn||(In.forEach(t=>{const{ownerNode:e}=t.stylesheet;e&&v(e)}),In.clear())})}let on;function yt(t){on=t}function hn(){if(!on)throw new Error("Function called outside component initialization");return on}function Mi(t){hn().$$.on_mount.push(t)}function Zi(t){hn().$$.after_update.push(t)}function jr(t){hn().$$.on_destroy.push(t)}function Ls(){const t=hn();return(e,n,{cancelable:r=!1}={})=>{const s=t.$$.callbacks[e];if(s){const i=Rs(e,n,{cancelable:r});return s.slice().forEach(o=>{o.call(t,i)}),!i.defaultPrevented}return!0}}function ee(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach(r=>r.call(this,e))}const tn=[],Rn=[],Sn=[],hr=[],Ms=Promise.resolve();let yr=!1;function Zs(){yr||(yr=!0,Ms.then(Lr))}function Rr(){return Zs(),Ms}function an(t){Sn.push(t)}function Pi(t){hr.push(t)}const cr=new Set;let bn=0;function Lr(){const t=on;do{for(;bn<tn.length;){const e=tn[bn];bn++,yt(e),Fi(e.$$)}for(yt(null),tn.length=0,bn=0;Rn.length;)Rn.pop()();for(let e=0;e<Sn.length;e+=1){const n=Sn[e];cr.has(n)||(cr.add(n),n())}Sn.length=0}while(tn.length);for(;hr.length;)hr.pop()();yr=!1,cr.clear(),yt(t)}function Fi(t){if(t.fragment!==null){t.update(),et(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(an)}}let en;function Di(){return en||(en=Promise.resolve(),en.then(()=>{en=null})),en}function ur(t,e,n){t.dispatchEvent(Rs(`${e?"intro":"outro"}${n}`))}const xn=new Set;let _t;function Ye(){_t={r:0,c:[],p:_t}}function Ke(){_t.r||et(_t.c),_t=_t.p}function Z(t,e){t&&t.i&&(xn.delete(t),t.i(e))}function F(t,e,n,r){if(t&&t.o){if(xn.has(t))return;xn.add(t),_t.c.push(()=>{xn.delete(t),r&&(n&&t.d(1),r())}),t.o(e)}else r&&r()}const Ui={duration:0};function Jr(t,e,n,r){let s=e(t,n),i=r?0:1,o=null,a=null,l=null;function c(){l&&Ri(t,l)}function u(d,p){const m=d.b-i;return p*=Math.abs(m),{a:i,b:d.b,d:m,duration:p,start:d.start,end:d.start+p,group:d.group}}function f(d){const{delay:p=0,duration:m=300,easing:h=Ai,tick:k=K,css:A}=s||Ui,j={start:xi()+p,b:d};d||(j.group=_t,_t.r+=1),o||a?a=j:(A&&(c(),l=Vr(t,i,d,m,p,h,A)),d&&k(0,1),o=u(j,m),an(()=>ur(t,d,"start")),Ti(M=>{if(a&&M>a.start&&(o=u(a,m),a=null,ur(t,o.b,"start"),A&&(c(),l=Vr(t,i,o.b,o.duration,0,h,s.css))),o){if(M>=o.end)k(i=o.b,1-i),ur(t,o.b,"end"),a||(o.b?c():--o.group.r||et(o.group.c)),o=null;else if(M>=o.start){const g=M-o.start;i=o.a+o.d*h(g/o.duration),k(i,1-i)}}return!!(o||a)}))}return{run(d){mn(s)?Di().then(()=>{s=s(),f(d)}):f(d)},end(){c(),o=a=null}}}function Wi(t,e){const n=e.token={};function r(s,i,o,a){if(e.token!==n)return;e.resolved=a;let l=e.ctx;o!==void 0&&(l=l.slice(),l[o]=a);const c=s&&(e.current=s)(l);let u=!1;e.block&&(e.blocks?e.blocks.forEach((f,d)=>{d!==i&&f&&(Ye(),F(f,1,1,()=>{e.blocks[d]===f&&(e.blocks[d]=null)}),Ke())}):e.block.d(1),c.c(),Z(c,1),c.m(e.mount(),e.anchor),u=!0),e.block=c,e.blocks&&(e.blocks[i]=c),u&&Lr()}if(Ei(t)){const s=hn();if(t.then(i=>{yt(s),r(e.then,1,e.value,i),yt(null)},i=>{if(yt(s),r(e.catch,2,e.error,i),yt(null),!e.hasCatch)throw i}),e.current!==e.pending)return r(e.pending,0),!0}else{if(e.current!==e.then)return r(e.then,1,e.value,t),!0;e.resolved=t}}function zi(t,e,n){const r=e.slice(),{resolved:s}=t;t.current===t.then&&(r[t.value]=s),t.current===t.catch&&(r[t.error]=s),t.block.p(r,n)}function qi(t,e){F(t,1,1,()=>{e.delete(t.key)})}function Bi(t,e,n,r,s,i,o,a,l,c,u,f){let d=t.length,p=i.length,m=d;const h={};for(;m--;)h[t[m].key]=m;const k=[],A=new Map,j=new Map;for(m=p;m--;){const _=f(s,i,m),R=n(_);let P=o.get(R);P?r&&P.p(_,e):(P=c(R,_),P.c()),A.set(R,k[m]=P),R in h&&j.set(R,Math.abs(m-h[R]))}const M=new Set,g=new Set;function E(_){Z(_,1),_.m(a,u),o.set(_.key,_),u=_.first,p--}for(;d&&p;){const _=k[p-1],R=t[d-1],P=_.key,J=R.key;_===R?(u=_.first,d--,p--):A.has(J)?!o.has(P)||M.has(P)?E(_):g.has(J)?d--:j.get(P)>j.get(J)?(g.add(P),E(_)):(M.add(J),d--):(l(R,o),d--)}for(;d--;){const _=t[d];A.has(_.key)||l(_,o)}for(;p;)E(k[p-1]);return k}function Ps(t,e){const n={},r={},s={$$scope:1};let i=t.length;for(;i--;){const o=t[i],a=e[i];if(a){for(const l in o)l in a||(r[l]=1);for(const l in a)s[l]||(n[l]=a[l],s[l]=1);t[i]=a}else for(const l in o)s[l]=1}for(const o in r)o in n||(n[o]=void 0);return n}function Fs(t){return typeof t=="object"&&t!==null?t:{}}function Hi(t,e,n){const r=t.$$.props[e];r!==void 0&&(t.$$.bound[r]=n,n(t.$$.ctx[r]))}function le(t){t&&t.c()}function ie(t,e,n,r){const{fragment:s,after_update:i}=t.$$;s&&s.m(e,n),r||an(()=>{const o=t.$$.on_mount.map(xs).filter(mn);t.$$.on_destroy?t.$$.on_destroy.push(...o):et(o),t.$$.on_mount=[]}),i.forEach(an)}function oe(t,e){const n=t.$$;n.fragment!==null&&(et(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function Vi(t,e){t.$$.dirty[0]===-1&&(tn.push(t),Zs(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function qe(t,e,n,r,s,i,o,a=[-1]){const l=on;yt(t);const c=t.$$={fragment:null,ctx:[],props:i,update:K,not_equal:s,bound:qr(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(l?l.$$.context:[])),callbacks:qr(),dirty:a,skip_bound:!1,root:e.target||l.$$.root};o&&o(c.root);let u=!1;if(c.ctx=n?n(t,e.props||{},(f,d,...p)=>{const m=p.length?p[0]:d;return c.ctx&&s(c.ctx[f],c.ctx[f]=m)&&(!c.skip_bound&&c.bound[f]&&c.bound[f](m),u&&Vi(t,f)),d}):[],c.update(),u=!0,et(c.before_update),c.fragment=r?r(c.ctx):!1,e.target){if(e.hydrate){const f=Ni(e.target);c.fragment&&c.fragment.l(f),f.forEach(v)}else c.fragment&&c.fragment.c();e.intro&&Z(t.$$.fragment),ie(t,e.target,e.anchor,e.customElement),Lr()}yt(l)}class Be{$destroy(){oe(this,1),this.$destroy=K}$on(e,n){if(!mn(n))return K;const r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(n),()=>{const s=r.indexOf(n);s!==-1&&r.splice(s,1)}}$set(e){this.$$set&&!Ci(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}function Ji(t){const e=t-1;return e*e*e+1}function Yr(t,{delay:e=0,duration:n=400,easing:r=Ji}={}){const s=getComputedStyle(t),i=+s.opacity,o=parseFloat(s.height),a=parseFloat(s.paddingTop),l=parseFloat(s.paddingBottom),c=parseFloat(s.marginTop),u=parseFloat(s.marginBottom),f=parseFloat(s.borderTopWidth),d=parseFloat(s.borderBottomWidth);return{delay:e,duration:n,easing:r,css:p=>`overflow: hidden;opacity: ${Math.min(p*20,1)*i};height: ${p*o}px;padding-top: ${p*a}px;padding-bottom: ${p*l}px;margin-top: ${p*c}px;margin-bottom: ${p*u}px;border-top-width: ${p*f}px;border-bottom-width: ${p*d}px;`}}function dr(t){if(!t)throw Error("Parameter args is required");if(!t.component==!t.asyncComponent)throw Error("One and only one of component and asyncComponent is required");if(t.component&&(t.asyncComponent=()=>Promise.resolve(t.component)),typeof t.asyncComponent!="function")throw Error("Parameter asyncComponent must be a function");if(t.conditions){Array.isArray(t.conditions)||(t.conditions=[t.conditions]);for(let n=0;n<t.conditions.length;n++)if(!t.conditions[n]||typeof t.conditions[n]!="function")throw Error("Invalid parameter conditions["+n+"]")}return t.loadingComponent&&(t.asyncComponent.loading=t.loadingComponent,t.asyncComponent.loadingParams=t.loadingParams||void 0),{component:t.asyncComponent,userData:t.userData,conditions:t.conditions&&t.conditions.length?t.conditions:void 0,props:t.props&&Object.keys(t.props).length?t.props:{},_sveltesparouter:!0}}const Zt=[];function Ds(t,e){return{subscribe:st(t,e).subscribe}}function st(t,e=K){let n;const r=new Set;function s(a){if(Me(t,a)&&(t=a,n)){const l=!Zt.length;for(const c of r)c[1](),Zt.push(c,t);if(l){for(let c=0;c<Zt.length;c+=2)Zt[c][0](Zt[c+1]);Zt.length=0}}}function i(a){s(a(t))}function o(a,l=K){const c=[a,l];return r.add(c),r.size===1&&(n=e(s)||K),a(t),()=>{r.delete(c),r.size===0&&(n(),n=null)}}return{set:s,update:i,subscribe:o}}function tr(t,e,n){const r=!Array.isArray(t),s=r?[t]:t,i=e.length<2;return Ds(n,o=>{let a=!1;const l=[];let c=0,u=K;const f=()=>{if(c)return;u();const p=e(r?l[0]:l,o);i?o(p):u=mn(p)?p:K},d=s.map((p,m)=>Nr(p,h=>{l[m]=h,c&=~(1<<m),a&&f()},()=>{c|=1<<m}));return a=!0,f(),function(){et(d),u()}})}function Us(t,e){if(t instanceof RegExp)return{keys:!1,pattern:t};var n,r,s,i,o=[],a="",l=t.split("/");for(l[0]||l.shift();s=l.shift();)n=s[0],n==="*"?(o.push("wild"),a+="/(.*)"):n===":"?(r=s.indexOf("?",1),i=s.indexOf(".",1),o.push(s.substring(1,~r?r:~i?i:s.length)),a+=!!~r&&!~i?"(?:/([^/]+?))?":"/([^/]+?)",~i&&(a+=(~r?"?":"")+"\\"+s.substring(i))):a+="/"+s;return{keys:o,pattern:new RegExp("^"+a+(e?"(?=$|/)":"/?$"),"i")}}function Yi(t){let e,n,r;const s=[t[2]];var i=t[0];function o(a){let l={};for(let c=0;c<s.length;c+=1)l=Or(l,s[c]);return{props:l}}return i&&(e=Nn(i,o()),e.$on("routeEvent",t[7])),{c(){e&&le(e.$$.fragment),n=Tt()},m(a,l){e&&ie(e,a,l),w(a,n,l),r=!0},p(a,l){const c=l&4?Ps(s,[Fs(a[2])]):{};if(i!==(i=a[0])){if(e){Ye();const u=e;F(u.$$.fragment,1,0,()=>{oe(u,1)}),Ke()}i?(e=Nn(i,o()),e.$on("routeEvent",a[7]),le(e.$$.fragment),Z(e.$$.fragment,1),ie(e,n.parentNode,n)):e=null}else i&&e.$set(c)},i(a){r||(e&&Z(e.$$.fragment,a),r=!0)},o(a){e&&F(e.$$.fragment,a),r=!1},d(a){a&&v(n),e&&oe(e,a)}}}function Ki(t){let e,n,r;const s=[{params:t[1]},t[2]];var i=t[0];function o(a){let l={};for(let c=0;c<s.length;c+=1)l=Or(l,s[c]);return{props:l}}return i&&(e=Nn(i,o()),e.$on("routeEvent",t[6])),{c(){e&&le(e.$$.fragment),n=Tt()},m(a,l){e&&ie(e,a,l),w(a,n,l),r=!0},p(a,l){const c=l&6?Ps(s,[l&2&&{params:a[1]},l&4&&Fs(a[2])]):{};if(i!==(i=a[0])){if(e){Ye();const u=e;F(u.$$.fragment,1,0,()=>{oe(u,1)}),Ke()}i?(e=Nn(i,o()),e.$on("routeEvent",a[6]),le(e.$$.fragment),Z(e.$$.fragment,1),ie(e,n.parentNode,n)):e=null}else i&&e.$set(c)},i(a){r||(e&&Z(e.$$.fragment,a),r=!0)},o(a){e&&F(e.$$.fragment,a),r=!1},d(a){a&&v(n),e&&oe(e,a)}}}function Xi(t){let e,n,r,s;const i=[Ki,Yi],o=[];function a(l,c){return l[1]?0:1}return e=a(t),n=o[e]=i[e](t),{c(){n.c(),r=Tt()},m(l,c){o[e].m(l,c),w(l,r,c),s=!0},p(l,[c]){let u=e;e=a(l),e===u?o[e].p(l,c):(Ye(),F(o[u],1,1,()=>{o[u]=null}),Ke(),n=o[e],n?n.p(l,c):(n=o[e]=i[e](l),n.c()),Z(n,1),n.m(r.parentNode,r))},i(l){s||(Z(n),s=!0)},o(l){F(n),s=!1},d(l){o[e].d(l),l&&v(r)}}}function Kr(){const t=window.location.href.indexOf("#/");let e=t>-1?window.location.href.substr(t+1):"/";const n=e.indexOf("?");let r="";return n>-1&&(r=e.substr(n+1),e=e.substr(0,n)),{location:e,querystring:r}}const nr=Ds(null,function(e){e(Kr());const n=()=>{e(Kr())};return window.addEventListener("hashchange",n,!1),function(){window.removeEventListener("hashchange",n,!1)}});tr(nr,t=>t.location);tr(nr,t=>t.querystring);const Xr=st(void 0);async function Wt(t){if(!t||t.length<1||t.charAt(0)!="/"&&t.indexOf("#/")!==0)throw Error("Invalid parameter location");await Rr(),history.replaceState({...history.state,__svelte_spa_router_scrollX:window.scrollX,__svelte_spa_router_scrollY:window.scrollY},void 0),window.location.hash=(t.charAt(0)=="#"?"":"#")+t}async function ln(t){if(!t||t.length<1||t.charAt(0)!="/"&&t.indexOf("#/")!==0)throw Error("Invalid parameter location");await Rr();const e=(t.charAt(0)=="#"?"":"#")+t;try{const n={...history.state};delete n.__svelte_spa_router_scrollX,delete n.__svelte_spa_router_scrollY,window.history.replaceState(n,void 0,e)}catch{console.warn("Caught exception while replacing the current page. If you're running this in the Svelte REPL, please note that the `replace` method might not work in this environment.")}window.dispatchEvent(new Event("hashchange"))}function Mr(t,e){if(e=Qr(e),!t||!t.tagName||t.tagName.toLowerCase()!="a")throw Error('Action "link" can only be used with <a> tags');return Gr(t,e),{update(n){n=Qr(n),Gr(t,n)}}}function Gi(t){t?window.scrollTo(t.__svelte_spa_router_scrollX,t.__svelte_spa_router_scrollY):window.scrollTo(0,0)}function Gr(t,e){let n=e.href||t.getAttribute("href");if(n&&n.charAt(0)=="/")n="#"+n;else if(!n||n.length<2||n.slice(0,2)!="#/")throw Error('Invalid value for "href" attribute: '+n);t.setAttribute("href",n),t.addEventListener("click",r=>{r.preventDefault(),e.disabled||Qi(r.currentTarget.getAttribute("href"))})}function Qr(t){return t&&typeof t=="string"?{href:t}:t||{}}function Qi(t){history.replaceState({...history.state,__svelte_spa_router_scrollX:window.scrollX,__svelte_spa_router_scrollY:window.scrollY},void 0),window.location.hash=t}function eo(t,e,n){let{routes:r={}}=e,{prefix:s=""}=e,{restoreScrollState:i=!1}=e;class o{constructor(E,_){if(!_||typeof _!="function"&&(typeof _!="object"||_._sveltesparouter!==!0))throw Error("Invalid component object");if(!E||typeof E=="string"&&(E.length<1||E.charAt(0)!="/"&&E.charAt(0)!="*")||typeof E=="object"&&!(E instanceof RegExp))throw Error('Invalid value for "path" argument - strings must start with / or *');const{pattern:R,keys:P}=Us(E);this.path=E,typeof _=="object"&&_._sveltesparouter===!0?(this.component=_.component,this.conditions=_.conditions||[],this.userData=_.userData,this.props=_.props||{}):(this.component=()=>Promise.resolve(_),this.conditions=[],this.props={}),this._pattern=R,this._keys=P}match(E){if(s){if(typeof s=="string")if(E.startsWith(s))E=E.substr(s.length)||"/";else return null;else if(s instanceof RegExp){const J=E.match(s);if(J&&J[0])E=E.substr(J[0].length)||"/";else return null}}const _=this._pattern.exec(E);if(_===null)return null;if(this._keys===!1)return _;const R={};let P=0;for(;P<this._keys.length;){try{R[this._keys[P]]=decodeURIComponent(_[P+1]||"")||null}catch{R[this._keys[P]]=null}P++}return R}async checkConditions(E){for(let _=0;_<this.conditions.length;_++)if(!await this.conditions[_](E))return!1;return!0}}const a=[];r instanceof Map?r.forEach((g,E)=>{a.push(new o(E,g))}):Object.keys(r).forEach(g=>{a.push(new o(g,r[g]))});let l=null,c=null,u={};const f=Ls();async function d(g,E){await Rr(),f(g,E)}let p=null,m=null;i&&(m=g=>{g.state&&(g.state.__svelte_spa_router_scrollY||g.state.__svelte_spa_router_scrollX)?p=g.state:p=null},window.addEventListener("popstate",m),Zi(()=>{Gi(p)}));let h=null,k=null;const A=nr.subscribe(async g=>{h=g;let E=0;for(;E<a.length;){const _=a[E].match(g.location);if(!_){E++;continue}const R={route:a[E].path,location:g.location,querystring:g.querystring,userData:a[E].userData,params:_&&typeof _=="object"&&Object.keys(_).length?_:null};if(!await a[E].checkConditions(R)){n(0,l=null),k=null,d("conditionsFailed",R);return}d("routeLoading",Object.assign({},R));const P=a[E].component;if(k!=P){P.loading?(n(0,l=P.loading),k=P,n(1,c=P.loadingParams),n(2,u={}),d("routeLoaded",Object.assign({},R,{component:l,name:l.name,params:c}))):(n(0,l=null),k=null);const J=await P();if(g!=h)return;n(0,l=J&&J.default||J),k=P}_&&typeof _=="object"&&Object.keys(_).length?n(1,c=_):n(1,c=null),n(2,u=a[E].props),d("routeLoaded",Object.assign({},R,{component:l,name:l.name,params:c})).then(()=>{Xr.set(c)});return}n(0,l=null),k=null,Xr.set(void 0)});jr(()=>{A(),m&&window.removeEventListener("popstate",m)});function j(g){ee.call(this,t,g)}function M(g){ee.call(this,t,g)}return t.$$set=g=>{"routes"in g&&n(3,r=g.routes),"prefix"in g&&n(4,s=g.prefix),"restoreScrollState"in g&&n(5,i=g.restoreScrollState)},t.$$.update=()=>{t.$$.dirty&32&&(history.scrollRestoration=i?"manual":"auto")},[l,c,u,r,s,i,j,M]}class to extends Be{constructor(e){super(),qe(this,e,eo,Xi,Me,{routes:3,prefix:4,restoreScrollState:5})}}const no="modulepreload",ro=function(t){return"/"+t},es={},so=function(e,n,r){if(!n||n.length===0)return e();const s=document.getElementsByTagName("link");return Promise.all(n.map(i=>{if(i=ro(i),i in es)return;es[i]=!0;const o=i.endsWith(".css"),a=o?'[rel="stylesheet"]':"";if(!!r)for(let u=s.length-1;u>=0;u--){const f=s[u];if(f.href===i&&(!o||f.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${i}"]${a}`))return;const c=document.createElement("link");if(c.rel=o?"stylesheet":no,o||(c.as="script",c.crossOrigin=""),c.href=i,document.head.appendChild(c),o)return new Promise((u,f)=>{c.addEventListener("load",u),c.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${i}`)))})})).then(()=>e())};function io(t={}){const{immediate:e=!1,onNeedRefresh:n,onOfflineReady:r,onRegistered:s,onRegisteredSW:i,onRegisterError:o}=t;let a,l,c,u;const f=async(p=!0)=>{await c,p&&(a==null||a.addEventListener("controlling",m=>{m.isUpdate&&window.location.reload()})),await(u==null?void 0:u())};async function d(){if("serviceWorker"in navigator){const{Workbox:p,messageSW:m}=await so(()=>import("./workbox-window.prod.es5.d2780aeb.js"),[]);u=async()=>{l&&l.waiting&&await m(l.waiting,{type:"SKIP_WAITING"})},a=new p("/sw.js",{scope:"/",type:"classic"}),a.addEventListener("activated",h=>{h.isUpdate||r==null||r()});{const h=()=>{n==null||n()};a.addEventListener("waiting",h),a.addEventListener("externalwaiting",h)}a.register({immediate:e}).then(h=>{l=h,i?i("/sw.js",h):s==null||s(h)}).catch(h=>{o==null||o(h)})}}return c=d(),f}function oo(t={}){const{immediate:e=!0,onNeedRefresh:n,onOfflineReady:r,onRegistered:s,onRegisteredSW:i,onRegisterError:o}=t,a=st(!1),l=st(!1),c=io({immediate:e,onOfflineReady(){l.set(!0),r==null||r()},onNeedRefresh(){a.set(!0),n==null||n()},onRegistered:s,onRegisteredSW:i,onRegisterError:o});return{needRefresh:a,offlineReady:l,updateServiceWorker:c}}let ge,Tn=new Uint8Array;function Ws(){return Tn.byteLength===0&&(Tn=new Uint8Array(ge.memory.buffer)),Tn}let lt=0;function gt(t,e){const n=e(t.length*1);return Ws().set(t,n/1),lt=t.length,n}let $n=new Int32Array;function Jt(){return $n.byteLength===0&&($n=new Int32Array(ge.memory.buffer)),$n}function Zr(t,e){return Ws().subarray(t/1,t/1+e)}function ao(t,e,n,r){try{const a=ge.__wbindgen_add_to_stack_pointer(-16),l=gt(t,ge.__wbindgen_malloc),c=lt,u=gt(e,ge.__wbindgen_malloc),f=lt,d=gt(n,ge.__wbindgen_malloc),p=lt,m=gt(r,ge.__wbindgen_malloc),h=lt;ge.encrypt(a,l,c,u,f,d,p,m,h);var s=Jt()[a/4+0],i=Jt()[a/4+1],o=Zr(s,i).slice();return ge.__wbindgen_free(s,i*1),o}finally{ge.__wbindgen_add_to_stack_pointer(16)}}function zs(t,e,n){try{const i=ge.__wbindgen_add_to_stack_pointer(-16),o=gt(t,ge.__wbindgen_malloc),a=lt,l=gt(e,ge.__wbindgen_malloc),c=lt,u=gt(n,ge.__wbindgen_malloc),f=lt;ge.decrypt(i,o,a,l,c,u,f);var r=Jt()[i/4+0],s=Jt()[i/4+1];let d;return r!==0&&(d=Zr(r,s).slice(),ge.__wbindgen_free(r,s*1)),d}finally{ge.__wbindgen_add_to_stack_pointer(16)}}function lo(t,e){try{const s=ge.__wbindgen_add_to_stack_pointer(-16),i=gt(t,ge.__wbindgen_malloc),o=lt,a=gt(e,ge.__wbindgen_malloc),l=lt;ge.decrypt_legacy(s,i,o,a,l);var n=Jt()[s/4+0],r=Jt()[s/4+1];let c;return n!==0&&(c=Zr(n,r).slice(),ge.__wbindgen_free(n,r*1)),c}finally{ge.__wbindgen_add_to_stack_pointer(16)}}async function co(t,e){if(typeof Response=="function"&&t instanceof Response){if(typeof WebAssembly.instantiateStreaming=="function")try{return await WebAssembly.instantiateStreaming(t,e)}catch(r){if(t.headers.get("Content-Type")!="application/wasm")console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",r);else throw r}const n=await t.arrayBuffer();return await WebAssembly.instantiate(n,e)}else{const n=await WebAssembly.instantiate(t,e);return n instanceof WebAssembly.Instance?{instance:n,module:t}:n}}function uo(){const t={};return t.wbg={},t}function fo(t,e){return ge=t.exports,qs.__wbindgen_wasm_module=e,$n=new Int32Array,Tn=new Uint8Array,ge}async function qs(t){typeof t>"u"&&(t="/assets/scrypt_crate_bg.wasm");const e=uo();(typeof t=="string"||typeof Request=="function"&&t instanceof Request||typeof URL=="function"&&t instanceof URL)&&(t=fetch(t));const{instance:n,module:r}=await co(await t,e);return fo(n,r)}const po={allowedChars:"a-zA-Z0-9_.",requiredChars:"",passwordLen:24};function ts(t){if(t>=48&&t<=57)return t-48;if(t>=65&&t<=70)return t-65+10;if(t>=97&&t<=102)return t-97+10;throw new Error("Not a hex character, code: "+t)}function _r(t){if(t.length%2!==0)throw new Error(`Invalid hex: "${t}"`);const e=new Uint8Array(t.length/2);for(let n=0;n<t.length;n+=2){const r=ts(t.charCodeAt(n)),s=ts(t.charCodeAt(n+1));e[n>>1]=r<<4|s}return e}function mo(t){let e="";for(let n=0;n<t.length;n++){let r=t[n].toString(16);r.length<2&&(r="0"+r),e+=r}return e}const ho=qs(),gr=1e3,Bs=60*gr,Hs=60*Bs,Vs="dp:v2:",it=st();let vn;it.subscribe(t=>{vn!==void 0&&(clearTimeout(vn),vn=void 0),t!==void 0&&(vn=setTimeout(()=>{it.set(void 0)},15*Bs))});const Js="/assets/logo.f23d4d62.svg",yo="2.1.7",_o="https://github.com/derivepass/derivepass-web#readme";function go(t){let e,n;const r=t[2].default,s=Kn(r,t,t[1],null);return{c(){e=T("a"),s&&s.c(),b(e,"href",t[0]),b(e,"target","_blank"),b(e,"rel","noreferrer"),b(e,"class","text-blue-600 hover:underline")},m(i,o){w(i,e,o),s&&s.m(e,null),n=!0},p(i,[o]){s&&s.p&&(!n||o&2)&&Gn(s,r,i,i[1],n?Xn(r,i[1],o,null):Qn(i[1]),null),(!n||o&1)&&b(e,"href",i[0])},i(i){n||(Z(s,i),n=!0)},o(i){F(s,i),n=!1},d(i){i&&v(e),s&&s.d(i)}}}function bo(t,e,n){let{$$slots:r={},$$scope:s}=e,{href:i}=e;return t.$$set=o=>{"href"in o&&n(0,i=o.href),"$$scope"in o&&n(1,s=o.$$scope)},[i,s,r]}class Pt extends Be{constructor(e){super(),qe(this,e,bo,go,Me,{href:0})}}function vo(t){let e;return{c(){e=D("scrypt")},m(n,r){w(n,e,r)},d(n){n&&v(e)}}}function wo(t){let e;return{c(){e=D("salt")},m(n,r){w(n,e,r)},d(n){n&&v(e)}}}function ko(t){let e;return{c(){e=D("AES")},m(n,r){w(n,e,r)},d(n){n&&v(e)}}}function Ao(t){let e;return{c(){e=D("HMAC-SHA256")},m(n,r){w(n,e,r)},d(n){n&&v(e)}}}function Eo(t){let e,n;return{c(){e=D("source code @ "),n=D(yo)},m(r,s){w(r,e,s),w(r,n,s)},p:K,d(r){r&&v(e),r&&v(n)}}}function Co(t){let e,n,r,s,i,o,a,l,c,u,f,d,p,m,h,k,A,j,M,g,E,_,R,P,J,ke,z,_e,pe,Ae,be,Q,Ie,Oe,$,q,Y,ue,ce,re,Ee,me,Ze,Ce,xe,Pe,$e,we,O,y,N,V,Ne,C,Fe,Se,Te;return Q=new Pt({props:{href:"https://en.wikipedia.org/wiki/Scrypt",$$slots:{default:[vo]},$$scope:{ctx:t}}}),ce=new Pt({props:{href:"https://en.wikipedia.org/wiki/Salt_(cryptography)",$$slots:{default:[wo]},$$scope:{ctx:t}}}),Ce=new Pt({props:{href:"https://en.wikipedia.org/wiki/Advanced_Encryption_Standard",$$slots:{default:[ko]},$$scope:{ctx:t}}}),we=new Pt({props:{href:"https://en.wikipedia.org/wiki/HMAC",$$slots:{default:[Ao]},$$scope:{ctx:t}}}),C=new Pt({props:{href:_o,$$slots:{default:[Eo]},$$scope:{ctx:t}}}),{c(){e=T("container"),n=T("img"),s=U(),i=T("container"),o=T("h1"),o.textContent="DerivePass",a=U(),l=T("h2"),l.textContent="Compute secure passwords without storing them anywhere.",c=U(),u=T("a"),u.textContent="Start",f=U(),d=T("p"),d.textContent=`Most websites require a password on Sign Up.
  Using the same password everywhere is insecure.
  Using individual secure passwords and remembering all of them - impossible!`,p=U(),m=T("p"),m.innerHTML=`<b>DerivePass</b> is here to help with the task!
  Choose the Master Password once and use it to generate an <b>unlimited</b>
  number of secure website passwords.`,h=U(),k=T("p"),k.innerHTML=`Unlike traditional password managers, <b>DerivePass</b> never uploads
  neither the Master Password or website passwords to the cloud. The only
  information that is stored is <b>encrypted</b> website domain names and
  usernames.`,A=U(),j=T("hr"),M=U(),g=T("h3"),g.textContent="Privacy",E=U(),_=T("p"),_.innerHTML=`Your privacy is important to us. Your data is stored only locally
  <b>on your computer</b>, by default, unless you manually decide to use
  remote storage. We <b>never</b> store unencrypted website
  domain names, usernames, or passwords. <b>No tracking</b> of any kind is
  used on this website.`,R=U(),P=T("hr"),J=U(),ke=T("h3"),ke.textContent="Security",z=U(),_e=T("h4"),_e.textContent="(Technical Details)",pe=U(),Ae=T("p"),be=D(`The
  `),le(Q.$$.fragment),Ie=D(`
  algorithm is used for deriving application passwords and
  encryption/authentication keys. Due to the strong cryptographic properties
  of scrypt, the compromise of any single application password does not
  compromise any other application passwords or the Master password.`),Oe=U(),$=T("p"),q=D(`An application's domain name (website), username, and revision are used for
  generating unique and secure passwords. In particular,
  `),Y=T("code"),Y.textContent="domain/username(#revision)",ue=D(`
  is used as a
  `),le(ce.$$.fragment),re=D(`
  parameter of scrypt. Thus every revision increment will result in a
  completely different generated password. This is convenient for changing the
  password whenever it is required.`),Ee=U(),me=T("p"),Ze=D(`Every bit of information that is stored locally and/or remotely (through
  optional synchronization) is encrypted with an
  `),le(Ce.$$.fragment),xe=D(`
  key generated from the Master Password via the scrypt algorithm, using
  `),Pe=T("code"),Pe.textContent="derivepass/aes",$e=D(`
  as a salt. The data is further passed to the
  `),le(we.$$.fragment),O=D(`
  algorithm to ensure the data integrity.`),y=U(),N=T("footer"),V=T("p"),V.textContent=`Copyright ${t[0]}, Fedor Indutny`,Ne=U(),le(C.$$.fragment),Ts(n.src,r=Js)||b(n,"src",r),b(n,"alt","Big Logotype"),b(n,"class","grow max-w-xs lg:max-w-full"),b(o,"class","text-4xl font-semibold mb-4"),b(l,"class","text-xl mb-4"),b(u,"href","/login"),b(u,"class","inline-block px-4 py-2 rounded bg-blue-600 hover:bg-blue-700 active:bg-blue-800 text-white text-xl"),b(i,"class","grow basis-96 mb-4"),b(e,"class","flex flex-row-reverse flex-wrap justify-center items-center text-center sm:text-start"),b(d,"class","my-2"),b(m,"class","my-2"),b(k,"class","my-2"),b(j,"class","my-4"),b(g,"class","my-4 text-3xl text-semibold"),b(P,"class","my-4"),b(ke,"class","my-4 text-3xl text-semibold"),b(_e,"class","my-2 text-lg"),b(Ae,"class","my-2"),b(Y,"class","border border-slate-200 bg-slate-100 px-1"),b($,"class","my-2"),b(Pe,"class","border border-slate-200 bg-slate-100 px-1"),b(me,"class","my-2"),b(N,"class","text-xs text-right")},m(x,H){w(x,e,H),S(e,n),S(e,s),S(e,i),S(i,o),S(i,a),S(i,l),S(i,c),S(i,u),w(x,f,H),w(x,d,H),w(x,p,H),w(x,m,H),w(x,h,H),w(x,k,H),w(x,A,H),w(x,j,H),w(x,M,H),w(x,g,H),w(x,E,H),w(x,_,H),w(x,R,H),w(x,P,H),w(x,J,H),w(x,ke,H),w(x,z,H),w(x,_e,H),w(x,pe,H),w(x,Ae,H),S(Ae,be),ie(Q,Ae,null),S(Ae,Ie),w(x,Oe,H),w(x,$,H),S($,q),S($,Y),S($,ue),ie(ce,$,null),S($,re),w(x,Ee,H),w(x,me,H),S(me,Ze),ie(Ce,me,null),S(me,xe),S(me,Pe),S(me,$e),ie(we,me,null),S(me,O),w(x,y,H),w(x,N,H),S(N,V),S(N,Ne),ie(C,N,null),Fe=!0,Se||(Te=Vt(Mr.call(null,u)),Se=!0)},p(x,[H]){const tt={};H&2&&(tt.$$scope={dirty:H,ctx:x}),Q.$set(tt);const yn={};H&2&&(yn.$$scope={dirty:H,ctx:x}),ce.$set(yn);const he={};H&2&&(he.$$scope={dirty:H,ctx:x}),Ce.$set(he);const de={};H&2&&(de.$$scope={dirty:H,ctx:x}),we.$set(de);const je={};H&2&&(je.$$scope={dirty:H,ctx:x}),C.$set(je)},i(x){Fe||(Z(Q.$$.fragment,x),Z(ce.$$.fragment,x),Z(Ce.$$.fragment,x),Z(we.$$.fragment,x),Z(C.$$.fragment,x),Fe=!0)},o(x){F(Q.$$.fragment,x),F(ce.$$.fragment,x),F(Ce.$$.fragment,x),F(we.$$.fragment,x),F(C.$$.fragment,x),Fe=!1},d(x){x&&v(e),x&&v(f),x&&v(d),x&&v(p),x&&v(m),x&&v(h),x&&v(k),x&&v(A),x&&v(j),x&&v(M),x&&v(g),x&&v(E),x&&v(_),x&&v(R),x&&v(P),x&&v(J),x&&v(ke),x&&v(z),x&&v(_e),x&&v(pe),x&&v(Ae),oe(Q),x&&v(Oe),x&&v($),oe(ce),x&&v(Ee),x&&v(me),oe(Ce),oe(we),x&&v(y),x&&v(N),oe(C),Se=!1,Te()}}}function So(t){return[new Date().getFullYear()]}class fr extends Be{constructor(e){super(),qe(this,e,So,Co,Me,{})}}const Ys={},Ks={};function xo(t,e){return Object.keys(t).some(r=>e(t[r]))}function rr(t,e){return Object.keys(t||{}).reduce((r,s)=>Object.assign(Object.assign({},r),{[s]:e(t[s])}),{})}function se(t){return Object.prototype.toString.call(t)==="[object Object]"}function Ve(t){return Object.keys(t||{}).reduce((e,n)=>Object.assign(Object.assign({},e),{[n]:se(t[n])?Ve(t[n]):Array.isArray(t[n])?[...t[n]]:t[n]}),{})}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function To(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function $o(t){return function(e){if(se(e)){const n=Je(e,t);return To(n,["key"])}return t}}function Je(t,e){return rr(t,n=>se(n)?Je(n,e):Array.isArray(n)?n.map($o(e)):e)}function St(...t){const e=t.pop(),n=t.shift();if(typeof n=="string")return n;const r=Ve(n);if(t.length===0)return r;for(const s of t){if(!s)continue;if(typeof s=="string")return s;let i=e(r,s);if(typeof i<"u")return i;const o=Array.from(new Set(Object.keys(r).concat(Object.keys(s))));for(const a of o)if(i=e(r[a],s[a]),typeof i<"u")r[a]=i;else if(se(s[a])&&se(r[a]))r[a]=St(r[a],s[a],e);else if(Array.isArray(s[a]))r[a]=s[a].map((l,c)=>{if(!se(l))return l;const u=Array.isArray(r[a])?r[a][c]:r[a];return St(u,l,e)});else if(se(s[a])){const l=Je(Ve(s[a]),void 0);r[a]=St(l,s[a],e)}else typeof s[a]<"u"&&(r[a]=s[a])}return r}function Oo(t,e){if(!(se(t)&&se(e))){if(Array.isArray(e)){if(e.some(se))return;const n=Array.isArray(t)?t:[];return e.map((r,s)=>{var i;return(i=n[s])!==null&&i!==void 0?i:r})}if(typeof t<"u")return t}}function ns(...t){return St(...t,Oo)}function Xs(...t){return St(...t,()=>{})}function ct(t,e,n){const r=i=>String.prototype.split.call(e,i).filter(Boolean).reduce((o,a)=>o!=null?o[a]:o,t),s=r(/[,[\]]+?/)||r(/[,[\].]+?/);return s===void 0||s===t?n:s}function Gt(t,e,n){t&&(t=Ve(t)),se(t)||(t={});const r=Array.isArray(e)?e:e.match(/[^.[\]]+/g)||[],s=r[r.length-1];if(!s)return t;let i=t;for(let o=0;o<r.length-1;o++){const a=r[o];if(!i[a]||!se(i[a])&&!Array.isArray(i[a])){const l=r[o+1];isNaN(Number(l))?i[a]={}:i[a]=[]}i=i[a]}return i[s]=n(i[s]),t}function ye(t,e,n){return Gt(t,e,()=>n)}function nn(t,e){if(!t||Object(t)!==t)return;typeof t<"u"&&(t=Ve(t));const n=Array.isArray(e)?e:e.toString().match(/[^.[\]]+/g)||[],r=n.length===1?t:ct(t,n.slice(0,-1).join("."));return Array.isArray(r)?r.splice(Number(n[n.length-1]),1):r==null||delete r[n[n.length-1]],t}function cn(t,e){return xo(t,n=>se(n)?cn(n,e):Array.isArray(n)?n.length===0||n.every(r=>typeof r=="string")?e(n):n.some(r=>se(r)?cn(r,e):e(r)):e(n))}function zt(t){var e;return((e=t)===null||e===void 0?void 0:e.nodeName)==="INPUT"}function No(t){var e;return((e=t)===null||e===void 0?void 0:e.nodeName)==="TEXTAREA"}function qt(t){var e;return((e=t)===null||e===void 0?void 0:e.nodeName)==="SELECT"}function sr(t){var e;return((e=t)===null||e===void 0?void 0:e.nodeName)==="FIELDSET"}function Le(t){return zt(t)||No(t)||qt(t)}function rs(t){return t.nodeType===Node.ELEMENT_NODE}function Re(t,e){return e!=null?e:Le(t)?t.name:""}function pr(t){let e=t;for(;e&&e.nodeName!=="FORM";){if(e.hasAttribute("data-felte-ignore"))return!0;e=e.parentElement}return!1}function Io(t,e){if(!(se(t)||se(e))){if(t===null||t==="")return e;if(e===null||e===""||!e)return t;if(!(!t||!e)){if(Array.isArray(t)){if(!Array.isArray(e))return[...t,e];const n=[],r=Math.max(e.length,t.length);for(let s=0;s<r;s++){let i=t[s],o=e[s];!se(i)&&!se(o)?(Array.isArray(i)||(i=[i]),Array.isArray(o)||(o=[o]),n.push(...i,...o)):n.push(Ft([i!=null?i:{},o!=null?o:{}]))}return n.filter(Boolean)}return Array.isArray(e)||(e=[e]),[t,...e].reduce((n,r)=>n.concat(r),[]).filter(Boolean)}}}function Ft(t){return St(...t,Io)}function jo(t,e){return e?(Array.isArray(e)?e:[e]).map(r=>r(t)):[]}function br(t,e){return e?Array.isArray(e)?e.reduce((n,r)=>r(n),t):e(t):t}function Pr(t=8){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";let n="";for(let r=0;r<t;r++)n+=e.charAt(Math.floor(Math.random()*e.length));return n}function Ln(t,e,{onInit:n,onEnd:r}={}){let s;return(...i)=>{s||n==null||n(),s&&clearTimeout(s),s=setTimeout(()=>{t.apply(this,i),s=void 0,r==null||r()},e)}}function vr(t){if(Le(t))return[t];if(t.childElementCount===0)return[];const e=new Set;for(const n of t.children){if(Le(n)&&e.add(n),sr(n))for(const r of n.elements)Le(r)&&e.add(r);n.childElementCount>0&&vr(n).forEach(r=>e.add(r))}return Array.from(e)}function Gs(t){for(const e of t.elements)!Le(e)&&!sr(e)||t.hasAttribute("data-felte-keep-on-remove")&&!e.hasAttribute("data-felte-keep-on-remove")&&(e.dataset.felteKeepOnRemove=t.dataset.felteKeepOnRemove)}function Qs(t){return t.type.match(/^(number|range)$/)?t.value?+t.value:void 0:t.value}function ss(t){var e;let n={},r={};for(const s of t.elements){if(sr(s)&&Gs(s),!Le(s)||!s.name)continue;const i=Re(s);if(zt(s)){if(s.type==="checkbox"){if(typeof ct(n,i)>"u"){if(Array.from(t.querySelectorAll(`[name="${s.name}"]`)).filter(l=>Le(l)?i===Re(l):!1).length===1){n=ye(n,i,s.checked),r=ye(r,i,!1);continue}n=ye(n,i,s.checked?[s.value]:[]),r=ye(r,i,!1);continue}Array.isArray(ct(n,i))&&s.checked&&(n=Gt(n,i,a=>[...a,s.value]));continue}if(s.type==="radio"){if(ct(n,i))continue;n=ye(n,i,s.checked?s.value:void 0),r=ye(r,i,!1);continue}if(s.type==="file"){n=ye(n,i,s.multiple?Array.from(s.files||[]):(e=s.files)===null||e===void 0?void 0:e[0]),r=ye(r,i,!1);continue}}else if(qt(s)){if(!s.multiple)n=ye(n,i,s.value);else{const l=Array.from(s.options).filter(c=>c.selected).map(c=>c.value);n=ye(n,i,l)}r=ye(r,i,!1);continue}const o=Qs(s);n=ye(n,i,o),r=ye(r,i,!1)}return{defaultData:n,defaultTouched:r}}function Ro(t,e){var n;if(!Le(t))return;const r=e;if(zt(t)){if(t.type==="checkbox"){const s=r;if(typeof s>"u"||typeof s=="boolean"){t.checked=!!s;return}Array.isArray(s)&&(s.includes(t.value)?t.checked=!0:t.checked=!1);return}if(t.type==="radio"){const s=r;t.value===s?t.checked=!0:t.checked=!1;return}if(t.type==="file"){t.files=null,t.value="";return}}else if(qt(t)){if(t.multiple){if(Array.isArray(r)){t.value=String((n=r[0])!==null&&n!==void 0?n:"");const i=r.map(o=>String(o));for(const o of t.options)i.includes(o.value)?o.selected=!0:o.selected=!1}}else{t.value=String(r!=null?r:"");for(const i of t.options)i.value===String(r)?i.selected=!0:i.selected=!1}return}t.value=String(r!=null?r:"")}function wn(t,e){for(const n of t.elements){if(sr(n)&&Gs(n),!Le(n)||!n.name)continue;const r=Re(n);Ro(n,ct(e,r))}}function is(t){const e=t.config;if(t.stage==="SETUP"){if(!e.__felteReporterSvelteId){const n=Pr(21);e.__felteReporterSvelteId=n,Ys[n]=t.errors,Ks[n]=t.warnings}return{}}return t.form.hasAttribute("data-felte-reporter-svelte-id")||(t.form.dataset.felteReporterSvelteId=e.__felteReporterSvelteId),{onSubmitError(){const n=t&&t.form.querySelector('[aria-invalid="true"]:not([type="hidden"])');n&&n.focus()}}}function Lo(t){return!t||"preventFocusOnError"in t?e=>is(e):is(t)}const Mo=t=>({messages:t&4}),os=t=>({messages:t[2]}),Zo=t=>({messages:t&4}),as=t=>({messages:t[2]});function Po(t){let e;const n=t[9].placeholder,r=Kn(n,t,t[8],os);return{c(){r&&r.c()},m(s,i){r&&r.m(s,i),e=!0},p(s,i){r&&r.p&&(!e||i&260)&&Gn(r,n,s,s[8],e?Xn(n,s[8],i,Mo):Qn(s[8]),os)},i(s){e||(Z(r,s),e=!0)},o(s){F(r,s),e=!1},d(s){r&&r.d(s)}}}function Fo(t){let e;const n=t[9].default,r=Kn(n,t,t[8],as);return{c(){r&&r.c()},m(s,i){r&&r.m(s,i),e=!0},p(s,i){r&&r.p&&(!e||i&260)&&Gn(r,n,s,s[8],e?Xn(n,s[8],i,Zo):Qn(s[8]),as)},i(s){e||(Z(r,s),e=!0)},o(s){F(r,s),e=!1},d(s){r&&r.d(s)}}}function Do(t){let e,n,r,s,i,o;const a=[Fo,Po],l=[];function c(u,f){return!u[3].placeholder||u[2]?0:1}return r=c(t),s=l[r]=a[r](t),{c(){e=T("div"),n=U(),s.c(),i=Tt(),js(e,"display","none")},m(u,f){w(u,e,f),t[10](e),w(u,n,f),l[r].m(u,f),w(u,i,f),o=!0},p(u,[f]){let d=r;r=c(u),r===d?l[r].p(u,f):(Ye(),F(l[d],1,1,()=>{l[d]=null}),Ke(),s=l[r],s?s.p(u,f):(s=l[r]=a[r](u),s.c()),Z(s,1),s.m(i.parentNode,i))},i(u){o||(Z(s),o=!0)},o(u){F(s),o=!1},d(u){u&&v(e),t[10](null),u&&v(n),l[r].d(u),u&&v(i)}}}function Uo(t,e,n){let r,s,i=K,o=()=>(i(),i=Nr(d,A=>n(7,s=A)),d);t.$$.on_destroy.push(()=>i());let{$$slots:a={},$$scope:l}=e;const c=Si(a);let{level:u="error"}=e,{for:f}=e,d,p,m;function h(){return m.closest("form")}Mi(()=>{n(6,p=Re(m,f));const j=h();o(j?u==="error"?n(0,d=Ys[j.dataset.felteReporterSvelteId]):n(0,d=Ks[j.dataset.felteReporterSvelteId]):n(0,d=st({})))});function k(A){Rn[A?"unshift":"push"](()=>{m=A,n(1,m)})}return t.$$set=A=>{"level"in A&&n(4,u=A.level),"for"in A&&n(5,f=A.for),"$$scope"in A&&n(8,l=A.$$scope)},t.$$.update=()=>{t.$$.dirty&192&&n(2,r=p&&ct(s,p))},[d,m,r,c,u,f,p,s,l,a,k]}class Wo extends Be{constructor(e){super(),qe(this,e,Uo,Do,Me,{level:4,for:5})}}const zo=Wo;function ls(t){let e,n,r;return{c(){e=T("p"),n=T("small"),r=D(t[4]),b(e,"class","text-gray-500")},m(s,i){w(s,e,i),S(e,n),S(n,r)},p(s,i){i&16&&rt(r,s[4])},d(s){s&&v(e)}}}function cs(t){let e,n;return e=new zo({props:{for:t[1],$$slots:{placeholder:[Bo,({messages:r})=>({9:r}),({messages:r})=>r?512:0],default:[qo,({messages:r})=>({9:r}),({messages:r})=>r?512:0]},$$scope:{ctx:t}}}),{c(){le(e.$$.fragment)},m(r,s){ie(e,r,s),n=!0},p(r,s){const i={};s&2&&(i.for=r[1]),s&1536&&(i.$$scope={dirty:s,ctx:r}),e.$set(i)},i(r){n||(Z(e.$$.fragment,r),n=!0)},o(r){F(e.$$.fragment,r),n=!1},d(r){oe(e,r)}}}function qo(t){let e,n=t[9]+"",r;return{c(){e=T("p"),r=D(n),b(e,"class","text-red-500 my-2")},m(s,i){w(s,e,i),S(e,r)},p(s,i){i&512&&n!==(n=s[9]+"")&&rt(r,n)},d(s){s&&v(e)}}}function Bo(t){let e;return{c(){e=T("span"),b(e,"slot","placeholder")},m(n,r){w(n,e,r)},p:K,d(n){n&&v(e)}}}function Ho(t){let e,n,r,s,i,o,a,l,c,u,f,d=t[4]&&ls(t),p=t[1]!==void 0&&cs(t);return{c(){e=T("section"),n=T("label"),r=T("p"),s=D(t[3]),i=U(),o=T("input"),a=U(),d&&d.c(),l=U(),p&&p.c(),b(r,"class","mb-2"),b(o,"class","w-full p-2 rounded border outline-2 aria-[invalid]:outline aria-[invalid]:outline-red-500"),b(o,"name",t[1]),b(o,"type",t[2]),b(o,"autocomplete","off"),b(o,"autocorrect","off"),b(o,"autocapitalize","none"),o.required=t[5],o.disabled=t[6],b(o,"aria-required",t[5]),b(o,"placeholder",t[7]),o.value=t[0],b(e,"class","mb-2")},m(m,h){w(m,e,h),S(e,n),S(n,r),S(r,s),S(n,i),S(n,o),S(e,a),d&&d.m(e,null),S(e,l),p&&p.m(e,null),c=!0,u||(f=De(o,"input",t[8]),u=!0)},p(m,[h]){(!c||h&8)&&rt(s,m[3]),(!c||h&2)&&b(o,"name",m[1]),(!c||h&4)&&b(o,"type",m[2]),(!c||h&32)&&(o.required=m[5]),(!c||h&64)&&(o.disabled=m[6]),(!c||h&32)&&b(o,"aria-required",m[5]),(!c||h&128)&&b(o,"placeholder",m[7]),(!c||h&1&&o.value!==m[0])&&(o.value=m[0]),m[4]?d?d.p(m,h):(d=ls(m),d.c(),d.m(e,l)):d&&(d.d(1),d=null),m[1]!==void 0?p?(p.p(m,h),h&2&&Z(p,1)):(p=cs(m),p.c(),Z(p,1),p.m(e,null)):p&&(Ye(),F(p,1,1,()=>{p=null}),Ke())},i(m){c||(Z(p),c=!0)},o(m){F(p),c=!1},d(m){m&&v(e),d&&d.d(),p&&p.d(),u=!1,f()}}}function Vo(t,e,n){let{name:r=void 0}=e,{type:s="text"}=e,{label:i}=e,{hint:o=void 0}=e,{required:a=!1}=e,{disabled:l=!1}=e,{placeholder:c=void 0}=e,{value:u=void 0}=e;function f(d){s==="number"?n(0,u=parseInt(d.currentTarget.value,10)):n(0,u=d.currentTarget.value)}return t.$$set=d=>{"name"in d&&n(1,r=d.name),"type"in d&&n(2,s=d.type),"label"in d&&n(3,i=d.label),"hint"in d&&n(4,o=d.hint),"required"in d&&n(5,a=d.required),"disabled"in d&&n(6,l=d.disabled),"placeholder"in d&&n(7,c=d.placeholder),"value"in d&&n(0,u=d.value)},[u,r,s,i,o,a,l,c,f]}class ot extends Be{constructor(e){super(),qe(this,e,Vo,Ho,Me,{name:1,type:2,label:3,hint:4,required:5,disabled:6,placeholder:7,value:0})}}function Jo(t){let e,n;return{c(){e=Br("svg"),n=Br("path"),b(n,"d","M4.233 0a4.233 4.233 0 0 0-2.986 1.247l.742.742a3.175 3.175 0 0 1 2.244-.93 3.175 3.175 0 0 1 2.245.93l.748-.748A4.233 4.233 0 0 0 4.233 0Z"),js(n,"fill","white"),b(e,"xmlns","http://www.w3.org/2000/svg"),b(e,"class","inline-block animate-spin"),b(e,"width",t[0]),b(e,"height",t[0]),b(e,"viewBox","0 0 8.467 8.467")},m(r,s){w(r,e,s),S(e,n)},p(r,[s]){s&1&&b(e,"width",r[0]),s&1&&b(e,"height",r[0])},i:K,o:K,d(r){r&&v(e)}}}function Yo(t,e,n){let{size:r=16}=e;return t.$$set=s=>{"size"in s&&n(0,r=s.size)},[r]}class ei extends Be{constructor(e){super(),qe(this,e,Yo,Jo,Me,{size:0})}}function Ko(){return new Worker("/assets/worker.9e190674.js")}const ti=new Ko,ni=new Array;ti.addEventListener("message",t=>{var n;const e=t.data;(n=ni.shift())==null||n(e)});function ri(t){return new Promise(e=>{ni.push(e),ti.postMessage(t)})}async function Xo(t,e){const n=await ri({type:"computePassword",keys:t,app:e});if(n.type!=="computePassword")throw new Error("Invalid response");return n.result}async function Go(t){const e=await ri({type:"computeKeys",master:t});if(e.type!=="computeKeys")throw new Error("Invalid response");return e.result}function Qo(t){let e;return{c(){e=D("Decrypt Storage")},m(n,r){w(n,e,r)},i:K,o:K,d(n){n&&v(e)}}}function ea(t){let e,n,r;return e=new ei({}),{c(){le(e.$$.fragment),n=D(`
      Decrypting Storage`)},m(s,i){ie(e,s,i),w(s,n,i),r=!0},i(s){r||(Z(e.$$.fragment,s),r=!0)},o(s){F(e.$$.fragment,s),r=!1},d(s){oe(e,s),s&&v(n)}}}function ta(t){let e,n,r,s,i,o,a,l,c,u,f;function d(A){t[3](A)}let p={type:"password",label:"Enter your Master Password",hint:"Used for decrypting storage and computing passwords",disabled:t[1]};t[0]!==void 0&&(p.value=t[0]),n=new ot({props:p}),Rn.push(()=>Hi(n,"value",d));const m=[ea,Qo],h=[];function k(A,j){return A[1]?0:1}return o=k(t),a=h[o]=m[o](t),{c(){e=T("form"),le(n.$$.fragment),s=U(),i=T("button"),a.c(),b(i,"class","px-4 py-2 rounded bg-blue-600 hover:bg-blue-700 active:bg-blue-800 text-white disabled:bg-blue-400 flex gap-2 items-center"),b(i,"type","submit"),i.disabled=l=!t[0]||t[1],b(e,"autocomplete","off")},m(A,j){w(A,e,j),ie(n,e,null),S(e,s),S(e,i),h[o].m(i,null),c=!0,u||(f=De(e,"submit",Ge(t[2])),u=!0)},p(A,[j]){const M={};j&2&&(M.disabled=A[1]),!r&&j&1&&(r=!0,M.value=A[0],Pi(()=>r=!1)),n.$set(M);let g=o;o=k(A),o!==g&&(Ye(),F(h[g],1,1,()=>{h[g]=null}),Ke(),a=h[o],a||(a=h[o]=m[o](A),a.c()),Z(a,1),a.m(i,null)),(!c||j&3&&l!==(l=!A[0]||A[1]))&&(i.disabled=l)},i(A){c||(Z(n.$$.fragment,A),Z(a),c=!0)},o(A){F(n.$$.fragment,A),F(a),c=!1},d(A){A&&v(e),oe(n),h[o].d(),u=!1,f()}}}function na(t,e,n){let r;Qe(t,it,l=>n(4,r=l));let s="",i=!1;async function o(){n(1,i=!0),er(it,r=await Go(s),r),n(1,i=!1),Wt("/applications")}function a(l){s=l,n(0,s)}return[s,i,o,a]}class ra extends Be{constructor(e){super(),qe(this,e,na,ta,Me,{})}}function sa(t,e,n){let r;return Qe(t,it,s=>n(0,r=s)),er(it,r=void 0,r),ln("/login"),[]}class ia extends Be{constructor(e){super(),qe(this,e,sa,null,Me,{})}}function oa(t,...e){const n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function Et(t){let e;return oa(t,n=>e=n)(),e}class aa extends Error{constructor(e,n){super(e),this.name="FelteSubmitError",this.response=n}}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function si(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function ht(t,e){return rr(t,n=>se(n)?ht(n,e):Array.isArray(n)?n.length===0||n.every(r=>typeof r=="string")?e:n.map(r=>{const s=ht(r,e);return si(s,["key"])}):e)}function vt(t){return t?rr(t,e=>se(e)?vt(e):Array.isArray(e)?e.length===0||e.every(n=>typeof n=="string")?e:e.map(n=>{if(!se(n))return n;const r=vt(n);return r.key||(r.key=Pr()),r}):e):{}}function rn(t){return t?rr(t,e=>se(e)?vt(e):Array.isArray(e)?e.length===0||e.every(n=>typeof n=="string")?e:e.map(n=>{if(!se(n))return n;const r=vt(n);return si(r,["key"])}):e):{}}function la(){class t extends CustomEvent{constructor(s){super("feltesuccess",{detail:s})}}class e extends CustomEvent{constructor(s){super("felteerror",{detail:s,cancelable:!0})}setErrors(s){this.preventDefault(),this.errors=s}}class n extends Event{constructor(){super("feltesubmit",{cancelable:!0})}handleSubmit(s){this.onSubmit=s}handleError(s){this.onError=s}handleSuccess(s){this.onSuccess=s}}return{createErrorEvent:r=>new e(r),createSubmitEvent:()=>new n,createSuccessEvent:r=>new t(r)}}function ca(t){if(!!t)return async function(){let n=new FormData(t);const r=new URL(t.action),s=t.method.toLowerCase()==="get"?"get":r.searchParams.get("_method")||t.method;let i=t.enctype;t.querySelector('input[type="file"]')&&(i="multipart/form-data"),(s==="get"||i==="application/x-www-form-urlencoded")&&(n=new URLSearchParams(n));let o;s==="get"?(n.forEach((l,c)=>{r.searchParams.append(c,l)}),o={method:s,headers:{Accept:"application/json"}}):o={method:s,body:n,headers:Object.assign(Object.assign({},i!=="multipart/form-data"&&{"Content-Type":i}),{Accept:"application/json"})};const a=await window.fetch(r.toString(),o);if(a.ok)return a;throw new aa("An error occurred while submitting the form",a)}}function kn(t,e,n,r){return Gt(t,e,s=>(typeof s<"u"&&!Array.isArray(s)||(s||(s=[]),typeof r>"u"?s.push(n):s.splice(r,0,n)),s))}function ua(t,e,n,r){return Gt(t,e,s=>(!s||!Array.isArray(s)||([s[n],s[r]]=[s[r],s[n]]),s))}function da(t,e,n,r){return Gt(t,e,s=>(!s||!Array.isArray(s)||s.splice(r,0,s.splice(n,1)[0]),s))}function us(t){return typeof t=="function"}function At(t){return(n,r)=>{if(typeof n=="string"){const s=n;t(i=>{const o=us(r)?r(ct(i,s)):r;return ye(i,s,o)})}else t(s=>us(n)?n(s):n)}}function fa({stores:t,config:e,validateErrors:n,validateWarnings:r,_getCurrentExtenders:s}){var i;let o,a=vt((i=e.initialValues)!==null&&i!==void 0?i:{});const{data:l,touched:c,errors:u,warnings:f,isDirty:d,isSubmitting:p,interacted:m}=t,h=At(l.update),k=At(c.update),A=At(u.update),j=At(f.update);function M($){h(q=>{const Y=$(q);return o&&wn(o,Y),Y})}const g=($,q,Y)=>{At(M)($,q),typeof $=="string"&&Y&&k($,!0)};function E($,q,Y){const ue=se(q)?ht(q,!1):!1,ce=se(ue)?Je(ue,[]):[];q=se(q)?Object.assign(Object.assign({},q),{key:Pr()}):q,u.update(re=>kn(re,$,ce,Y)),f.update(re=>kn(re,$,ce,Y)),c.update(re=>kn(re,$,ue,Y)),l.update(re=>{const Ee=kn(re,$,q,Y);return setTimeout(()=>o&&wn(o,Ee)),Ee})}function _($){u.update($),f.update($),c.update($),l.update(q=>{const Y=$(q);return setTimeout(()=>o&&wn(o,Y)),Y})}function R($){_(q=>nn(q,$))}function P($,q,Y){_(ue=>ua(ue,$,q,Y))}function J($,q,Y){_(ue=>da(ue,$,q,Y))}function ke($){const q=ct(a,$),Y=se(q)?ht(q,!1):!1,ue=se(Y)?Je(Y,[]):[];l.update(ce=>{const re=ye(ce,$,q);return o&&wn(o,re),re}),c.update(ce=>ye(ce,$,Y)),u.update(ce=>ye(ce,$,ue)),f.update(ce=>ye(ce,$,ue))}const z=At(p.update),_e=At(d.update),pe=At(m.update);async function Ae(){const $=Et(l);c.set(ht($,!0)),m.set(null);const q=await n($);return await r($),q}function be(){g(Ve(a)),k($=>Je($,!1)),m.set(null),d.set(!1)}function Q($){return async function(Y){var ue,ce,re,Ee,me,Ze,Ce;const{createErrorEvent:xe,createSubmitEvent:Pe,createSuccessEvent:$e}=la(),we=Pe();o==null||o.dispatchEvent(we);const O=(ce=(ue=we.onError)!==null&&ue!==void 0?ue:$==null?void 0:$.onError)!==null&&ce!==void 0?ce:e.onError,y=(Ee=(re=we.onSuccess)!==null&&re!==void 0?re:$==null?void 0:$.onSuccess)!==null&&Ee!==void 0?Ee:e.onSuccess,N=(Ce=(Ze=(me=we.onSubmit)!==null&&me!==void 0?me:$==null?void 0:$.onSubmit)!==null&&Ze!==void 0?Ze:e.onSubmit)!==null&&Ce!==void 0?Ce:ca(o);if(!N||(Y==null||Y.preventDefault(),we.defaultPrevented))return;p.set(!0),m.set(null);const V=rn(Et(l)),Ne=await n(V,$==null?void 0:$.validate),C=await r(V,$==null?void 0:$.warn);if(C&&f.set(Xs(Je(V,[]),C)),c.set(ht(V,!0)),Ne&&(c.set(ht(Ne,!0)),cn(Ne,Te=>Array.isArray(Te)?Te.length>=1:!!Te))){await new Promise(Te=>setTimeout(Te)),s().forEach(Te=>{var x;return(x=Te.onSubmitError)===null||x===void 0?void 0:x.call(Te,{data:V,errors:Ne})}),p.set(!1);return}const Fe={setFields:g,setData:h,setTouched:k,setErrors:A,setWarnings:j,unsetField:R,addField:E,resetField:ke,reset:be,setInitialValues:Ie.setInitialValues,moveField:J,swapFields:P,form:o,controls:o&&Array.from(o.elements).filter(Le),config:Object.assign(Object.assign({},e),$)};try{const Se=await N(V,Fe);o==null||o.dispatchEvent($e(Object.assign({response:Se},Fe))),await(y==null?void 0:y(Se,Fe))}catch(Se){const Te=xe(Object.assign({error:Se},Fe));if(o==null||o.dispatchEvent(Te),!O&&!Te.defaultPrevented)throw Se;if(!O&&!Te.errors)return;const x=Te.errors||await(O==null?void 0:O(Se,Fe));x&&(c.set(ht(x,!0)),u.set(x),await new Promise(H=>setTimeout(H)),s().forEach(H=>{var tt;return(tt=H.onSubmitError)===null||tt===void 0?void 0:tt.call(H,{data:V,errors:Et(u)})}))}finally{p.set(!1)}}}const Ie={setData:h,setFields:g,setTouched:k,setErrors:A,setWarnings:j,setIsSubmitting:z,setIsDirty:_e,setInteracted:pe,validate:Ae,reset:be,unsetField:R,resetField:ke,addField:E,swapFields:P,moveField:J,createSubmitHandler:Q,handleSubmit:Q(),setInitialValues:$=>{a=vt($)}};return{public:Ie,private:{_setFormNode($){o=$},_getInitialValues:()=>a}}}function pa({helpers:t,stores:e,config:n,extender:r,createSubmitHandler:s,handleSubmit:i,_setFormNode:o,_getInitialValues:a,_setCurrentExtenders:l,_getCurrentExtenders:c}){const{setFields:u,setTouched:f,reset:d,setInitialValues:p}=t,{addValidator:m,addTransformer:h,validate:k}=t,{data:A,errors:j,warnings:M,touched:g,isSubmitting:E,isDirty:_,interacted:R,isValid:P,isValidating:J}=e;function ke(z){z.requestSubmit||(z.requestSubmit=i);function _e(O){return function(y){return y({form:z,stage:O,controls:Array.from(z.elements).filter(Le),data:A,errors:j,warnings:M,touched:g,isValid:P,isValidating:J,isSubmitting:E,isDirty:_,interacted:R,config:n,addValidator:m,addTransformer:h,setFields:u,validate:k,reset:d,createSubmitHandler:s,handleSubmit:i})}}l(r.map(_e("MOUNT"))),z.noValidate=!!n.validate;const{defaultData:pe,defaultTouched:Ae}=ss(z);o(z),p(Xs(Ve(pe),a())),u(a()),g.set(Ae);function be(O){const y=Re(O),N=Array.from(z.querySelectorAll(`[name="${O.name}"]`)).filter(V=>Le(V)?y===Re(V):!1);if(N.length!==0)return N.length===1?A.update(V=>ye(V,Re(O),O.checked)):A.update(V=>ye(V,Re(O),N.filter(zt).filter(Ne=>Ne.checked).map(Ne=>Ne.value)))}function Q(O){const y=z.querySelectorAll(`[name="${O.name}"]`),N=Array.from(y).find(V=>zt(V)&&V.checked);A.update(V=>ye(V,Re(O),N==null?void 0:N.value))}function Ie(O){var y;const N=Array.from((y=O.files)!==null&&y!==void 0?y:[]);A.update(V=>ye(V,Re(O),O.multiple?N:N[0]))}function Oe(O){if(!O.multiple)A.update(y=>ye(y,Re(O),O.value));else{const y=Array.from(O.options).filter(N=>N.selected).map(N=>N.value);A.update(N=>ye(N,Re(O),y))}}function $(O){const y=O.target;if(!y||!Le(y)||qt(y)||pr(y)||["checkbox","radio","file"].includes(y.type)||!y.name)return;_.set(!0);const N=Qs(y);R.set(y.name),A.update(V=>ye(V,Re(y),N))}function q(O){const y=O.target;if(!(!y||!Le(y)||pr(y))&&!!y.name)if(f(Re(y),!0),R.set(y.name),(qt(y)||["checkbox","radio","file","hidden"].includes(y.type))&&_.set(!0),y.type==="hidden"&&A.update(N=>ye(N,Re(y),y.value)),qt(y))Oe(y);else if(zt(y))y.type==="checkbox"?be(y):y.type==="radio"?Q(y):y.type==="file"&&Ie(y);else return}function Y(O){const y=O.target;!y||!Le(y)||pr(y)||!y.name||(f(Re(y),!0),R.set(y.name))}function ue(O){O.preventDefault(),d()}const ce={childList:!0,subtree:!0};function re(O){let y=Et(A),N=Et(g),V=Et(j),Ne=Et(M);for(const C of O.reverse()){if(C.hasAttribute("data-felte-keep-on-remove")&&C.dataset.felteKeepOnRemove!=="false")continue;const Fe=/.*(\[[0-9]+\]|\.[0-9]+)\.[^.]+$/;let Se=Re(C);const Te=Et(g);if(Fe.test(Se)){const H=Se.split(".").slice(0,-1).join("."),tt=ct(Te,H);se(tt)&&Object.keys(tt).length<=1&&(Se=H)}y=nn(y,Se),N=nn(N,Se),V=nn(V,Se),Ne=nn(Ne,Se)}A.set(y),g.set(N),j.set(V),M.set(Ne)}const Ee=Ln(()=>{c().forEach(N=>{var V;return(V=N.destroy)===null||V===void 0?void 0:V.call(N)}),l(r.map(_e("UPDATE")));const{defaultData:O,defaultTouched:y}=ss(z);A.update(N=>ns(N,O)),g.update(N=>ns(N,y))},0);let me=[];const Ze=Ln(()=>{c().forEach(O=>{var y;return(y=O.destroy)===null||y===void 0?void 0:y.call(O)}),l(r.map(_e("UPDATE"))),re(me),me=[]},0);function Ce(O){!Array.from(O.addedNodes).some(N=>rs(N)?Le(N)?!0:vr(N).length>0:!1)||Ee()}function xe(O){for(const y of O.removedNodes){if(!rs(y))continue;const N=vr(y);N.length!==0&&(me.push(...N),Ze())}}function Pe(O){for(const y of O)y.type==="childList"&&(y.addedNodes.length>0&&Ce(y),y.removedNodes.length>0&&xe(y))}const $e=new MutationObserver(Pe);$e.observe(z,ce),z.addEventListener("input",$),z.addEventListener("change",q),z.addEventListener("focusout",Y),z.addEventListener("submit",i),z.addEventListener("reset",ue);const we=j.subscribe(O=>{for(const y of z.elements){if(!Le(y)||!y.name)continue;const N=ct(O,Re(y)),V=Array.isArray(N)?N.join(`
`):typeof N=="string"?N:void 0;V!==y.dataset.felteValidationMessage&&(V?(y.dataset.felteValidationMessage=V,y.setAttribute("aria-invalid","true")):(delete y.dataset.felteValidationMessage,y.removeAttribute("aria-invalid")))}});return{destroy(){$e.disconnect(),z.removeEventListener("input",$),z.removeEventListener("change",q),z.removeEventListener("focusout",Y),z.removeEventListener("submit",i),z.removeEventListener("reset",ue),we(),c().forEach(O=>{var y;return(y=O.destroy)===null||y===void 0?void 0:y.call(O)})}}}return{form:ke}}function ma(t){const e={aborted:!1,priority:t};return{signal:e,abort(){e.aborted=!0}}}function ha(t,e){if(se(t))return!e||se(e)&&Object.keys(e).length===0?Je(t,null):void 0;if(Array.isArray(t)){if(t.some(se))return;const n=Array.isArray(e)?e:[];return t.map((r,s)=>{const i=n[s];return Array.isArray(i)&&i.length===0?null:r&&i||null})}return Array.isArray(e)&&e.length===0?null:Array.isArray(e)?t?e:null:t&&e?[e]:null}function ya(t,e){if(se(t))return!e||se(e)&&Object.keys(e).length===0?Je(t,null):void 0;if(Array.isArray(t)){if(t.some(se))return;const n=Array.isArray(e)?e:[];return t.map((r,s)=>{const i=n[s];return Array.isArray(i)&&i.length===0?null:i||null})}return Array.isArray(e)&&e.length===0?null:Array.isArray(e)?e:e?[e]:null}function _a([t,e]){return St(e,t,ha)}function ga([t,e]){return St(e,t,ya)}function ba(t){return function(n,r,s){const i=Array.isArray(n)?n:[n],o=new Array(i.length),a=t(s),l=a.set,c=a.subscribe;let u;function f(){u=i.map((p,m)=>p.subscribe(h=>{o[m]=h,l(r(o))}))}function d(){u==null||u.forEach(p=>p())}return a.subscribe=function(m){const h=c(m);return()=>{h()}},[a,f,d]}}function va(t,e){var n,r,s,i,o,a,l,c,u;const f=ba(t),d=e.initialValues=e.initialValues?vt(br(Ve(e.initialValues),e.transform)):{},p=ht(rn(d),!1),m=t(p),h=t(0),[k,A,j]=f([m,h],([he,de])=>cn(he,Xe=>!!Xe)&&de>=1,!1);delete k.set,delete k.update;function M(he){let de;return async function(Xe,nt,He,Ot=!1){if(!He||!Xe)return;let kt=nt&&Object.keys(nt).length>0?nt:Je(Xe,[]);const Nt=ma(Ot);if((!(de!=null&&de.signal.priority)||Ot)&&(de==null||de.abort(),de=Nt),de.signal.priority&&!Ot)return;h.update(Qt=>Qt+1);const zr=jo(Xe,He);return zr.forEach(async Qt=>{const ki=await Qt;Nt.signal.aborted||(kt=Ft([kt,ki]),he.set(kt))}),await Promise.all(zr),de=void 0,h.update(Qt=>Qt-1),kt}}let g=Je(p,[]);const E=t(d),_=Je(p,[]),R=t(_),P=t(Ve(_)),[J,ke,z]=f([R,P],Ft,Ve(_)),_e=Je(p,[]),pe=t(_e),Ae=t(Ve(_e)),[be,Q,Ie]=f([pe,Ae],Ft,Ve(_e)),[Oe,$,q]=f([J,m],_a,Ve(_)),[Y,ue,ce]=f([be,m],ga,Ve(_e));let re=!1;const[Ee,me,Ze]=f(J,([he])=>{var de;return re?!cn(he,je=>Array.isArray(je)?je.length>=1:!!je):(re=!0,!e.validate&&!(!((de=e.debounced)===null||de===void 0)&&de.validate))},!e.validate&&!(!((n=e.debounced)===null||n===void 0)&&n.validate));delete Ee.set,delete Ee.update;const Ce=t(!1),xe=t(!1),Pe=t(null),$e=M(R),we=M(pe),O=M(P),y=M(Ae),N=Ln(O,(o=(s=(r=e.debounced)===null||r===void 0?void 0:r.validateTimeout)!==null&&s!==void 0?s:(i=e.debounced)===null||i===void 0?void 0:i.timeout)!==null&&o!==void 0?o:300,{onInit:()=>{h.update(he=>he+1)},onEnd:()=>{h.update(he=>he-1)}}),V=Ln(y,(u=(l=(a=e.debounced)===null||a===void 0?void 0:a.warnTimeout)!==null&&l!==void 0?l:(c=e.debounced)===null||c===void 0?void 0:c.timeout)!==null&&u!==void 0?u:300);async function Ne(he,de){var je;const Xe=rn(he),nt=$e(Xe,g,de!=null?de:e.validate,!0);if(de)return nt;const He=O(Xe,g,(je=e.debounced)===null||je===void 0?void 0:je.validate,!0);return Ft(await Promise.all([nt,He]))}async function C(he,de){var je;const Xe=rn(he),nt=we(Xe,g,de!=null?de:e.warn,!0);if(de)return nt;const He=y(Xe,g,(je=e.debounced)===null||je===void 0?void 0:je.warn,!0);return Ft(await Promise.all([nt,He]))}let Fe=_,Se=_e;function Te(){const he=E.subscribe(He=>{var Ot,kt;const Nt=rn(He);$e(Nt,g,e.validate),we(Nt,g,e.warn),N(Nt,g,(Ot=e.debounced)===null||Ot===void 0?void 0:Ot.validate),V(Nt,g,(kt=e.debounced)===null||kt===void 0?void 0:kt.warn)}),de=m.subscribe(He=>{g=Je(He,[])}),je=J.subscribe(He=>{Fe=He}),Xe=be.subscribe(He=>{Se=He});ke(),me(),Q(),$(),ue(),A();function nt(){he(),q(),z(),Ie(),ce(),Ze(),j(),de(),je(),Xe()}return nt}function x(he){R.set(he(Fe)),P.set({})}function H(he){pe.set(he(Se)),Ae.set({})}function tt(he){x(()=>he)}function yn(he){H(()=>he)}return Oe.set=tt,Oe.update=x,Y.set=yn,Y.update=H,{data:E,errors:Oe,warnings:Y,touched:m,isValid:Ee,isSubmitting:Ce,isDirty:xe,isValidating:k,interacted:Pe,validateErrors:Ne,validateWarnings:C,cleanup:e.preventStoreStart?()=>{}:Te(),start:Te}}function wa(t,e){var n,r;(n=t.extend)!==null&&n!==void 0||(t.extend=[]),(r=t.debounced)!==null&&r!==void 0||(t.debounced={}),t.validate&&!Array.isArray(t.validate)&&(t.validate=[t.validate]),t.debounced.validate&&!Array.isArray(t.debounced.validate)&&(t.debounced.validate=[t.debounced.validate]),t.transform&&!Array.isArray(t.transform)&&(t.transform=[t.transform]),t.warn&&!Array.isArray(t.warn)&&(t.warn=[t.warn]),t.debounced.warn&&!Array.isArray(t.debounced.warn)&&(t.debounced.warn=[t.debounced.warn]);function s(Q,{debounced:Ie,level:Oe}={debounced:!1,level:"error"}){var $;const q=Oe==="error"?"validate":"warn";($=t.debounced)!==null&&$!==void 0||(t.debounced={});const Y=Ie?t.debounced:t;Y[q]?Y[q]=[...Y[q],Q]:Y[q]=[Q]}function i(Q){t.transform?t.transform=[...t.transform,Q]:t.transform=[Q]}const o=Array.isArray(t.extend)?t.extend:[t.extend];let a=[];const l=()=>a,c=Q=>{a=Q},{isSubmitting:u,isValidating:f,data:d,errors:p,warnings:m,touched:h,isValid:k,isDirty:A,cleanup:j,start:M,validateErrors:g,validateWarnings:E,interacted:_}=va(e.storeFactory,t),R=d.update,P=d.set,J=Q=>R(Ie=>vt(br(Q(Ie),t.transform))),ke=Q=>P(vt(br(Q,t.transform)));d.update=J,d.set=ke;const z=fa({extender:o,config:t,addValidator:s,addTransformer:i,validateErrors:g,validateWarnings:E,_getCurrentExtenders:l,stores:{data:d,errors:p,warnings:m,touched:h,isValid:k,isValidating:f,isSubmitting:u,isDirty:A,interacted:_}}),{createSubmitHandler:_e,handleSubmit:pe}=z.public;a=o.map(Q=>Q({stage:"SETUP",errors:p,warnings:m,touched:h,data:d,isDirty:A,isValid:k,isValidating:f,isSubmitting:u,interacted:_,config:t,addValidator:s,addTransformer:i,setFields:z.public.setFields,reset:z.public.reset,validate:z.public.validate,handleSubmit:pe,createSubmitHandler:_e}));const Ae=Object.assign({config:t,stores:{data:d,touched:h,errors:p,warnings:m,isSubmitting:u,isValidating:f,isValid:k,isDirty:A,interacted:_},createSubmitHandler:_e,handleSubmit:pe,helpers:Object.assign(Object.assign({},z.public),{addTransformer:i,addValidator:s}),extender:o,_getCurrentExtenders:l,_setCurrentExtenders:c},z.private),{form:be}=pa(Ae);return Object.assign({data:d,errors:p,warnings:m,touched:h,isValid:k,isSubmitting:u,isValidating:f,isDirty:A,interacted:_,form:be,cleanup:j,startStores:M},z.public)}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function ka(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function ii(t){var e=wa(t!=null?t:{},{storeFactory:st}),n=e.cleanup;e.startStores;var r=ka(e,["cleanup","startStores"]);return jr(n),r}var wr={exports:{}},mr,ds;function Aa(){if(ds)return mr;ds=1;var t=1e3,e=t*60,n=e*60,r=n*24,s=r*7,i=r*365.25;mr=function(u,f){f=f||{};var d=typeof u;if(d==="string"&&u.length>0)return o(u);if(d==="number"&&isFinite(u))return f.long?l(u):a(u);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(u))};function o(u){if(u=String(u),!(u.length>100)){var f=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(u);if(!!f){var d=parseFloat(f[1]),p=(f[2]||"ms").toLowerCase();switch(p){case"years":case"year":case"yrs":case"yr":case"y":return d*i;case"weeks":case"week":case"w":return d*s;case"days":case"day":case"d":return d*r;case"hours":case"hour":case"hrs":case"hr":case"h":return d*n;case"minutes":case"minute":case"mins":case"min":case"m":return d*e;case"seconds":case"second":case"secs":case"sec":case"s":return d*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return d;default:return}}}}function a(u){var f=Math.abs(u);return f>=r?Math.round(u/r)+"d":f>=n?Math.round(u/n)+"h":f>=e?Math.round(u/e)+"m":f>=t?Math.round(u/t)+"s":u+"ms"}function l(u){var f=Math.abs(u);return f>=r?c(u,f,r,"day"):f>=n?c(u,f,n,"hour"):f>=e?c(u,f,e,"minute"):f>=t?c(u,f,t,"second"):u+" ms"}function c(u,f,d,p){var m=f>=d*1.5;return Math.round(u/d)+" "+p+(m?"s":"")}return mr}function Ea(t){n.debug=n,n.default=n,n.coerce=l,n.disable=i,n.enable=s,n.enabled=o,n.humanize=Aa(),n.destroy=c,Object.keys(t).forEach(u=>{n[u]=t[u]}),n.names=[],n.skips=[],n.formatters={};function e(u){let f=0;for(let d=0;d<u.length;d++)f=(f<<5)-f+u.charCodeAt(d),f|=0;return n.colors[Math.abs(f)%n.colors.length]}n.selectColor=e;function n(u){let f,d=null,p,m;function h(...k){if(!h.enabled)return;const A=h,j=Number(new Date),M=j-(f||j);A.diff=M,A.prev=f,A.curr=j,f=j,k[0]=n.coerce(k[0]),typeof k[0]!="string"&&k.unshift("%O");let g=0;k[0]=k[0].replace(/%([a-zA-Z%])/g,(_,R)=>{if(_==="%%")return"%";g++;const P=n.formatters[R];if(typeof P=="function"){const J=k[g];_=P.call(A,J),k.splice(g,1),g--}return _}),n.formatArgs.call(A,k),(A.log||n.log).apply(A,k)}return h.namespace=u,h.useColors=n.useColors(),h.color=n.selectColor(u),h.extend=r,h.destroy=n.destroy,Object.defineProperty(h,"enabled",{enumerable:!0,configurable:!1,get:()=>d!==null?d:(p!==n.namespaces&&(p=n.namespaces,m=n.enabled(u)),m),set:k=>{d=k}}),typeof n.init=="function"&&n.init(h),h}function r(u,f){const d=n(this.namespace+(typeof f>"u"?":":f)+u);return d.log=this.log,d}function s(u){n.save(u),n.namespaces=u,n.names=[],n.skips=[];let f;const d=(typeof u=="string"?u:"").split(/[\s,]+/),p=d.length;for(f=0;f<p;f++)!d[f]||(u=d[f].replace(/\*/g,".*?"),u[0]==="-"?n.skips.push(new RegExp("^"+u.slice(1)+"$")):n.names.push(new RegExp("^"+u+"$")))}function i(){const u=[...n.names.map(a),...n.skips.map(a).map(f=>"-"+f)].join(",");return n.enable(""),u}function o(u){if(u[u.length-1]==="*")return!0;let f,d;for(f=0,d=n.skips.length;f<d;f++)if(n.skips[f].test(u))return!1;for(f=0,d=n.names.length;f<d;f++)if(n.names[f].test(u))return!0;return!1}function a(u){return u.toString().substring(2,u.toString().length-2).replace(/\.\*\?$/,"*")}function l(u){return u instanceof Error?u.stack||u.message:u}function c(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return n.enable(n.load()),n}var Ca=Ea;(function(t,e){e.formatArgs=r,e.save=s,e.load=i,e.useColors=n,e.storage=o(),e.destroy=(()=>{let l=!1;return()=>{l||(l=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function n(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function r(l){if(l[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+l[0]+(this.useColors?"%c ":" ")+"+"+t.exports.humanize(this.diff),!this.useColors)return;const c="color: "+this.color;l.splice(1,0,c,"color: inherit");let u=0,f=0;l[0].replace(/%[a-zA-Z%]/g,d=>{d!=="%%"&&(u++,d==="%c"&&(f=u))}),l.splice(f,0,c)}e.log=console.debug||console.log||(()=>{});function s(l){try{l?e.storage.setItem("debug",l):e.storage.removeItem("debug")}catch{}}function i(){let l;try{l=e.storage.getItem("debug")}catch{}return!l&&typeof process<"u"&&"env"in process&&(l=process.env.DEBUG),l}function o(){try{return localStorage}catch{}}t.exports=Ca(e);const{formatters:a}=t.exports;a.j=function(l){try{return JSON.stringify(l)}catch(c){return"[UnexpectedJSONParseError]: "+c.message}}})(wr,wr.exports);const Fr=wr.exports;var Sa=Oa,at=[],fs="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var An=0,xa=fs.length;An<xa;++An)at[An]=fs[An];function Ta(t){return at[t>>18&63]+at[t>>12&63]+at[t>>6&63]+at[t&63]}function $a(t,e,n){for(var r,s=[],i=e;i<n;i+=3)r=(t[i]<<16&16711680)+(t[i+1]<<8&65280)+(t[i+2]&255),s.push(Ta(r));return s.join("")}function Oa(t){for(var e,n=t.length,r=n%3,s=[],i=16383,o=0,a=n-r;o<a;o+=i)s.push($a(t,o,o+i>a?a:o+i));return r===1?(e=t[n-1],s.push(at[e>>2]+at[e<<4&63]+"==")):r===2&&(e=(t[n-2]<<8)+t[n-1],s.push(at[e>>10]+at[e>>4&63]+at[e<<2&63]+"=")),s.join("")}const Na=new TextEncoder;function Ia(t){return Sa(Na.encode(t))}var fe;(function(t){t.assertEqual=s=>s;function e(s){}t.assertIs=e;function n(s){throw new Error}t.assertNever=n,t.arrayToEnum=s=>{const i={};for(const o of s)i[o]=o;return i},t.getValidEnumValues=s=>{const i=t.objectKeys(s).filter(a=>typeof s[s[a]]!="number"),o={};for(const a of i)o[a]=s[a];return t.objectValues(o)},t.objectValues=s=>t.objectKeys(s).map(function(i){return s[i]}),t.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const i=[];for(const o in s)Object.prototype.hasOwnProperty.call(s,o)&&i.push(o);return i},t.find=(s,i)=>{for(const o of s)if(i(o))return o},t.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&isFinite(s)&&Math.floor(s)===s;function r(s,i=" | "){return s.map(o=>typeof o=="string"?`'${o}'`:o).join(i)}t.joinValues=r,t.jsonStringifyReplacer=(s,i)=>typeof i=="bigint"?i.toString():i})(fe||(fe={}));const L=fe.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Ct=t=>{switch(typeof t){case"undefined":return L.undefined;case"string":return L.string;case"number":return isNaN(t)?L.nan:L.number;case"boolean":return L.boolean;case"function":return L.function;case"bigint":return L.bigint;case"object":return Array.isArray(t)?L.array:t===null?L.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?L.promise:typeof Map<"u"&&t instanceof Map?L.map:typeof Set<"u"&&t instanceof Set?L.set:typeof Date<"u"&&t instanceof Date?L.date:L.object;default:return L.unknown}},I=fe.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of"]),ja=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class bt extends Error{constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){const n=e||function(i){return i.message},r={_errors:[]},s=i=>{for(const o of i.issues)if(o.code==="invalid_union")o.unionErrors.map(s);else if(o.code==="invalid_return_type")s(o.returnTypeError);else if(o.code==="invalid_arguments")s(o.argumentsError);else if(o.path.length===0)r._errors.push(n(o));else{let a=r,l=0;for(;l<o.path.length;){const c=o.path[l];l===o.path.length-1?(a[c]=a[c]||{_errors:[]},a[c]._errors.push(n(o))):a[c]=a[c]||{_errors:[]},a=a[c],l++}}};return s(this),r}toString(){return this.message}get message(){return JSON.stringify(this.issues,fe.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},r=[];for(const s of this.issues)s.path.length>0?(n[s.path[0]]=n[s.path[0]]||[],n[s.path[0]].push(e(s))):r.push(e(s));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}bt.create=t=>new bt(t);const un=(t,e)=>{let n;switch(t.code){case I.invalid_type:t.received===L.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case I.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,fe.jsonStringifyReplacer)}`;break;case I.unrecognized_keys:n=`Unrecognized key(s) in object: ${fe.joinValues(t.keys,", ")}`;break;case I.invalid_union:n="Invalid input";break;case I.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${fe.joinValues(t.options)}`;break;case I.invalid_enum_value:n=`Invalid enum value. Expected ${fe.joinValues(t.options)}, received '${t.received}'`;break;case I.invalid_arguments:n="Invalid function arguments";break;case I.invalid_return_type:n="Invalid function return type";break;case I.invalid_date:n="Invalid date";break;case I.invalid_string:typeof t.validation=="object"?"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:fe.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case I.too_small:t.type==="array"?n=`Array must contain ${t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be greater than ${t.inclusive?"or equal to ":""}${t.minimum}`:t.type==="date"?n=`Date must be greater than ${t.inclusive?"or equal to ":""}${new Date(t.minimum)}`:n="Invalid input";break;case I.too_big:t.type==="array"?n=`Array must contain ${t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be less than ${t.inclusive?"or equal to ":""}${t.maximum}`:t.type==="date"?n=`Date must be smaller than ${t.inclusive?"or equal to ":""}${new Date(t.maximum)}`:n="Invalid input";break;case I.custom:n="Invalid input";break;case I.invalid_intersection_types:n="Intersection results could not be merged";break;case I.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;default:n=e.defaultError,fe.assertNever(t)}return{message:n}};let oi=un;function Ra(t){oi=t}function Mn(){return oi}const Zn=t=>{const{data:e,path:n,errorMaps:r,issueData:s}=t,i=[...n,...s.path||[]],o={...s,path:i};let a="";const l=r.filter(c=>!!c).slice().reverse();for(const c of l)a=c(o,{data:e,defaultError:a}).message;return{...s,path:i,message:s.message||a}},La=[];function W(t,e){const n=Zn({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,Mn(),un].filter(r=>!!r)});t.common.issues.push(n)}class We{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const s of n){if(s.status==="aborted")return G;s.status==="dirty"&&e.dirty(),r.push(s.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){const r=[];for(const s of n)r.push({key:await s.key,value:await s.value});return We.mergeObjectSync(e,r)}static mergeObjectSync(e,n){const r={};for(const s of n){const{key:i,value:o}=s;if(i.status==="aborted"||o.status==="aborted")return G;i.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),(typeof o.value<"u"||s.alwaysSet)&&(r[i.value]=o.value)}return{status:e.value,value:r}}}const G=Object.freeze({status:"aborted"}),Ma=t=>({status:"dirty",value:t}),ze=t=>({status:"valid",value:t}),kr=t=>t.status==="aborted",Ar=t=>t.status==="dirty",Pn=t=>t.status==="valid",Er=t=>typeof Promise!==void 0&&t instanceof Promise;var ae;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(ae||(ae={}));class dt{constructor(e,n,r,s){this.parent=e,this.data=n,this._path=r,this._key=s}get path(){return this._path.concat(this._key)}}const ps=(t,e)=>{if(Pn(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,error:new bt(t.common.issues)}};function ne(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:r,description:s}=t;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:s}:{errorMap:(o,a)=>o.code!=="invalid_type"?{message:a.defaultError}:typeof a.data>"u"?{message:r!=null?r:a.defaultError}:{message:n!=null?n:a.defaultError},description:s}}class te{constructor(e){this.spa=this.safeParseAsync,this.superRefine=this._refinement,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.default=this.default.bind(this),this.describe=this.describe.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return Ct(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:Ct(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new We,ctx:{common:e.parent.common,data:e.data,parsedType:Ct(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(Er(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){var r;const s={common:{issues:[],async:(r=n==null?void 0:n.async)!==null&&r!==void 0?r:!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Ct(e)},i=this._parseSync({data:e,path:s.path,parent:s});return ps(s,i)}async parseAsync(e,n){const r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Ct(e)},s=this._parse({data:e,path:[],parent:r}),i=await(Er(s)?s:Promise.resolve(s));return ps(r,i)}refine(e,n){const r=s=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(s):n;return this._refinement((s,i)=>{const o=e(s),a=()=>i.addIssue({code:I.custom,...r(s)});return typeof Promise<"u"&&o instanceof Promise?o.then(l=>l?!0:(a(),!1)):o?!0:(a(),!1)})}refinement(e,n){return this._refinement((r,s)=>e(r)?!0:(s.addIssue(typeof n=="function"?n(r,s):n),!1))}_refinement(e){return new mt({schema:this,typeName:X.ZodEffects,effect:{type:"refinement",refinement:e}})}optional(){return ut.create(this)}nullable(){return Mt.create(this)}nullish(){return this.optional().nullable()}array(){return ft.create(this)}promise(){return Xt.create(this)}or(e){return dn.create([this,e])}and(e){return fn.create(this,e)}transform(e){return new mt({schema:this,typeName:X.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new Dr({innerType:this,defaultValue:n,typeName:X.ZodDefault})}brand(){return new li({typeName:X.ZodBranded,type:this,...ne(void 0)})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const Za=/^c[^\s-]{8,}$/i,Pa=/^([a-f0-9]{8}-[a-f0-9]{4}-[1-5][a-f0-9]{3}-[a-f0-9]{4}-[a-f0-9]{12}|00000000-0000-0000-0000-000000000000)$/i,Fa=/^(([^<>()[\]\.,;:\s@\"]+(\.[^<>()[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()[\]\.,;:\s@\"]+\.)+[^<>()[\]\.,;:\s@\"]{2,})$/i;class xt extends te{constructor(){super(...arguments),this._regex=(e,n,r)=>this.refinement(s=>e.test(s),{validation:n,code:I.invalid_string,...ae.errToObj(r)}),this.nonempty=e=>this.min(1,ae.errToObj(e)),this.trim=()=>new xt({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}_parse(e){if(this._getType(e)!==L.string){const i=this._getOrReturnCtx(e);return W(i,{code:I.invalid_type,expected:L.string,received:i.parsedType}),G}const r=new We;let s;for(const i of this._def.checks)if(i.kind==="min")e.data.length<i.value&&(s=this._getOrReturnCtx(e,s),W(s,{code:I.too_small,minimum:i.value,type:"string",inclusive:!0,message:i.message}),r.dirty());else if(i.kind==="max")e.data.length>i.value&&(s=this._getOrReturnCtx(e,s),W(s,{code:I.too_big,maximum:i.value,type:"string",inclusive:!0,message:i.message}),r.dirty());else if(i.kind==="email")Fa.test(e.data)||(s=this._getOrReturnCtx(e,s),W(s,{validation:"email",code:I.invalid_string,message:i.message}),r.dirty());else if(i.kind==="uuid")Pa.test(e.data)||(s=this._getOrReturnCtx(e,s),W(s,{validation:"uuid",code:I.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid")Za.test(e.data)||(s=this._getOrReturnCtx(e,s),W(s,{validation:"cuid",code:I.invalid_string,message:i.message}),r.dirty());else if(i.kind==="url")try{new URL(e.data)}catch{s=this._getOrReturnCtx(e,s),W(s,{validation:"url",code:I.invalid_string,message:i.message}),r.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(e.data)||(s=this._getOrReturnCtx(e,s),W(s,{validation:"regex",code:I.invalid_string,message:i.message}),r.dirty())):i.kind==="trim"?e.data=e.data.trim():i.kind==="startsWith"?e.data.startsWith(i.value)||(s=this._getOrReturnCtx(e,s),W(s,{code:I.invalid_string,validation:{startsWith:i.value},message:i.message}),r.dirty()):i.kind==="endsWith"?e.data.endsWith(i.value)||(s=this._getOrReturnCtx(e,s),W(s,{code:I.invalid_string,validation:{endsWith:i.value},message:i.message}),r.dirty()):fe.assertNever(i);return{status:r.value,value:e.data}}_addCheck(e){return new xt({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...ae.errToObj(e)})}url(e){return this._addCheck({kind:"url",...ae.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...ae.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...ae.errToObj(e)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...ae.errToObj(n)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...ae.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...ae.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...ae.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...ae.errToObj(n)})}length(e,n){return this.min(e,n).max(e,n)}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}xt.create=t=>new xt({checks:[],typeName:X.ZodString,...ne(t)});function Da(t,e){const n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,s=n>r?n:r,i=parseInt(t.toFixed(s).replace(".","")),o=parseInt(e.toFixed(s).replace(".",""));return i%o/Math.pow(10,s)}class Rt extends te{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._getType(e)!==L.number){const i=this._getOrReturnCtx(e);return W(i,{code:I.invalid_type,expected:L.number,received:i.parsedType}),G}let r;const s=new We;for(const i of this._def.checks)i.kind==="int"?fe.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),W(r,{code:I.invalid_type,expected:"integer",received:"float",message:i.message}),s.dirty()):i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(r=this._getOrReturnCtx(e,r),W(r,{code:I.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(r=this._getOrReturnCtx(e,r),W(r,{code:I.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="multipleOf"?Da(e.data,i.value)!==0&&(r=this._getOrReturnCtx(e,r),W(r,{code:I.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):fe.assertNever(i);return{status:s.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,ae.toString(n))}gt(e,n){return this.setLimit("min",e,!1,ae.toString(n))}lte(e,n){return this.setLimit("max",e,!0,ae.toString(n))}lt(e,n){return this.setLimit("max",e,!1,ae.toString(n))}setLimit(e,n,r,s){return new Rt({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:ae.toString(s)}]})}_addCheck(e){return new Rt({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:ae.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:ae.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:ae.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:ae.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:ae.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:ae.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int")}}Rt.create=t=>new Rt({checks:[],typeName:X.ZodNumber,...ne(t)});class Fn extends te{_parse(e){if(this._getType(e)!==L.bigint){const r=this._getOrReturnCtx(e);return W(r,{code:I.invalid_type,expected:L.bigint,received:r.parsedType}),G}return ze(e.data)}}Fn.create=t=>new Fn({typeName:X.ZodBigInt,...ne(t)});class Dn extends te{_parse(e){if(this._getType(e)!==L.boolean){const r=this._getOrReturnCtx(e);return W(r,{code:I.invalid_type,expected:L.boolean,received:r.parsedType}),G}return ze(e.data)}}Dn.create=t=>new Dn({typeName:X.ZodBoolean,...ne(t)});class Yt extends te{_parse(e){if(this._getType(e)!==L.date){const i=this._getOrReturnCtx(e);return W(i,{code:I.invalid_type,expected:L.date,received:i.parsedType}),G}if(isNaN(e.data.getTime())){const i=this._getOrReturnCtx(e);return W(i,{code:I.invalid_date}),G}const r=new We;let s;for(const i of this._def.checks)i.kind==="min"?e.data.getTime()<i.value&&(s=this._getOrReturnCtx(e,s),W(s,{code:I.too_small,message:i.message,inclusive:!0,minimum:i.value,type:"date"}),r.dirty()):i.kind==="max"?e.data.getTime()>i.value&&(s=this._getOrReturnCtx(e,s),W(s,{code:I.too_big,message:i.message,inclusive:!0,maximum:i.value,type:"date"}),r.dirty()):fe.assertNever(i);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Yt({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:ae.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:ae.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}Yt.create=t=>new Yt({checks:[],typeName:X.ZodDate,...ne(t)});class Un extends te{_parse(e){if(this._getType(e)!==L.undefined){const r=this._getOrReturnCtx(e);return W(r,{code:I.invalid_type,expected:L.undefined,received:r.parsedType}),G}return ze(e.data)}}Un.create=t=>new Un({typeName:X.ZodUndefined,...ne(t)});class Wn extends te{_parse(e){if(this._getType(e)!==L.null){const r=this._getOrReturnCtx(e);return W(r,{code:I.invalid_type,expected:L.null,received:r.parsedType}),G}return ze(e.data)}}Wn.create=t=>new Wn({typeName:X.ZodNull,...ne(t)});class Kt extends te{constructor(){super(...arguments),this._any=!0}_parse(e){return ze(e.data)}}Kt.create=t=>new Kt({typeName:X.ZodAny,...ne(t)});class It extends te{constructor(){super(...arguments),this._unknown=!0}_parse(e){return ze(e.data)}}It.create=t=>new It({typeName:X.ZodUnknown,...ne(t)});class wt extends te{_parse(e){const n=this._getOrReturnCtx(e);return W(n,{code:I.invalid_type,expected:L.never,received:n.parsedType}),G}}wt.create=t=>new wt({typeName:X.ZodNever,...ne(t)});class zn extends te{_parse(e){if(this._getType(e)!==L.undefined){const r=this._getOrReturnCtx(e);return W(r,{code:I.invalid_type,expected:L.void,received:r.parsedType}),G}return ze(e.data)}}zn.create=t=>new zn({typeName:X.ZodVoid,...ne(t)});class ft extends te{_parse(e){const{ctx:n,status:r}=this._processInputParams(e),s=this._def;if(n.parsedType!==L.array)return W(n,{code:I.invalid_type,expected:L.array,received:n.parsedType}),G;if(s.minLength!==null&&n.data.length<s.minLength.value&&(W(n,{code:I.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,message:s.minLength.message}),r.dirty()),s.maxLength!==null&&n.data.length>s.maxLength.value&&(W(n,{code:I.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,message:s.maxLength.message}),r.dirty()),n.common.async)return Promise.all(n.data.map((o,a)=>s.type._parseAsync(new dt(n,o,n.path,a)))).then(o=>We.mergeArray(r,o));const i=n.data.map((o,a)=>s.type._parseSync(new dt(n,o,n.path,a)));return We.mergeArray(r,i)}get element(){return this._def.type}min(e,n){return new ft({...this._def,minLength:{value:e,message:ae.toString(n)}})}max(e,n){return new ft({...this._def,maxLength:{value:e,message:ae.toString(n)}})}length(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}ft.create=(t,e)=>new ft({type:t,minLength:null,maxLength:null,typeName:X.ZodArray,...ne(e)});var qn;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(qn||(qn={}));const ms=t=>e=>new ve({...t,shape:()=>({...t.shape(),...e})});function Dt(t){if(t instanceof ve){const e={};for(const n in t.shape){const r=t.shape[n];e[n]=ut.create(Dt(r))}return new ve({...t._def,shape:()=>e})}else return t instanceof ft?ft.create(Dt(t.element)):t instanceof ut?ut.create(Dt(t.unwrap())):t instanceof Mt?Mt.create(Dt(t.unwrap())):t instanceof pt?pt.create(t.items.map(e=>Dt(e))):t}class ve extends te{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=ms(this._def),this.extend=ms(this._def)}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=fe.objectKeys(e);return this._cached={shape:e,keys:n}}_parse(e){if(this._getType(e)!==L.object){const c=this._getOrReturnCtx(e);return W(c,{code:I.invalid_type,expected:L.object,received:c.parsedType}),G}const{status:r,ctx:s}=this._processInputParams(e),{shape:i,keys:o}=this._getCached(),a=[];if(!(this._def.catchall instanceof wt&&this._def.unknownKeys==="strip"))for(const c in s.data)o.includes(c)||a.push(c);const l=[];for(const c of o){const u=i[c],f=s.data[c];l.push({key:{status:"valid",value:c},value:u._parse(new dt(s,f,s.path,c)),alwaysSet:c in s.data})}if(this._def.catchall instanceof wt){const c=this._def.unknownKeys;if(c==="passthrough")for(const u of a)l.push({key:{status:"valid",value:u},value:{status:"valid",value:s.data[u]}});else if(c==="strict")a.length>0&&(W(s,{code:I.unrecognized_keys,keys:a}),r.dirty());else if(c!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const c=this._def.catchall;for(const u of a){const f=s.data[u];l.push({key:{status:"valid",value:u},value:c._parse(new dt(s,f,s.path,u)),alwaysSet:u in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const c=[];for(const u of l){const f=await u.key;c.push({key:f,value:await u.value,alwaysSet:u.alwaysSet})}return c}).then(c=>We.mergeObjectSync(r,c)):We.mergeObjectSync(r,l)}get shape(){return this._def.shape()}strict(e){return ae.errToObj,new ve({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,r)=>{var s,i,o,a;const l=(o=(i=(s=this._def).errorMap)===null||i===void 0?void 0:i.call(s,n,r).message)!==null&&o!==void 0?o:r.defaultError;return n.code==="unrecognized_keys"?{message:(a=ae.errToObj(e).message)!==null&&a!==void 0?a:l}:{message:l}}}:{}})}strip(){return new ve({...this._def,unknownKeys:"strip"})}passthrough(){return new ve({...this._def,unknownKeys:"passthrough"})}setKey(e,n){return this.augment({[e]:n})}merge(e){return new ve({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>qn.mergeShapes(this._def.shape(),e._def.shape()),typeName:X.ZodObject})}catchall(e){return new ve({...this._def,catchall:e})}pick(e){const n={};return fe.objectKeys(e).map(r=>{this.shape[r]&&(n[r]=this.shape[r])}),new ve({...this._def,shape:()=>n})}omit(e){const n={};return fe.objectKeys(this.shape).map(r=>{fe.objectKeys(e).indexOf(r)===-1&&(n[r]=this.shape[r])}),new ve({...this._def,shape:()=>n})}deepPartial(){return Dt(this)}partial(e){const n={};if(e)return fe.objectKeys(this.shape).map(r=>{fe.objectKeys(e).indexOf(r)===-1?n[r]=this.shape[r]:n[r]=this.shape[r].optional()}),new ve({...this._def,shape:()=>n});for(const r in this.shape){const s=this.shape[r];n[r]=s.optional()}return new ve({...this._def,shape:()=>n})}required(){const e={};for(const n in this.shape){let s=this.shape[n];for(;s instanceof ut;)s=s._def.innerType;e[n]=s}return new ve({...this._def,shape:()=>e})}keyof(){return ai(fe.objectKeys(this.shape))}}ve.create=(t,e)=>new ve({shape:()=>t,unknownKeys:"strip",catchall:wt.create(),typeName:X.ZodObject,...ne(e)});ve.strictCreate=(t,e)=>new ve({shape:()=>t,unknownKeys:"strict",catchall:wt.create(),typeName:X.ZodObject,...ne(e)});ve.lazycreate=(t,e)=>new ve({shape:t,unknownKeys:"strip",catchall:wt.create(),typeName:X.ZodObject,...ne(e)});class dn extends te{_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.options;function s(i){for(const a of i)if(a.result.status==="valid")return a.result;for(const a of i)if(a.result.status==="dirty")return n.common.issues.push(...a.ctx.common.issues),a.result;const o=i.map(a=>new bt(a.ctx.common.issues));return W(n,{code:I.invalid_union,unionErrors:o}),G}if(n.common.async)return Promise.all(r.map(async i=>{const o={...n,common:{...n.common,issues:[]},parent:null};return{result:await i._parseAsync({data:n.data,path:n.path,parent:o}),ctx:o}})).then(s);{let i;const o=[];for(const l of r){const c={...n,common:{...n.common,issues:[]},parent:null},u=l._parseSync({data:n.data,path:n.path,parent:c});if(u.status==="valid")return u;u.status==="dirty"&&!i&&(i={result:u,ctx:c}),c.common.issues.length&&o.push(c.common.issues)}if(i)return n.common.issues.push(...i.ctx.common.issues),i.result;const a=o.map(l=>new bt(l));return W(n,{code:I.invalid_union,unionErrors:a}),G}}get options(){return this._def.options}}dn.create=(t,e)=>new dn({options:t,typeName:X.ZodUnion,...ne(e)});class ir extends te{_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==L.object)return W(n,{code:I.invalid_type,expected:L.object,received:n.parsedType}),G;const r=this.discriminator,s=n.data[r],i=this.options.get(s);return i?n.common.async?i._parseAsync({data:n.data,path:n.path,parent:n}):i._parseSync({data:n.data,path:n.path,parent:n}):(W(n,{code:I.invalid_union_discriminator,options:this.validDiscriminatorValues,path:[r]}),G)}get discriminator(){return this._def.discriminator}get validDiscriminatorValues(){return Array.from(this.options.keys())}get options(){return this._def.options}static create(e,n,r){const s=new Map;try{n.forEach(i=>{const o=i.shape[e].value;s.set(o,i)})}catch{throw new Error("The discriminator value could not be extracted from all the provided schemas")}if(s.size!==n.length)throw new Error("Some of the discriminator values are not unique");return new ir({typeName:X.ZodDiscriminatedUnion,discriminator:e,options:s,...ne(r)})}}function Cr(t,e){const n=Ct(t),r=Ct(e);if(t===e)return{valid:!0,data:t};if(n===L.object&&r===L.object){const s=fe.objectKeys(e),i=fe.objectKeys(t).filter(a=>s.indexOf(a)!==-1),o={...t,...e};for(const a of i){const l=Cr(t[a],e[a]);if(!l.valid)return{valid:!1};o[a]=l.data}return{valid:!0,data:o}}else if(n===L.array&&r===L.array){if(t.length!==e.length)return{valid:!1};const s=[];for(let i=0;i<t.length;i++){const o=t[i],a=e[i],l=Cr(o,a);if(!l.valid)return{valid:!1};s.push(l.data)}return{valid:!0,data:s}}else return n===L.date&&r===L.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class fn extends te{_parse(e){const{status:n,ctx:r}=this._processInputParams(e),s=(i,o)=>{if(kr(i)||kr(o))return G;const a=Cr(i.value,o.value);return a.valid?((Ar(i)||Ar(o))&&n.dirty(),{status:n.value,value:a.data}):(W(r,{code:I.invalid_intersection_types}),G)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([i,o])=>s(i,o)):s(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}fn.create=(t,e,n)=>new fn({left:t,right:e,typeName:X.ZodIntersection,...ne(n)});class pt extends te{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==L.array)return W(r,{code:I.invalid_type,expected:L.array,received:r.parsedType}),G;if(r.data.length<this._def.items.length)return W(r,{code:I.too_small,minimum:this._def.items.length,inclusive:!0,type:"array"}),G;!this._def.rest&&r.data.length>this._def.items.length&&(W(r,{code:I.too_big,maximum:this._def.items.length,inclusive:!0,type:"array"}),n.dirty());const i=r.data.map((o,a)=>{const l=this._def.items[a]||this._def.rest;return l?l._parse(new dt(r,o,r.path,a)):null}).filter(o=>!!o);return r.common.async?Promise.all(i).then(o=>We.mergeArray(n,o)):We.mergeArray(n,i)}get items(){return this._def.items}rest(e){return new pt({...this._def,rest:e})}}pt.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new pt({items:t,typeName:X.ZodTuple,rest:null,...ne(e)})};class pn extends te{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==L.object)return W(r,{code:I.invalid_type,expected:L.object,received:r.parsedType}),G;const s=[],i=this._def.keyType,o=this._def.valueType;for(const a in r.data)s.push({key:i._parse(new dt(r,a,r.path,a)),value:o._parse(new dt(r,r.data[a],r.path,a))});return r.common.async?We.mergeObjectAsync(n,s):We.mergeObjectSync(n,s)}get element(){return this._def.valueType}static create(e,n,r){return n instanceof te?new pn({keyType:e,valueType:n,typeName:X.ZodRecord,...ne(r)}):new pn({keyType:xt.create(),valueType:e,typeName:X.ZodRecord,...ne(n)})}}class Bn extends te{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==L.map)return W(r,{code:I.invalid_type,expected:L.map,received:r.parsedType}),G;const s=this._def.keyType,i=this._def.valueType,o=[...r.data.entries()].map(([a,l],c)=>({key:s._parse(new dt(r,a,r.path,[c,"key"])),value:i._parse(new dt(r,l,r.path,[c,"value"]))}));if(r.common.async){const a=new Map;return Promise.resolve().then(async()=>{for(const l of o){const c=await l.key,u=await l.value;if(c.status==="aborted"||u.status==="aborted")return G;(c.status==="dirty"||u.status==="dirty")&&n.dirty(),a.set(c.value,u.value)}return{status:n.value,value:a}})}else{const a=new Map;for(const l of o){const c=l.key,u=l.value;if(c.status==="aborted"||u.status==="aborted")return G;(c.status==="dirty"||u.status==="dirty")&&n.dirty(),a.set(c.value,u.value)}return{status:n.value,value:a}}}}Bn.create=(t,e,n)=>new Bn({valueType:e,keyType:t,typeName:X.ZodMap,...ne(n)});class Lt extends te{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==L.set)return W(r,{code:I.invalid_type,expected:L.set,received:r.parsedType}),G;const s=this._def;s.minSize!==null&&r.data.size<s.minSize.value&&(W(r,{code:I.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,message:s.minSize.message}),n.dirty()),s.maxSize!==null&&r.data.size>s.maxSize.value&&(W(r,{code:I.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,message:s.maxSize.message}),n.dirty());const i=this._def.valueType;function o(l){const c=new Set;for(const u of l){if(u.status==="aborted")return G;u.status==="dirty"&&n.dirty(),c.add(u.value)}return{status:n.value,value:c}}const a=[...r.data.values()].map((l,c)=>i._parse(new dt(r,l,r.path,c)));return r.common.async?Promise.all(a).then(l=>o(l)):o(a)}min(e,n){return new Lt({...this._def,minSize:{value:e,message:ae.toString(n)}})}max(e,n){return new Lt({...this._def,maxSize:{value:e,message:ae.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}Lt.create=(t,e)=>new Lt({valueType:t,minSize:null,maxSize:null,typeName:X.ZodSet,...ne(e)});class Bt extends te{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==L.function)return W(n,{code:I.invalid_type,expected:L.function,received:n.parsedType}),G;function r(a,l){return Zn({data:a,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,Mn(),un].filter(c=>!!c),issueData:{code:I.invalid_arguments,argumentsError:l}})}function s(a,l){return Zn({data:a,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,Mn(),un].filter(c=>!!c),issueData:{code:I.invalid_return_type,returnTypeError:l}})}const i={errorMap:n.common.contextualErrorMap},o=n.data;return this._def.returns instanceof Xt?ze(async(...a)=>{const l=new bt([]),c=await this._def.args.parseAsync(a,i).catch(d=>{throw l.addIssue(r(a,d)),l}),u=await o(...c);return await this._def.returns._def.type.parseAsync(u,i).catch(d=>{throw l.addIssue(s(u,d)),l})}):ze((...a)=>{const l=this._def.args.safeParse(a,i);if(!l.success)throw new bt([r(a,l.error)]);const c=o(...l.data),u=this._def.returns.safeParse(c,i);if(!u.success)throw new bt([s(c,u.error)]);return u.data})}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new Bt({...this._def,args:pt.create(e).rest(It.create())})}returns(e){return new Bt({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,n,r){return new Bt({args:e||pt.create([]).rest(It.create()),returns:n||It.create(),typeName:X.ZodFunction,...ne(r)})}}class Hn extends te{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}Hn.create=(t,e)=>new Hn({getter:t,typeName:X.ZodLazy,...ne(e)});class Vn extends te{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return W(n,{code:I.invalid_literal,expected:this._def.value}),G}return{status:"valid",value:e.data}}get value(){return this._def.value}}Vn.create=(t,e)=>new Vn({value:t,typeName:X.ZodLiteral,...ne(e)});function ai(t,e){return new or({values:t,typeName:X.ZodEnum,...ne(e)})}class or extends te{_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),r=this._def.values;return W(n,{expected:fe.joinValues(r),received:n.parsedType,code:I.invalid_type}),G}if(this._def.values.indexOf(e.data)===-1){const n=this._getOrReturnCtx(e),r=this._def.values;return W(n,{received:n.data,code:I.invalid_enum_value,options:r}),G}return ze(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}}or.create=ai;class Jn extends te{_parse(e){const n=fe.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==L.string&&r.parsedType!==L.number){const s=fe.objectValues(n);return W(r,{expected:fe.joinValues(s),received:r.parsedType,code:I.invalid_type}),G}if(n.indexOf(e.data)===-1){const s=fe.objectValues(n);return W(r,{received:r.data,code:I.invalid_enum_value,options:s}),G}return ze(e.data)}get enum(){return this._def.values}}Jn.create=(t,e)=>new Jn({values:t,typeName:X.ZodNativeEnum,...ne(e)});class Xt extends te{_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==L.promise&&n.common.async===!1)return W(n,{code:I.invalid_type,expected:L.promise,received:n.parsedType}),G;const r=n.parsedType===L.promise?n.data:Promise.resolve(n.data);return ze(r.then(s=>this._def.type.parseAsync(s,{path:n.path,errorMap:n.common.contextualErrorMap})))}}Xt.create=(t,e)=>new Xt({type:t,typeName:X.ZodPromise,...ne(e)});class mt extends te{innerType(){return this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),s=this._def.effect||null;if(s.type==="preprocess"){const o=s.transform(r.data);return r.common.async?Promise.resolve(o).then(a=>this._def.schema._parseAsync({data:a,path:r.path,parent:r})):this._def.schema._parseSync({data:o,path:r.path,parent:r})}const i={addIssue:o=>{W(r,o),o.fatal?n.abort():n.dirty()},get path(){return r.path}};if(i.addIssue=i.addIssue.bind(i),s.type==="refinement"){const o=a=>{const l=s.refinement(a,i);if(r.common.async)return Promise.resolve(l);if(l instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return a};if(r.common.async===!1){const a=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?G:(a.status==="dirty"&&n.dirty(),o(a.value),{status:n.value,value:a.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(a=>a.status==="aborted"?G:(a.status==="dirty"&&n.dirty(),o(a.value).then(()=>({status:n.value,value:a.value}))))}if(s.type==="transform")if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!Pn(o))return o;const a=s.transform(o.value,i);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:a}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>Pn(o)?Promise.resolve(s.transform(o.value,i)).then(a=>({status:n.value,value:a})):o);fe.assertNever(s)}}mt.create=(t,e,n)=>new mt({schema:t,typeName:X.ZodEffects,effect:e,...ne(n)});mt.createWithPreprocess=(t,e,n)=>new mt({schema:e,effect:{type:"preprocess",transform:t},typeName:X.ZodEffects,...ne(n)});class ut extends te{_parse(e){return this._getType(e)===L.undefined?ze(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}ut.create=(t,e)=>new ut({innerType:t,typeName:X.ZodOptional,...ne(e)});class Mt extends te{_parse(e){return this._getType(e)===L.null?ze(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Mt.create=(t,e)=>new Mt({innerType:t,typeName:X.ZodNullable,...ne(e)});class Dr extends te{_parse(e){const{ctx:n}=this._processInputParams(e);let r=n.data;return n.parsedType===L.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}Dr.create=(t,e)=>new ut({innerType:t,typeName:X.ZodOptional,...ne(e)});class Yn extends te{_parse(e){if(this._getType(e)!==L.nan){const r=this._getOrReturnCtx(e);return W(r,{code:I.invalid_type,expected:L.nan,received:r.parsedType}),G}return{status:"valid",value:e.data}}}Yn.create=t=>new Yn({typeName:X.ZodNaN,...ne(t)});const Ua=Symbol("zod_brand");class li extends te{_parse(e){const{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}const ci=(t,e={},n)=>t?Kt.create().superRefine((r,s)=>{if(!t(r)){const i=typeof e=="function"?e(r):e,o=typeof i=="string"?{message:i}:i;s.addIssue({code:"custom",...o,fatal:n})}}):Kt.create(),Wa={object:ve.lazycreate};var X;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded"})(X||(X={}));const za=(t,e={message:`Input not instance of ${t.name}`})=>ci(n=>n instanceof t,e,!0),ui=xt.create,di=Rt.create,qa=Yn.create,Ba=Fn.create,fi=Dn.create,Ha=Yt.create,Va=Un.create,Ja=Wn.create,Ya=Kt.create,Ka=It.create,Xa=wt.create,Ga=zn.create,Qa=ft.create,el=ve.create,tl=ve.strictCreate,nl=dn.create,rl=ir.create,sl=fn.create,il=pt.create,ol=pn.create,al=Bn.create,ll=Lt.create,cl=Bt.create,ul=Hn.create,dl=Vn.create,fl=or.create,pl=Jn.create,ml=Xt.create,hs=mt.create,hl=ut.create,yl=Mt.create,_l=mt.createWithPreprocess,gl=()=>ui().optional(),bl=()=>di().optional(),vl=()=>fi().optional(),wl=G;var B=Object.freeze({__proto__:null,getParsedType:Ct,ZodParsedType:L,defaultErrorMap:un,setErrorMap:Ra,getErrorMap:Mn,makeIssue:Zn,EMPTY_PATH:La,addIssueToContext:W,ParseStatus:We,INVALID:G,DIRTY:Ma,OK:ze,isAborted:kr,isDirty:Ar,isValid:Pn,isAsync:Er,ZodType:te,ZodString:xt,ZodNumber:Rt,ZodBigInt:Fn,ZodBoolean:Dn,ZodDate:Yt,ZodUndefined:Un,ZodNull:Wn,ZodAny:Kt,ZodUnknown:It,ZodNever:wt,ZodVoid:zn,ZodArray:ft,get objectUtil(){return qn},ZodObject:ve,ZodUnion:dn,ZodDiscriminatedUnion:ir,ZodIntersection:fn,ZodTuple:pt,ZodRecord:pn,ZodMap:Bn,ZodSet:Lt,ZodFunction:Bt,ZodLazy:Hn,ZodLiteral:Vn,ZodEnum:or,ZodNativeEnum:Jn,ZodPromise:Xt,ZodEffects:mt,ZodTransformer:mt,ZodOptional:ut,ZodNullable:Mt,ZodDefault:Dr,ZodNaN:Yn,BRAND:Ua,ZodBranded:li,custom:ci,Schema:te,ZodSchema:te,late:Wa,get ZodFirstPartyTypeKind(){return X},any:Ya,array:Qa,bigint:Ba,boolean:fi,date:Ha,discriminatedUnion:rl,effect:hs,enum:fl,function:cl,instanceof:za,intersection:sl,lazy:ul,literal:dl,map:al,nan:qa,nativeEnum:pl,never:Xa,null:Ja,nullable:yl,number:di,object:el,oboolean:vl,onumber:bl,optional:hl,ostring:gl,preprocess:_l,promise:ml,record:ol,set:ll,strictObject:tl,string:ui,transformer:hs,tuple:il,undefined:Va,union:nl,unknown:Ka,void:Ga,NEVER:wl,ZodIssueCode:I,quotelessJson:ja,ZodError:bt});function kl(t){if(/\s/.test(t))throw new Error("Can't contain whitespace");return t=t.replace(/(\w)-(\w)/g,(e,n,r)=>{const s=n.charCodeAt(0),i=r.charCodeAt(0);if(n.length!==1||s>255)throw new Error(`Invalid starting character in range "${e}"`);if(r.length!==1||i>255)throw new Error(`Invalid ending character in range "${e}"`);if(s>i)throw new Error(`Invalid range "${e}"`);let o="";for(let a=s;a<=i;a++)o+=String.fromCharCode(a);return o}),t.replace(/[^\\]-|[^\\]-\W|^-\W|^-\w?/,e=>{throw new Error(`Unterminated range "${e}"`)}),t=t.replace(/\\(.)/g,"$1"),Array.from(new Set(t.split(""))).sort()}function ys(t){try{return kl(t),!0}catch{return!1}}const Ur=1,ar=B.object({domain:B.string().trim().min(1,"Domain name can't be empty").refine(t=>!/[A-Z]/.test(t),"Domain name must be lower case").refine(t=>t!=="derivepass",'"derivepass" domain is reserved').refine(t=>!/^(www|\w+:\/\/)/.test(t),"Domain name should not start with `www.`, `http://`, or any `schema://`"),login:B.string().trim().min(1,"Username can't be empty"),revision:B.number().positive("Revision must be a positive number"),allowedChars:B.string().trim().min(1,"Allowed characters can't be empty").refine(ys,"Allowed characters contain invalid range"),requiredChars:B.string().trim().refine(ys,"Allowed characters contain invalid range"),passwordLen:B.number().positive()}),Wr=B.object({id:B.string().min(1),version:B.literal(Ur)});Wr.and(ar);const pi=Wr.and(B.object({encrypted:B.string(),modifiedAt:B.number(),removed:B.optional(B.boolean())})),Al=Wr.and(B.object({encrypted:B.string(),removed:B.optional(B.boolean())}));pi.and(B.object({decrypted:B.optional(ar)}));const El=B.object({host:B.string(),token:B.string(),lastModifiedAt:B.number(),lastSyncedAt:B.number(),localLastModifiedAt:B.number()}),Cl=B.object({token:B.string()}),Sl=B.object({objects:B.array(B.object({id:B.string(),data:B.string(),modifiedAt:B.number()}))}),xl=B.object({modifiedAt:B.number()}),Tl=B.object({uuid:B.string(),changedAt:B.number(),removed:B.boolean(),domain:B.string(),login:B.string(),revision:B.string(),options:B.string()}),$l=B.object({allowed:B.string().trim(),required:B.string().trim(),maxLength:B.number().or(B.string())}),Ue=Fr("dp:stores:remoteSync"),Sr=`${Vs}remote-state`,$t=st(),mi=st(0);let En;function hi(){En!==void 0&&clearTimeout(En),En=setTimeout(()=>{En=void 0,lr()},Hs)}async function Ol({host:t,username:e,password:n}){const r=Ia(`${e}:${n}`),s=await fetch(`https://${t}/user/token`,{method:"PUT",headers:{authorization:`Basic ${r}`,accept:"application/json"}});if(!s.ok)throw new Error("Request failed");const{token:i}=Cl.parse(await s.json()),o={host:t,token:i,lastModifiedAt:0,localLastModifiedAt:0,lastSyncedAt:0};$t.set(o),lr()}function xr(t){return{authorization:`Bearer ${t.token}`,accept:"application/json","content-type":"application/json"}}async function yi(t){let e=!0;if($t.update(n=>{if(n!==t)return n;e=!1}),!(t===void 0||e))try{await fetch(`https://${t.host}/user/token`,{method:"DELETE",headers:xr(t),body:JSON.stringify({token:t.token})})}catch(n){Ue("failed to delete old token",n)}}function lr(){Ue("trigger sync"),mi.update(t=>t+1)}async function _s(t,e){if((e.status===401||e.status===403)&&await yi(t),!e.ok){const n=await e.text();throw new Error(`Failed to send request: ${n}`)}}async function Nl(t,e){const n=new Map;if(t===void 0)return{updated:n};const r=`https://${t.host}/objects`,s=await fetch(`${r}?since=${t.lastModifiedAt}`,{headers:xr(t)});await _s(t,s);const{objects:i}=Sl.parse(await s.json());Ue("got %d remote objects since %j",i.length,t.lastModifiedAt,i);const o=new Map(e.map(d=>[d.id,d]));let a=t.lastModifiedAt;for(const{id:d,data:p,modifiedAt:m}of i){a=Math.max(a,m),o.delete(d);let h;try{h=Al.parse(JSON.parse(p))}catch(k){Ue("failed to parse remote application",p,k);continue}n.set(h.id,h)}const l=new Array;let c=t.localLastModifiedAt;const u=Array.from(o.values()).sort((d,p)=>d.modifiedAt-p.modifiedAt);for(const d of u)d.modifiedAt<=t.localLastModifiedAt||(c=Math.max(c,d.modifiedAt),l.push({id:d.id,version:d.version,encrypted:d.encrypted,removed:d.removed}));if(l.length>0){Ue("uploading %d new objects since %j",l.length,t.localLastModifiedAt);const d=await fetch(r,{method:"PUT",headers:xr(t),body:JSON.stringify({objects:l.map(m=>({id:m.id,data:m}))})});await _s(t,d),a=xl.parse(await d.json()).modifiedAt}const f={...t,lastModifiedAt:a,localLastModifiedAt:c,lastSyncedAt:Date.now()};return $t.update(d=>d!==t?d:f),{updated:n}}function Il(t,e,n,{updated:r}){if(r.size===0){Ue("no changes, not applying results");return}e.update(s=>{const{localLastModifiedAt:i}=t;let o=i;const a=s.map(l=>{const c=r.get(l.id);return r.delete(l.id),l.modifiedAt>i?(Ue("app %j modified in flight",l.id),l):c===void 0?l:(o=n.next(),Ue("updated app %j",l.id),{...l,encrypted:c.encrypted,modifiedAt:o})});for(const l of r.values())o=n.next(),Ue("added app %j",l.id),a.push({...l,modifiedAt:o});return $t.update(l=>{if(l===t)return{...l,localLastModifiedAt:o}}),a})}function jl(t,e){let n;$t.subscribe(i=>n=i);const r=tr([t,mi],([i])=>i);let s=0;r.subscribe(async i=>{if(hi(),n===void 0){Ue("no remote state, not sync");return}if(++s!==1){Ue("%d syncs already running",s);return}Ue("starting sync");try{const o=await Nl(n,i);Il(n,t,e,o)}catch(o){Ue("failed to run sync or apply sync results",o)}--s!==0&&(s=0,Ue("re-triggering sync"),lr())})}const gs=localStorage.getItem(Sr);if(gs)try{$t.set(El.parse(JSON.parse(gs)))}catch(t){Ue("Failed to update remote state store",t)}hi();$t.subscribe(async t=>{if(t===void 0){localStorage.removeItem(Sr);return}localStorage.setItem(Sr,JSON.stringify(t))});function Rl(t){let e,n,r,s,i,o,a,l,c,u,f,d,p,m,h,k,A,j,M,g;s=new ot({props:{required:!0,name:"host",label:"Storage server hostname",placeholder:"storage.example.com"}}),s.$on("input",t[4]),s.$on("change",t[5]),s.$on("focus",t[6]),s.$on("blur",t[7]),o=new ot({props:{required:!0,name:"username",label:"Username",placeholder:"me@my.server"}}),o.$on("input",t[8]),o.$on("change",t[9]),o.$on("focus",t[10]),o.$on("blur",t[11]),l=new ot({props:{required:!0,name:"password",type:"password",label:"Password"}}),l.$on("input",t[12]),l.$on("change",t[13]),l.$on("focus",t[14]),l.$on("blur",t[15]);let E=t[0]!==void 0&&bs(t);return k=new Pt({props:{href:"https://github.com/derivepass/derivepass-storage#readme",$$slots:{default:[Ml]},$$scope:{ctx:t}}}),{c(){e=T("h2"),e.textContent="Setup Synchronization",n=U(),r=T("form"),le(s.$$.fragment),i=U(),le(o.$$.fragment),a=U(),le(l.$$.fragment),c=U(),E&&E.c(),u=U(),f=T("button"),f.textContent="Login",d=U(),p=T("p"),m=T("small"),h=D(`See
      `),le(k.$$.fragment),A=D(`
      for instructions on running your own storage server.`),b(e,"class","text-3xl mb-4"),b(f,"type","submit"),b(f,"class","px-4 py-2 rounded bg-blue-600 hover:bg-blue-700 active:bg-blue-800 text-white disabled:bg-blue-400"),b(p,"class","mt-4")},m(_,R){w(_,e,R),w(_,n,R),w(_,r,R),ie(s,r,null),S(r,i),ie(o,r,null),S(r,a),ie(l,r,null),S(r,c),E&&E.m(r,null),S(r,u),S(r,f),w(_,d,R),w(_,p,R),S(p,m),S(m,h),ie(k,m,null),S(m,A),j=!0,M||(g=Vt(t[2].call(null,r)),M=!0)},p(_,R){_[0]!==void 0?E?E.p(_,R):(E=bs(_),E.c(),E.m(r,u)):E&&(E.d(1),E=null);const P={};R&65536&&(P.$$scope={dirty:R,ctx:_}),k.$set(P)},i(_){j||(Z(s.$$.fragment,_),Z(o.$$.fragment,_),Z(l.$$.fragment,_),Z(k.$$.fragment,_),j=!0)},o(_){F(s.$$.fragment,_),F(o.$$.fragment,_),F(l.$$.fragment,_),F(k.$$.fragment,_),j=!1},d(_){_&&v(e),_&&v(n),_&&v(r),oe(s),oe(o),oe(l),E&&E.d(),_&&v(d),_&&v(p),oe(k),M=!1,g()}}}function Ll(t){let e,n,r,s,i,o,a,l,c,u;function f(m,h){return m[1].lastSyncedAt?Pl:Zl}let d=f(t),p=d(t);return{c(){e=T("h2"),e.textContent="Synchronization",n=U(),r=T("p"),p.c(),s=U(),i=T("section"),o=T("button"),o.textContent="Sync Now",a=U(),l=T("button"),l.textContent="Unlink",b(e,"class","text-3xl mb-4"),b(r,"class","my-2"),b(o,"type","button"),b(o,"class","px-4 py-2 rounded bg-blue-600 hover:bg-blue-700 active:bg-blue-800 text-white disabled:bg-blue-400"),b(l,"type","reset"),b(l,"class","px-4 py-2 rounded bg-red-500 hover:bg-red-600 text-white disabled:bg-red-400"),b(i,"class","mt-4 flex gap-1")},m(m,h){w(m,e,h),w(m,n,h),w(m,r,h),p.m(r,null),w(m,s,h),w(m,i,h),S(i,o),S(i,a),S(i,l),c||(u=[De(o,"click",Ge(lr)),De(l,"click",Ge(t[3]))],c=!0)},p(m,h){d===(d=f(m))&&p?p.p(m,h):(p.d(1),p=d(m),p&&(p.c(),p.m(r,null)))},i:K,o:K,d(m){m&&v(e),m&&v(n),m&&v(r),p.d(),m&&v(s),m&&v(i),c=!1,et(u)}}}function bs(t){let e,n;return{c(){e=T("p"),n=D(t[0]),b(e,"class","my-2 text-red-500")},m(r,s){w(r,e,s),S(e,n)},p(r,s){s&1&&rt(n,r[0])},d(r){r&&v(e)}}}function Ml(t){let e;return{c(){e=D("derivepass-storage")},m(n,r){w(n,e,r)},d(n){n&&v(e)}}}function Zl(t){let e,n,r=t[1].host+"",s,i;return{c(){e=D("Awaiting initial sync with "),n=T("b"),s=D(r),i=D(".")},m(o,a){w(o,e,a),w(o,n,a),S(n,s),w(o,i,a)},p(o,a){a&2&&r!==(r=o[1].host+"")&&rt(s,r)},d(o){o&&v(e),o&&v(n),o&&v(i)}}}function Pl(t){let e,n,r=t[1].host+"",s,i,o,a,l,c=new Date(t[1].lastSyncedAt).toLocaleString()+"",u,f;return{c(){e=D("Last synchronized with "),n=T("b"),s=D(r),i=U(),o=T("br"),a=D(`
      on `),l=T("b"),u=D(c),f=D(".")},m(d,p){w(d,e,p),w(d,n,p),S(n,s),w(d,i,p),w(d,o,p),w(d,a,p),w(d,l,p),S(l,u),w(d,f,p)},p(d,p){p&2&&r!==(r=d[1].host+"")&&rt(s,r),p&2&&c!==(c=new Date(d[1].lastSyncedAt).toLocaleString()+"")&&rt(u,c)},d(d){d&&v(e),d&&v(n),d&&v(i),d&&v(o),d&&v(a),d&&v(l),d&&v(f)}}}function Fl(t){let e,n,r,s;const i=[Ll,Rl],o=[];function a(l,c){return l[1]?0:1}return e=a(t),n=o[e]=i[e](t),{c(){n.c(),r=Tt()},m(l,c){o[e].m(l,c),w(l,r,c),s=!0},p(l,[c]){let u=e;e=a(l),e===u?o[e].p(l,c):(Ye(),F(o[u],1,1,()=>{o[u]=null}),Ke(),n=o[e],n?n.p(l,c):(n=o[e]=i[e](l),n.c()),Z(n,1),n.m(r.parentNode,r))},i(l){s||(Z(n),s=!0)},o(l){F(n),s=!1},d(l){o[e].d(l),l&&v(r)}}}function Dl(t,e,n){var M;let r;Qe(t,$t,g=>n(1,r=g));let s;const{form:i}=ii({initialValues:{host:(M=r==null?void 0:r.host)!=null?M:"",username:"",password:""},async onSubmit(g){return n(0,s=void 0),Ol(g)},onError(){n(0,s="Invalid credentials or unreachable server")}}),o=()=>yi(r);function a(g){ee.call(this,t,g)}function l(g){ee.call(this,t,g)}function c(g){ee.call(this,t,g)}function u(g){ee.call(this,t,g)}function f(g){ee.call(this,t,g)}function d(g){ee.call(this,t,g)}function p(g){ee.call(this,t,g)}function m(g){ee.call(this,t,g)}function h(g){ee.call(this,t,g)}function k(g){ee.call(this,t,g)}function A(g){ee.call(this,t,g)}function j(g){ee.call(this,t,g)}return[s,r,i,o,a,l,c,u,f,d,p,m,h,k,A,j]}class Ul extends Be{constructor(e){super(),qe(this,e,Dl,Fl,Me,{})}}function Wl(t){let e,n,r,s,i,o,a,l;return{c(){e=T("a"),n=T("h3"),r=D(t[1]),s=U(),i=D(t[2]),b(n,"class","text-lg font-semibold"),b(e,"href",o="/applications/"+t[0]),b(e,"class","px-4 text-blue-600 py-8 rounded border my-4 flex flex-col hover:bg-gray-100")},m(c,u){w(c,e,u),S(e,n),S(n,r),S(e,s),S(e,i),a||(l=Vt(Mr.call(null,e)),a=!0)},p(c,[u]){u&2&&rt(r,c[1]),u&4&&rt(i,c[2]),u&1&&o!==(o="/applications/"+c[0])&&b(e,"href",o)},i:K,o:K,d(c){c&&v(e),a=!1,l()}}}function zl(t,e,n){let{id:r}=e,{domain:s}=e,{login:i}=e;return t.$$set=o=>{"id"in o&&n(0,r=o.id),"domain"in o&&n(1,s=o.domain),"login"in o&&n(2,i=o.login)},[r,s,i]}class ql extends Be{constructor(e){super(),qe(this,e,zl,Wl,Me,{id:0,domain:1,login:2})}}let _i=(t=21)=>crypto.getRandomValues(new Uint8Array(t)).reduce((e,n)=>(n&=63,n<36?e+=n.toString(36):n<62?e+=(n-26).toString(36).toUpperCase():n>62?e+="-":e+="_",e),"");const Bl=new TextEncoder,Tr=new TextDecoder,Hl=16;function gi({aes:t,hmac:e},n){const r=Bl.encode(JSON.stringify(n)),s=new Uint8Array(Hl);return window.crypto.getRandomValues(s),mo(ao(t,e,s,r))}function Vl({aes:t,hmac:e},n){const r=JSON.parse(Tr.decode(zs(t,e,_r(n))));return ar.parse(r)}function Cn({aes:t,hmac:e},n){return n.startsWith("v1:")?Tr.decode(zs(t,e,_r(n.slice(3)))):Tr.decode(lo(t,_r(n)))}const Jl=Fr("dp:localSync"),vs=`${Vs}i:`;function Yl(t){var s,i;const e=new Array,n=st(0);for(let o=0;o<localStorage.length;o++){const a=(s=localStorage.key(o))!=null?s:"";if(!!a.startsWith(vs))try{const l=JSON.parse((i=localStorage.getItem(a))!=null?i:""),c=pi.parse(l);n.update(u=>Math.max(u,c.modifiedAt)),e.push(c)}catch{}}Jl("loaded %d apps",e.length),t.set(e);const r=new Map;return t.subscribe(o=>{const a=new Array;for(const{decrypted:l,...c}of o){const u=c,f=r.get(c.id);if(r.set(c.id,c.modifiedAt),f===void 0){a.push(u);continue}f!==u.modifiedAt&&a.push(u)}for(const l of a)localStorage.setItem(`${vs}${l.id}`,JSON.stringify(l))}),{lastModifiedAt:{subscribe:n.subscribe,next(){let o=Date.now();return n.update(a=>(o=Math.max(o,a+1),o)),o}}}}const Kl=Fr("dp:migrator"),Xl="derivepass/production/";function Gl(t){it.subscribe(e=>{var r,s;if(e===void 0)return;let n=0;for(let i=0;i<localStorage.length;i++){const o=(r=localStorage.key(i))!=null?r:"";if(!!o.startsWith(Xl))try{const a=JSON.parse((s=localStorage.getItem(o))!=null?s:""),{changedAt:l,domain:c,login:u,revision:f,options:d,removed:p}=Tl.parse(a);if(p)continue;const m=Cn(e,c),h=Cn(e,u),k=Cn(e,f),A=$l.parse(JSON.parse(Cn(e,d))),j=parseInt(k,10);if(j<1||isNaN(j))throw new Error("Negative or NaN revision");const{allowed:M,required:g,maxLength:E}=A,_=typeof E=="number"?E:parseInt(E,10);if(_<1||isNaN(_))throw new Error("Negative or NaN passwordLen");const R=gi(e,{domain:m,login:h,revision:j,allowedChars:M,requiredChars:g,passwordLen:_});t.update(P=>[...P,{id:_i(),version:Ur,encrypted:R,modifiedAt:l}]),localStorage.removeItem(o),n++}catch{}}Kl("migrated %d records",n)})}const jt=st([]),{lastModifiedAt:$r}=Yl(jt);jl(jt,$r);Gl(jt);it.subscribe(t=>{jt.update(e=>e.map(({decrypted:n,encrypted:r,...s})=>{let i;if(s.removed)return{encrypted:"",...s};if(t!==void 0)try{i=Vl(t,r)}catch{}return{decrypted:i,encrypted:r,...s}}))});const sn={subscribe:tr(jt,t=>t.slice().sort((e,n)=>n.modifiedAt-e.modifiedAt).map(e=>{if(!(e.removed||e.decrypted===void 0))return{id:e.id,version:e.version,...e.decrypted}}).filter(e=>e!==void 0)).subscribe,getTemplate(){return{id:_i(),version:Ur,domain:"",login:"",revision:1,...po}},deleteById(t){jt.update(e=>e.map(n=>n.id===t?{id:n.id,version:n.version,encrypted:"",removed:!0,modifiedAt:$r.next()}:n))},save(t,{id:e,version:n,...r}){const s=gi(t,r),i={id:e,version:n,decrypted:r,encrypted:s,modifiedAt:$r.next()};jt.update(o=>{let a=!1;const l=o.map(c=>c.id===i.id?(a=!0,i):c);return a?l:[...o,i]})}};function ws(t,e,n){const r=t.slice();return r[6]=e[n],r}function ks(t,e){let n,r,s;return r=new ql({props:{id:e[6].id,domain:e[6].domain,login:e[6].login}}),{key:t,first:null,c(){n=Tt(),le(r.$$.fragment),this.first=n},m(i,o){w(i,n,o),ie(r,i,o),s=!0},p(i,o){e=i;const a={};o&2&&(a.id=e[6].id),o&2&&(a.domain=e[6].domain),o&2&&(a.login=e[6].login),r.$set(a)},i(i){s||(Z(r.$$.fragment,i),s=!0)},o(i){F(r.$$.fragment,i),s=!1},d(i){i&&v(n),oe(r,i)}}}function Ql(t){let e,n,r,s,i,o=[],a=new Map,l,c,u,f,d=t[1];const p=m=>m[6].id;for(let m=0;m<d.length;m+=1){let h=ws(t,d,m),k=p(h);a.set(k,o[m]=ks(k,h))}return{c(){e=T("form"),n=T("input"),r=U(),s=T("input"),i=U();for(let m=0;m<o.length;m+=1)o[m].c();l=Tt(),b(n,"class","grow px-4 py-2 min-w-0 rounded-l border focus:outline-none"),b(n,"type","text"),b(n,"autocomplete","off"),b(n,"placeholder","Filter applications"),b(s,"class","shrink px-4 py-2 rounded-r border-y border-blue-600 hover:border-blue-700 active:border-blue-800 bg-blue-600 hover:bg-blue-700 active:bg-blue-800 text-white"),b(s,"type","button"),s.value="Add application",b(e,"class","flex items-center rounded focus-within:ring"),b(e,"autocomplete","off")},m(m,h){w(m,e,h),S(e,n),Hr(n,t[0]),S(e,r),S(e,s),w(m,i,h);for(let k=0;k<o.length;k+=1)o[k].m(m,h);w(m,l,h),c=!0,u||(f=[De(n,"input",t[5]),De(s,"click",Ge(t[2])),De(e,"submit",Ge(ec))],u=!0)},p(m,[h]){h&1&&n.value!==m[0]&&Hr(n,m[0]),h&2&&(d=m[1],Ye(),o=Bi(o,h,p,1,m,d,a,l.parentNode,qi,ks,l,ws),Ke())},i(m){if(!c){for(let h=0;h<d.length;h+=1)Z(o[h]);c=!0}},o(m){for(let h=0;h<o.length;h+=1)F(o[h]);c=!1},d(m){m&&v(e),m&&v(i);for(let h=0;h<o.length;h+=1)o[h].d(m);m&&v(l),u=!1,et(f)}}}function ec(){}function tc(t,e,n){let r,s,i;Qe(t,sn,c=>n(4,i=c));let o="";function a(){Wt("/applications/new")}function l(){o=this.value,n(0,o)}return t.$$.update=()=>{t.$$.dirty&1&&n(3,r=o.toLowerCase()),t.$$.dirty&24&&n(1,s=i.filter(({domain:c,login:u})=>`${c}/${u}`.toLowerCase().includes(r)))},[o,s,a,r,i,l]}class nc extends Be{constructor(e){super(),qe(this,e,tc,Ql,Me,{})}}function rc(t){function e(n){return n.issues.reduce((r,s)=>s.path?Gt(r,s.path.join("."),i=>!i||!Array.isArray(i)?[s.message]:[...i,s.message]):r,{})}return async function(r){try{await t.parseAsync(r)}catch(s){return e(s)}}}function sc({schema:t,level:e="error"}){return function(r){if(r.stage!=="SETUP")return{};const s=rc(t);return r.addValidator(s,{level:e}),{}}}function ic(t){let e,n,r=t[8].domain+"",s,i,o=t[8].login+"",a;return{c(){e=T("h2"),n=T("b"),s=D(r),i=D("/"),a=D(o),b(e,"class","text-2xl")},m(l,c){w(l,e,c),S(e,n),S(n,s),S(e,i),S(e,a)},p(l,c){c[0]&256&&r!==(r=l[8].domain+"")&&rt(s,r),c[0]&256&&o!==(o=l[8].login+"")&&rt(a,o)},d(l){l&&v(e)}}}function oc(t){let e;return{c(){e=T("h2"),e.textContent="New Application",b(e,"class","text-2xl")},m(n,r){w(n,e,r)},p:K,d(n){n&&v(e)}}}function ac(t){let e;return{c(){e=D("Copied")},m(n,r){w(n,e,r)},i:K,o:K,d(n){n&&v(e)}}}function lc(t){let e;return{c(){e=D("Copy password")},m(n,r){w(n,e,r)},i:K,o:K,d(n){n&&v(e)}}}function cc(t){let e,n,r,s;return n=new ei({}),{c(){e=T("div"),le(n.$$.fragment),r=D(" Computing..."),b(e,"class","flex gap-2 items-center")},m(i,o){w(i,e,o),ie(n,e,null),S(e,r),s=!0},i(i){s||(Z(n.$$.fragment,i),s=!0)},o(i){F(n.$$.fragment,i),s=!1},d(i){i&&v(e),oe(n)}}}function uc(t){let e;return{c(){e=D("Compute password")},m(n,r){w(n,e,r)},i:K,o:K,d(n){n&&v(e)}}}function As(t){let e,n,r,s;function i(l,c){return l[6]===l[2].Initial?fc:dc}let o=i(t),a=o(t);return{c(){e=T("button"),a.c(),b(e,"type","button"),b(e,"class","px-4 py-2 last:rounded-r bg-red-500 hover:bg-red-600 text-white disabled:bg-red-400"),e.disabled=n=t[6]===t[2].Safety},m(l,c){w(l,e,c),a.m(e,null),r||(s=De(e,"click",Ge(t[16])),r=!0)},p(l,c){o!==(o=i(l))&&(a.d(1),a=o(l),a&&(a.c(),a.m(e,null))),c[0]&68&&n!==(n=l[6]===l[2].Safety)&&(e.disabled=n)},d(l){l&&v(e),a.d(),r=!1,s()}}}function dc(t){let e;return{c(){e=D("Confirm Deletion")},m(n,r){w(n,e,r)},d(n){n&&v(e)}}}function fc(t){let e;return{c(){e=D("Delete")},m(n,r){w(n,e,r)},d(n){n&&v(e)}}}function pc(t){let e,n,r,s,i,o,a,l,c,u,f,d,p,m,h,k,A,j,M,g,E,_,R,P,J,ke,z,_e,pe,Ae,be,Q,Ie,Oe,$,q,Y,ue,ce,re,Ee,me;function Ze(y,N){return y[0]?oc:ic}let Ce=Ze(t),xe=Ce(t);const Pe=[uc,cc,lc,ac],$e=[];function we(y,N){return y[5]===y[1].Initial?0:y[5]===y[1].Computing?1:y[5]===y[1].Computed?2:3}s=we(t),i=$e[s]=Pe[s](t),m=new ot({props:{name:"domain",label:"Domain name",placeholder:"fosstodon.org",hint:"Examples: bookwyrm.social, proton.me, etc"}}),m.$on("input",t[21]),m.$on("change",t[22]),m.$on("focus",t[23]),m.$on("blur",t[24]),k=new ot({props:{name:"login",type:"email",label:"Username",placeholder:"my@email.com",hint:"Examples: my_user_name, derivepass82"}}),k.$on("input",t[25]),k.$on("change",t[26]),k.$on("focus",t[27]),k.$on("blur",t[28]),j=new ot({props:{name:"revision",type:"number",label:"Revision",hint:"Increment this by one to change the password"}}),j.$on("input",t[29]),j.$on("change",t[30]),j.$on("focus",t[31]),j.$on("blur",t[32]),J=new ot({props:{name:"allowedChars",label:"Allowed characters",hint:"Characters that can be present in the password"}}),J.$on("input",t[33]),J.$on("change",t[34]),J.$on("focus",t[35]),J.$on("blur",t[36]),z=new ot({props:{name:"requiredChars",label:"Required characters",hint:"Characters that must be present in the password"}}),z.$on("input",t[37]),z.$on("change",t[38]),z.$on("focus",t[39]),z.$on("blur",t[40]),pe=new ot({props:{name:"passwordLen",type:"number",label:"Password length"}}),pe.$on("input",t[41]),pe.$on("change",t[42]),pe.$on("focus",t[43]),pe.$on("blur",t[44]);let O=!t[0]&&As(t);return{c(){xe.c(),e=U(),n=T("section"),r=T("button"),i.c(),a=U(),l=T("button"),l.textContent="Edit",c=U(),u=T("button"),f=D("Back"),d=U(),p=T("form"),le(m.$$.fragment),h=U(),le(k.$$.fragment),A=U(),le(j.$$.fragment),M=U(),g=T("button"),g.textContent="Extra",E=U(),_=T("section"),R=T("p"),R.textContent="Most applications don't require editing options below.",P=U(),le(J.$$.fragment),ke=U(),le(z.$$.fragment),_e=U(),le(pe.$$.fragment),Ae=U(),be=T("section"),Q=T("button"),Ie=D("Save"),$=U(),q=T("button"),Y=D("Reset"),ce=U(),O&&O.c(),r.disabled=o=!t[9]||t[5]===t[1].Computing,b(r,"class","px-4 py-2 rounded bg-blue-600 hover:bg-blue-700 active:bg-blue-800 text-white disabled:bg-blue-400"),b(l,"class","text-blue-600 hover:text-blue-700 hover:underline"),b(u,"class","text-blue-600 hover:text-blue-700 hover:enabled:underline disabled:text-gray-400"),u.disabled=t[7],b(n,"class","mt-2 mb-4 flex gap-4 content-center"),b(g,"type","button"),b(g,"class","my-2 px-4 py-2 rounded border border-red-500 hover:border-red-600 text-red-500 hover:text-red-600"),b(R,"class","text-red-500 my-2"),b(_,"class","my-2"),gn(_,"hidden",!t[4]),b(Q,"type","submit"),Q.disabled=Oe=t[9]&&!t[7],b(Q,"class","px-4 py-2 rounded-l bg-blue-600 hover:bg-blue-700 active:bg-blue-800 text-white disabled:bg-blue-400"),b(q,"type","reset"),q.disabled=ue=!t[7],b(q,"class","px-4 py-2 last:rounded-r bg-gray-500 hover:bg-gray-600 text-white disabled:bg-gray-400"),b(be,"class","flex my-2"),gn(p,"hidden",!t[3])},m(y,N){xe.m(y,N),w(y,e,N),w(y,n,N),S(n,r),$e[s].m(r,null),S(n,a),S(n,l),S(n,c),S(n,u),S(u,f),w(y,d,N),w(y,p,N),ie(m,p,null),S(p,h),ie(k,p,null),S(p,A),ie(j,p,null),S(p,M),S(p,g),S(p,E),S(p,_),S(_,R),S(_,P),ie(J,_,null),S(_,ke),ie(z,_,null),S(_,_e),ie(pe,_,null),S(p,Ae),S(p,be),S(be,Q),S(Q,Ie),S(be,$),S(be,q),S(q,Y),S(be,ce),O&&O.m(be,null),re=!0,Ee||(me=[De(r,"click",Ge(t[10])),De(l,"click",Ge(t[17])),De(u,"click",Ge(t[18])),De(g,"click",Ge(t[19])),De(q,"click",Ge(t[13])),Vt(t[11].call(null,p))],Ee=!0)},p(y,N){Ce===(Ce=Ze(y))&&xe?xe.p(y,N):(xe.d(1),xe=Ce(y),xe&&(xe.c(),xe.m(e.parentNode,e)));let V=s;s=we(y),s!==V&&(Ye(),F($e[V],1,1,()=>{$e[V]=null}),Ke(),i=$e[s],i||(i=$e[s]=Pe[s](y),i.c()),Z(i,1),i.m(r,null)),(!re||N[0]&546&&o!==(o=!y[9]||y[5]===y[1].Computing))&&(r.disabled=o),(!re||N[0]&128)&&(u.disabled=y[7]),(!re||N[0]&16)&&gn(_,"hidden",!y[4]),(!re||N[0]&640&&Oe!==(Oe=y[9]&&!y[7]))&&(Q.disabled=Oe),(!re||N[0]&128&&ue!==(ue=!y[7]))&&(q.disabled=ue),y[0]?O&&(O.d(1),O=null):O?O.p(y,N):(O=As(y),O.c(),O.m(be,null)),(!re||N[0]&8)&&gn(p,"hidden",!y[3])},i(y){re||(Z(i),Z(m.$$.fragment,y),Z(k.$$.fragment,y),Z(j.$$.fragment,y),Z(J.$$.fragment,y),Z(z.$$.fragment,y),Z(pe.$$.fragment,y),re=!0)},o(y){F(i),F(m.$$.fragment,y),F(k.$$.fragment,y),F(j.$$.fragment,y),F(J.$$.fragment,y),F(z.$$.fragment,y),F(pe.$$.fragment,y),re=!1},d(y){xe.d(y),y&&v(e),y&&v(n),$e[s].d(),y&&v(d),y&&v(p),oe(m),oe(k),oe(j),oe(J),oe(z),oe(pe),O&&O.d(),Ee=!1,et(me)}}}function mc(t,e,n){let r,s,i,o;Qe(t,it,C=>n(48,i=C));let{app:a}=e,{isNew:l}=e;var c;(function(C){C[C.Initial=0]="Initial",C[C.Computing=1]="Computing",C[C.Computed=2]="Computed",C[C.Copied=3]="Copied"})(c||(c={}));var u;(function(C){C[C.Initial=0]="Initial",C[C.Safety=1]="Safety",C[C.Confirming=2]="Confirming"})(u||(u={}));let f=l,d=!1,p,m=c.Initial,h=u.Initial,k,A;jr(()=>{k!==void 0&&(clearTimeout(k),k=void 0),A!==void 0&&(clearTimeout(A),A=void 0)});async function j(){const C=i;if(C===void 0){ln("/");return}if(m===c.Initial){n(5,m=c.Computing),p=await Xo(C,{...a,...s}),n(5,m=c.Computed);return}navigator.clipboard.writeText(p!=null?p:""),k!==void 0&&clearTimeout(k),n(5,m=c.Copied),k=setTimeout(()=>{k=void 0,n(5,m=c.Computed)},5*gr)}const M=Ls(),{form:g,data:E,reset:_,setInitialValues:R,isDirty:P,isValid:J}=ii({initialValues:a,onSubmit(C){R(C),er(P,r=!1,r),M("submit",C)},extend:[sc({schema:ar}),Lo]});Qe(t,E,C=>n(8,s=C)),Qe(t,P,C=>n(7,r=C)),Qe(t,J,C=>n(9,o=C));function ke(){if(h===u.Initial)n(6,h=u.Safety),A=setTimeout(()=>{A=void 0,n(6,h=u.Confirming)},5*gr);else{if(h===u.Safety)return;h===u.Confirming&&(M("delete"),n(6,h=u.Initial))}}function z(){n(3,f=!f)}function _e(){Wt("/applications")}function pe(){n(4,d=!d)}function Ae(C){ee.call(this,t,C)}function be(C){ee.call(this,t,C)}function Q(C){ee.call(this,t,C)}function Ie(C){ee.call(this,t,C)}function Oe(C){ee.call(this,t,C)}function $(C){ee.call(this,t,C)}function q(C){ee.call(this,t,C)}function Y(C){ee.call(this,t,C)}function ue(C){ee.call(this,t,C)}function ce(C){ee.call(this,t,C)}function re(C){ee.call(this,t,C)}function Ee(C){ee.call(this,t,C)}function me(C){ee.call(this,t,C)}function Ze(C){ee.call(this,t,C)}function Ce(C){ee.call(this,t,C)}function xe(C){ee.call(this,t,C)}function Pe(C){ee.call(this,t,C)}function $e(C){ee.call(this,t,C)}function we(C){ee.call(this,t,C)}function O(C){ee.call(this,t,C)}function y(C){ee.call(this,t,C)}function N(C){ee.call(this,t,C)}function V(C){ee.call(this,t,C)}function Ne(C){ee.call(this,t,C)}return t.$$set=C=>{"app"in C&&n(20,a=C.app),"isNew"in C&&n(0,l=C.isNew)},[l,c,u,f,d,m,h,r,s,o,j,g,E,_,P,J,ke,z,_e,pe,a,Ae,be,Q,Ie,Oe,$,q,Y,ue,ce,re,Ee,me,Ze,Ce,xe,Pe,$e,we,O,y,N,V,Ne]}class hc extends Be{constructor(e){super(),qe(this,e,mc,pc,Me,{app:20,isNew:0},null,[-1,-1])}}function yc(t){let e=t[6]()+"",n;return{c(){n=D(e)},m(r,s){w(r,n,s)},p:K,i:K,o:K,d(r){r&&v(n)}}}function _c(t){let e,n;return e=new hc({props:{isNew:t[1],app:t[0]}}),e.$on("submit",t[2]),e.$on("delete",t[3]),{c(){le(e.$$.fragment)},m(r,s){ie(e,r,s),n=!0},p(r,s){const i={};s&2&&(i.isNew=r[1]),s&1&&(i.app=r[0]),e.$set(i)},i(r){n||(Z(e.$$.fragment,r),n=!0)},o(r){F(e.$$.fragment,r),n=!1},d(r){oe(e,r)}}}function gc(t){let e,n,r,s;const i=[_c,yc],o=[];function a(l,c){return l[0]?0:1}return e=a(t),n=o[e]=i[e](t),{c(){n.c(),r=Tt()},m(l,c){o[e].m(l,c),w(l,r,c),s=!0},p(l,[c]){let u=e;e=a(l),e===u?o[e].p(l,c):(Ye(),F(o[u],1,1,()=>{o[u]=null}),Ke(),n=o[e],n?n.p(l,c):(n=o[e]=i[e](l),n.c()),Z(n,1),n.m(r.parentNode,r))},i(l){s||(Z(n),s=!0)},o(l){F(n),s=!1},d(l){o[e].d(l),l&&v(r)}}}function bc(t,e,n){let r,s,i,o;Qe(t,it,f=>n(7,i=f)),Qe(t,sn,f=>n(5,o=f));let{params:a}=e;function l({detail:f}){const d=i;if(d===void 0){Wt("/login");return}sn.save(d,f),r&&Wt(`/applications/${f.id}`)}function c(){s&&sn.deleteById(s.id),Wt("/applications")}const u=()=>ln("/applications");return t.$$set=f=>{"params"in f&&n(4,a=f.params)},t.$$.update=()=>{t.$$.dirty&16&&n(1,r=a.id==="new"),t.$$.dirty&50&&n(0,s=r?sn.getTemplate():o.find(f=>f.id===a.id))},[s,r,l,c,a,o,u]}class vc extends Be{constructor(e){super(),qe(this,e,bc,gc,Me,{params:4})}}const On=[];let bi;function vi(t){const e=t.pattern.test(bi);Es(t,t.className,e),Es(t,t.inactiveClassName,!e)}function Es(t,e,n){(e||"").split(" ").forEach(r=>{!r||(t.node.classList.remove(r),n&&t.node.classList.add(r))})}nr.subscribe(t=>{bi=t.location+(t.querystring?"?"+t.querystring:""),On.map(vi)});function wc(t,e){if(e&&(typeof e=="string"||typeof e=="object"&&e instanceof RegExp)?e={path:e}:e=e||{},!e.path&&t.hasAttribute("href")&&(e.path=t.getAttribute("href"),e.path&&e.path.length>1&&e.path.charAt(0)=="#"&&(e.path=e.path.substring(1))),e.className||(e.className="active"),!e.path||typeof e.path=="string"&&(e.path.length<1||e.path.charAt(0)!="/"&&e.path.charAt(0)!="*"))throw Error('Invalid value for "path" argument');const{pattern:n}=typeof e.path=="string"?Us(e.path):{pattern:e.path},r={node:t,className:e.className,inactiveClassName:e.inactiveClassName,pattern:n};return On.push(r),vi(r),{destroy(){On.splice(On.indexOf(r),1)}}}function kc(t){let e,n,r,s;const i=t[2].default,o=Kn(i,t,t[1],null);return{c(){e=T("a"),o&&o.c(),b(e,"href",t[0]),b(e,"class","text-zinc-500 hover:text-black")},m(a,l){w(a,e,l),o&&o.m(e,null),n=!0,r||(s=[Vt(Mr.call(null,e)),Vt(wc.call(null,e,{className:"text-black"}))],r=!0)},p(a,[l]){o&&o.p&&(!n||l&2)&&Gn(o,i,a,a[1],n?Xn(i,a[1],l,null):Qn(a[1]),null),(!n||l&1)&&b(e,"href",a[0])},i(a){n||(Z(o,a),n=!0)},o(a){F(o,a),n=!1},d(a){a&&v(e),o&&o.d(a),r=!1,et(s)}}}function Ac(t,e,n){let{$$slots:r={},$$scope:s}=e,{href:i}=e;return t.$$set=o=>{"href"in o&&n(0,i=o.href),"$$scope"in o&&n(1,s=o.$$scope)},[i,s,r]}class Ht extends Be{constructor(e){super(),qe(this,e,Ac,kc,Me,{href:0})}}function Cs(t){let e,n,r,s,i,o,a,l,c;return{c(){e=T("header"),n=D(`New version is available:
  `),r=T("button"),r.textContent="Reload",s=U(),i=T("button"),i.textContent="Skip",b(r,"type","submit"),b(r,"class","px-4 py-2 rounded bg-blue-600 hover:bg-blue-700 active:bg-blue-800 text-white"),b(i,"type","reset"),b(i,"class","px-4 py-2 rounded text-yellow-400 hover:text-yellow-500 hover:underline"),b(e,"class","bg-white px-4 py-2 flex items-center gap-4 border-b")},m(u,f){w(u,e,f),S(e,n),S(e,r),S(e,s),S(e,i),a=!0,l||(c=[De(r,"click",Ge(t[6])),De(i,"click",Ge(t[7]))],l=!0)},p:K,i(u){a||(an(()=>{o||(o=Jr(e,Yr,{},!0)),o.run(1)}),a=!0)},o(u){o||(o=Jr(e,Yr,{},!1)),o.run(0),a=!1},d(u){u&&v(e),u&&o&&o.end(),l=!1,et(c)}}}function Ec(t){let e,n;return{c(){e=T("img"),Ts(e.src,n=Js)||b(e,"src",n),b(e,"width","32"),b(e,"height","32"),b(e,"alt","Logotype")},m(r,s){w(r,e,s)},p:K,d(r){r&&v(e)}}}function Cc(t){let e,n;return e=new Ht({props:{href:"/applications",$$slots:{default:[xc]},$$scope:{ctx:t}}}),{c(){le(e.$$.fragment)},m(r,s){ie(e,r,s),n=!0},i(r){n||(Z(e.$$.fragment,r),n=!0)},o(r){F(e.$$.fragment,r),n=!1},d(r){oe(e,r)}}}function Sc(t){let e,n;return e=new Ht({props:{href:"/login",$$slots:{default:[Tc]},$$scope:{ctx:t}}}),{c(){le(e.$$.fragment)},m(r,s){ie(e,r,s),n=!0},i(r){n||(Z(e.$$.fragment,r),n=!0)},o(r){F(e.$$.fragment,r),n=!1},d(r){oe(e,r)}}}function xc(t){let e;return{c(){e=D("Applications")},m(n,r){w(n,e,r)},d(n){n&&v(e)}}}function Tc(t){let e;return{c(){e=D("Master Password")},m(n,r){w(n,e,r)},d(n){n&&v(e)}}}function $c(t){let e;return{c(){e=D("Sync")},m(n,r){w(n,e,r)},d(n){n&&v(e)}}}function Oc(t){let e;return{c(){e=D("About")},m(n,r){w(n,e,r)},d(n){n&&v(e)}}}function Ss(t){let e,n;return e=new Ht({props:{href:"/logout",$$slots:{default:[Nc]},$$scope:{ctx:t}}}),{c(){le(e.$$.fragment)},m(r,s){ie(e,r,s),n=!0},i(r){n||(Z(e.$$.fragment,r),n=!0)},o(r){F(e.$$.fragment,r),n=!1},d(r){oe(e,r)}}}function Nc(t){let e;return{c(){e=D("Logout")},m(n,r){w(n,e,r)},d(n){n&&v(e)}}}function Ic(t){let e,n,r=t[10].message+"",s;return{c(){e=T("b"),n=D("Failed to initalize cryptography: "),s=D(r),b(e,"class","text-red-500")},m(i,o){w(i,e,o),S(e,n),S(e,s)},p:K,i:K,o:K,d(i){i&&v(e)}}}function jc(t){let e,n;return e=new to({props:{routes:t[4]}}),e.$on("conditionsFailed",t[5]),{c(){le(e.$$.fragment)},m(r,s){ie(e,r,s),n=!0},p:K,i(r){n||(Z(e.$$.fragment,r),n=!0)},o(r){F(e.$$.fragment,r),n=!1},d(r){oe(e,r)}}}function Rc(t){return{c:K,m:K,p:K,i:K,o:K,d:K}}function Lc(t){let e,n,r,s,i,o,a,l,c,u,f,d,p,m,h=t[1]&&Cs(t);r=new Ht({props:{href:"/",$$slots:{default:[Ec]},$$scope:{ctx:t}}});const k=[Sc,Cc],A=[];function j(E,_){return E[0]===void 0?0:1}i=j(t),o=A[i]=k[i](t),l=new Ht({props:{href:"/sync",$$slots:{default:[$c]},$$scope:{ctx:t}}}),u=new Ht({props:{href:"/about",$$slots:{default:[Oc]},$$scope:{ctx:t}}});let M=t[0]!==void 0&&Ss(t),g={ctx:t,current:null,token:null,hasCatch:!0,pending:Rc,then:jc,catch:Ic,error:10,blocks:[,,,]};return Wi(ho,g),{c(){h&&h.c(),e=U(),n=T("nav"),le(r.$$.fragment),s=U(),o.c(),a=U(),le(l.$$.fragment),c=U(),le(u.$$.fragment),f=U(),M&&M.c(),d=U(),p=T("div"),g.block.c(),b(n,"class","flex gap-4 items-center p-4"),b(p,"class","container mx-auto max-w-screen-md p-4")},m(E,_){h&&h.m(E,_),w(E,e,_),w(E,n,_),ie(r,n,null),S(n,s),A[i].m(n,null),S(n,a),ie(l,n,null),S(n,c),ie(u,n,null),S(n,f),M&&M.m(n,null),w(E,d,_),w(E,p,_),g.block.m(p,g.anchor=null),g.mount=()=>p,g.anchor=null,m=!0},p(E,[_]){t=E,t[1]?h?(h.p(t,_),_&2&&Z(h,1)):(h=Cs(t),h.c(),Z(h,1),h.m(e.parentNode,e)):h&&(Ye(),F(h,1,1,()=>{h=null}),Ke());const R={};_&2048&&(R.$$scope={dirty:_,ctx:t}),r.$set(R);let P=i;i=j(t),i!==P&&(Ye(),F(A[P],1,1,()=>{A[P]=null}),Ke(),o=A[i],o||(o=A[i]=k[i](t),o.c()),Z(o,1),o.m(n,a));const J={};_&2048&&(J.$$scope={dirty:_,ctx:t}),l.$set(J);const ke={};_&2048&&(ke.$$scope={dirty:_,ctx:t}),u.$set(ke),t[0]!==void 0?M?_&1&&Z(M,1):(M=Ss(t),M.c(),Z(M,1),M.m(n,null)):M&&(Ye(),F(M,1,1,()=>{M=null}),Ke()),zi(g,t,_)},i(E){m||(Z(h),Z(r.$$.fragment,E),Z(o),Z(l.$$.fragment,E),Z(u.$$.fragment,E),Z(M),Z(g.block),m=!0)},o(E){F(h),F(r.$$.fragment,E),F(o),F(l.$$.fragment,E),F(u.$$.fragment,E),F(M);for(let _=0;_<3;_+=1){const R=g.blocks[_];F(R)}m=!1},d(E){h&&h.d(E),E&&v(e),E&&v(n),oe(r),A[i].d(),oe(l),oe(u),M&&M.d(),E&&v(d),E&&v(p),g.block.d(),g.token=null,g=null}}}function Mc(t,e,n){let r,s;Qe(t,it,p=>n(0,r=p));const{needRefresh:i,updateServiceWorker:o}=oo({onRegistered(p){!p||setInterval(()=>p.update(),Hs)}});Qe(t,i,p=>n(1,s=p));const a=()=>r!==void 0,c={"/":fr,"/about":fr,"/sync":Ul,"/login":dr({component:ra,conditions:[()=>r===void 0]}),"/applications":dr({component:nc,conditions:[a]}),"/applications/:id":dr({component:vc,conditions:[a]}),"/logout":ia,"/*":fr};function u(){ln(r===void 0?"/login":"/applications")}return[r,s,i,o,c,u,()=>o(),()=>er(i,s=!1,s)]}class Zc extends Be{constructor(e){super(),qe(this,e,Mc,Lc,Me,{})}}const wi=document.getElementById("app");if(!wi)throw new Error("#app not found");new Zc({target:wi});
//# sourceMappingURL=index.0bc30dd0.js.map
